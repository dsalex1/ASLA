(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yp(e,t){const n=new Set(e.split(","));return i=>n.has(i)}const Pt={},Da=[],pi=()=>{},SD=()=>!1,Gf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),_p=e=>e.startsWith("onUpdate:"),Qt=Object.assign,bp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ED=Object.prototype.hasOwnProperty,at=(e,t)=>ED.call(e,t),Le=Array.isArray,Na=e=>Kf(e)==="[object Map]",NE=e=>Kf(e)==="[object Set]",We=e=>typeof e=="function",$t=e=>typeof e=="string",As=e=>typeof e=="symbol",Ct=e=>e!==null&&typeof e=="object",OE=e=>(Ct(e)||We(e))&&We(e.then)&&We(e.catch),ME=Object.prototype.toString,Kf=e=>ME.call(e),TD=e=>Kf(e).slice(8,-1),LE=e=>Kf(e)==="[object Object]",wp=e=>$t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gu=yp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},CD=/-(\w)/g,ri=qf(e=>e.replace(CD,(t,n)=>n?n.toUpperCase():"")),kD=/\B([A-Z])/g,Ho=qf(e=>e.replace(kD,"-$1").toLowerCase()),lr=qf(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pm=qf(e=>e?`on${lr(e)}`:""),Is=(e,t)=>!Object.is(e,t),Dd=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},FE=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},kg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},BE=e=>{const t=$t(e)?Number(e):NaN;return isNaN(t)?e:t};let Ub;const $E=()=>Ub||(Ub=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ip(e){if(Le(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=$t(i)?RD(i):Ip(i);if(r)for(const s in r)t[s]=r[s]}return t}else if($t(e)||Ct(e))return e}const AD=/;(?![^(]*\))/g,PD=/:([^]+)/,xD=/\/\*[^]*?\*\//g;function RD(e){const t={};return e.replace(xD,"").split(AD).forEach(n=>{if(n){const i=n.split(PD);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Sp(e){let t="";if($t(e))t=e;else if(Le(e))for(let n=0;n<e.length;n++){const i=Sp(e[n]);i&&(t+=i+" ")}else if(Ct(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const VD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DD=yp(VD);function UE(e){return!!e||e===""}const HE=e=>!!(e&&e.__v_isRef===!0),_o=e=>$t(e)?e:e==null?"":Le(e)||Ct(e)&&(e.toString===ME||!We(e.toString))?HE(e)?_o(e.value):JSON.stringify(e,jE,2):String(e),jE=(e,t)=>HE(t)?jE(e,t.value):Na(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[xm(i,s)+" =>"]=r,n),{})}:NE(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>xm(n))}:As(t)?xm(t):Ct(t)&&!Le(t)&&!LE(t)?String(t):t,xm=(e,t="")=>{var n;return As(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xn;class zE{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xn,!t&&Xn&&(this.index=(Xn.scopes||(Xn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Xn;try{return Xn=this,t()}finally{Xn=n}}}on(){Xn=this}off(){Xn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function pl(e){return new zE(e)}function ND(e,t=Xn){t&&t.active&&t.effects.push(e)}function WE(){return Xn}function wn(e){Xn&&Xn.cleanups.push(e)}let co;class Ep{constructor(t,n,i,r){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ND(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ps();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(OD(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),xs()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ms,n=co;try{return ms=!0,co=this,this._runnings++,Hb(this),this.fn()}finally{jb(this),this._runnings--,co=n,ms=t}}stop(){this.active&&(Hb(this),jb(this),this.onStop&&this.onStop(),this.active=!1)}}function OD(e){return e.value}function Hb(e){e._trackId++,e._depsLength=0}function jb(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)GE(e.deps[t],e);e.deps.length=e._depsLength}}function GE(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let ms=!0,Ag=0;const KE=[];function Ps(){KE.push(ms),ms=!1}function xs(){const e=KE.pop();ms=e===void 0?!0:e}function Tp(){Ag++}function Cp(){for(Ag--;!Ag&&Pg.length;)Pg.shift()()}function qE(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&GE(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Pg=[];function YE(e,t,n){Tp();for(const i of e.keys()){let r;i._dirtyLevel<t&&(r??(r=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(r??(r=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Pg.push(i.scheduler)))}Cp()}const QE=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Zd=new WeakMap,fo=Symbol(""),xg=Symbol("");function Kn(e,t,n){if(ms&&co){let i=Zd.get(e);i||Zd.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=QE(()=>i.delete(n))),qE(co,r)}}function Tr(e,t,n,i,r,s){const o=Zd.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&Le(e)){const l=Number(i);o.forEach((u,c)=>{(c==="length"||!As(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":Le(e)?wp(n)&&a.push(o.get("length")):(a.push(o.get(fo)),Na(e)&&a.push(o.get(xg)));break;case"delete":Le(e)||(a.push(o.get(fo)),Na(e)&&a.push(o.get(xg)));break;case"set":Na(e)&&a.push(o.get(fo));break}Tp();for(const l of a)l&&YE(l,4);Cp()}function MD(e,t){const n=Zd.get(e);return n&&n.get(t)}const LD=yp("__proto__,__v_isRef,__isVue"),XE=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(As)),zb=FD();function FD(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Be(this);for(let s=0,o=this.length;s<o;s++)Kn(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(Be)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ps(),Tp();const i=Be(this)[t].apply(this,n);return Cp(),xs(),i}}),e}function BD(e){As(e)||(e=String(e));const t=Be(this);return Kn(t,"has",e),t.hasOwnProperty(e)}class JE{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?JD:nT:s?tT:eT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Le(t);if(!r){if(o&&at(zb,n))return Reflect.get(zb,n,i);if(n==="hasOwnProperty")return BD}const a=Reflect.get(t,n,i);return(As(n)?XE.has(n):LD(n))||(r||Kn(t,"get",n),s)?a:bt(a)?o&&wp(n)?a:a.value:Ct(a)?r?yl(a):rn(a):a}}class ZE extends JE{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const l=bo(s);if(!za(i)&&!bo(i)&&(s=Be(s),i=Be(i)),!Le(t)&&bt(s)&&!bt(i))return l?!1:(s.value=i,!0)}const o=Le(t)&&wp(n)?Number(n)<t.length:at(t,n),a=Reflect.set(t,n,i,r);return t===Be(r)&&(o?Is(i,s)&&Tr(t,"set",n,i):Tr(t,"add",n,i)),a}deleteProperty(t,n){const i=at(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Tr(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!As(n)||!XE.has(n))&&Kn(t,"has",n),i}ownKeys(t){return Kn(t,"iterate",Le(t)?"length":fo),Reflect.ownKeys(t)}}class $D extends JE{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const UD=new ZE,HD=new $D,jD=new ZE(!0);const kp=e=>e,Yf=e=>Reflect.getPrototypeOf(e);function td(e,t,n=!1,i=!1){e=e.__v_raw;const r=Be(e),s=Be(t);n||(Is(t,s)&&Kn(r,"get",t),Kn(r,"get",s));const{has:o}=Yf(r),a=i?kp:n?xp:Nu;if(o.call(r,t))return a(e.get(t));if(o.call(r,s))return a(e.get(s));e!==r&&e.get(t)}function nd(e,t=!1){const n=this.__v_raw,i=Be(n),r=Be(e);return t||(Is(e,r)&&Kn(i,"has",e),Kn(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function id(e,t=!1){return e=e.__v_raw,!t&&Kn(Be(e),"iterate",fo),Reflect.get(e,"size",e)}function Wb(e,t=!1){!t&&!za(e)&&!bo(e)&&(e=Be(e));const n=Be(this);return Yf(n).has.call(n,e)||(n.add(e),Tr(n,"add",e,e)),this}function Gb(e,t,n=!1){!n&&!za(t)&&!bo(t)&&(t=Be(t));const i=Be(this),{has:r,get:s}=Yf(i);let o=r.call(i,e);o||(e=Be(e),o=r.call(i,e));const a=s.call(i,e);return i.set(e,t),o?Is(t,a)&&Tr(i,"set",e,t):Tr(i,"add",e,t),this}function Kb(e){const t=Be(this),{has:n,get:i}=Yf(t);let r=n.call(t,e);r||(e=Be(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&Tr(t,"delete",e,void 0),s}function qb(){const e=Be(this),t=e.size!==0,n=e.clear();return t&&Tr(e,"clear",void 0,void 0),n}function rd(e,t){return function(i,r){const s=this,o=s.__v_raw,a=Be(o),l=t?kp:e?xp:Nu;return!e&&Kn(a,"iterate",fo),o.forEach((u,c)=>i.call(r,l(u),l(c),s))}}function sd(e,t,n){return function(...i){const r=this.__v_raw,s=Be(r),o=Na(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...i),c=n?kp:t?xp:Nu;return!t&&Kn(s,"iterate",l?xg:fo),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function qr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function zD(){const e={get(s){return td(this,s)},get size(){return id(this)},has:nd,add:Wb,set:Gb,delete:Kb,clear:qb,forEach:rd(!1,!1)},t={get(s){return td(this,s,!1,!0)},get size(){return id(this)},has:nd,add(s){return Wb.call(this,s,!0)},set(s,o){return Gb.call(this,s,o,!0)},delete:Kb,clear:qb,forEach:rd(!1,!0)},n={get(s){return td(this,s,!0)},get size(){return id(this,!0)},has(s){return nd.call(this,s,!0)},add:qr("add"),set:qr("set"),delete:qr("delete"),clear:qr("clear"),forEach:rd(!0,!1)},i={get(s){return td(this,s,!0,!0)},get size(){return id(this,!0)},has(s){return nd.call(this,s,!0)},add:qr("add"),set:qr("set"),delete:qr("delete"),clear:qr("clear"),forEach:rd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=sd(s,!1,!1),n[s]=sd(s,!0,!1),t[s]=sd(s,!1,!0),i[s]=sd(s,!0,!0)}),[e,n,t,i]}const[WD,GD,KD,qD]=zD();function Ap(e,t){const n=t?e?qD:KD:e?GD:WD;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(at(n,r)&&r in i?n:i,r,s)}const YD={get:Ap(!1,!1)},QD={get:Ap(!1,!0)},XD={get:Ap(!0,!1)};const eT=new WeakMap,tT=new WeakMap,nT=new WeakMap,JD=new WeakMap;function ZD(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eN(e){return e.__v_skip||!Object.isExtensible(e)?0:ZD(TD(e))}function rn(e){return bo(e)?e:Pp(e,!1,UD,YD,eT)}function iT(e){return Pp(e,!1,jD,QD,tT)}function yl(e){return Pp(e,!0,HD,XD,nT)}function Pp(e,t,n,i,r){if(!Ct(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=eN(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function ho(e){return bo(e)?ho(e.__v_raw):!!(e&&e.__v_isReactive)}function bo(e){return!!(e&&e.__v_isReadonly)}function za(e){return!!(e&&e.__v_isShallow)}function rT(e){return e?!!e.__v_raw:!1}function Be(e){const t=e&&e.__v_raw;return t?Be(t):e}function Qf(e){return Object.isExtensible(e)&&FE(e,"__v_skip",!0),e}const Nu=e=>Ct(e)?rn(e):e,xp=e=>Ct(e)?yl(e):e;class sT{constructor(t,n,i,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ep(()=>t(this._value),()=>Nd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Be(this);return(!t._cacheable||t.effect.dirty)&&Is(t._value,t._value=t.effect.run())&&Nd(t,4),oT(t),t.effect._dirtyLevel>=2&&Nd(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function tN(e,t,n=!1){let i,r;const s=We(e);return s?(i=e,r=pi):(i=e.get,r=e.set),new sT(i,r,s||!r,n)}function oT(e){var t;ms&&co&&(e=Be(e),qE(co,(t=e.dep)!=null?t:e.dep=QE(()=>e.dep=void 0,e instanceof sT?e:void 0)))}function Nd(e,t=4,n,i){e=Be(e);const r=e.dep;r&&YE(r,t)}function bt(e){return!!(e&&e.__v_isRef===!0)}function le(e){return aT(e,!1)}function ye(e){return aT(e,!0)}function aT(e,t){return bt(e)?e:new nN(e,t)}class nN{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Be(t),this._value=n?t:Nu(t)}get value(){return oT(this),this._value}set value(t){const n=this.__v_isShallow||za(t)||bo(t);t=n?t:Be(t),Is(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:Nu(t),Nd(this,4))}}function gt(e){return bt(e)?e.value:e}const iN={get:(e,t,n)=>gt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return bt(r)&&!bt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function lT(e){return ho(e)?e:new Proxy(e,iN)}function Rs(e){const t=Le(e)?new Array(e.length):{};for(const n in e)t[n]=uT(e,n);return t}class rN{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return MD(Be(this._object),this._key)}}class sN{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Q(e,t,n){return bt(e)?e:We(e)?new sN(e):Ct(e)&&arguments.length>1?uT(e,t,n):le(e)}function uT(e,t,n){const i=e[t];return bt(i)?i:new rN(e,t,n)}/**
* @vue/runtime-core v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gs(e,t,n,i){try{return i?e(...i):e()}catch(r){hc(r,t,n)}}function bi(e,t,n,i){if(We(e)){const r=gs(e,t,n,i);return r&&OE(r)&&r.catch(s=>{hc(s,t,n)}),r}if(Le(e)){const r=[];for(let s=0;s<e.length;s++)r.push(bi(e[s],t,n,i));return r}}function hc(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Ps(),gs(l,null,10,[e,o,a]),xs();return}}oN(e,n,r,i)}function oN(e,t,n,i=!0){console.error(e)}let Ou=!1,Rg=!1;const xn=[];let qi=0;const Oa=[];let ns=null,eo=0;const cT=Promise.resolve();let Rp=null;function Ke(e){const t=Rp||cT;return e?t.then(this?e.bind(this):e):t}function aN(e){let t=qi+1,n=xn.length;for(;t<n;){const i=t+n>>>1,r=xn[i],s=Mu(r);s<e||s===e&&r.pre?t=i+1:n=i}return t}function Vp(e){(!xn.length||!xn.includes(e,Ou&&e.allowRecurse?qi+1:qi))&&(e.id==null?xn.push(e):xn.splice(aN(e.id),0,e),dT())}function dT(){!Ou&&!Rg&&(Rg=!0,Rp=cT.then(hT))}function lN(e){const t=xn.indexOf(e);t>qi&&xn.splice(t,1)}function Vg(e){Le(e)?Oa.push(...e):(!ns||!ns.includes(e,e.allowRecurse?eo+1:eo))&&Oa.push(e),dT()}function Yb(e,t,n=Ou?qi+1:0){for(;n<xn.length;n++){const i=xn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;xn.splice(n,1),n--,i()}}}function fT(e){if(Oa.length){const t=[...new Set(Oa)].sort((n,i)=>Mu(n)-Mu(i));if(Oa.length=0,ns){ns.push(...t);return}for(ns=t,eo=0;eo<ns.length;eo++){const n=ns[eo];n.active!==!1&&n()}ns=null,eo=0}}const Mu=e=>e.id==null?1/0:e.id,uN=(e,t)=>{const n=Mu(e)-Mu(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function hT(e){Rg=!1,Ou=!0,xn.sort(uN);try{for(qi=0;qi<xn.length;qi++){const t=xn[qi];t&&t.active!==!1&&gs(t,t.i,t.i?15:14)}}finally{qi=0,xn.length=0,fT(),Ou=!1,Rp=null,(xn.length||Oa.length)&&hT()}}let qt=null,mT=null;function ef(e){const t=qt;return qt=e,mT=e&&e.type.__scopeId||null,t}function gi(e,t=qt,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&dw(-1);const s=ef(t);let o;try{o=e(...r)}finally{ef(s),i._d&&dw(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function kt(e,t){if(qt===null)return e;const n=nh(qt),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,l=Pt]=t[r];s&&(We(s)&&(s={mounted:s,updated:s}),s.deep&&os(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function zs(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Ps(),bi(l,n,8,[e.el,a,e,t]),xs())}}const is=Symbol("_leaveCb"),od=Symbol("_enterCb");function gT(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return In(()=>{e.isMounted=!0}),Sn(()=>{e.isUnmounting=!0}),e}const mi=[Function,Array],vT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mi,onEnter:mi,onAfterEnter:mi,onEnterCancelled:mi,onBeforeLeave:mi,onLeave:mi,onAfterLeave:mi,onLeaveCancelled:mi,onBeforeAppear:mi,onAppear:mi,onAfterAppear:mi,onAppearCancelled:mi},pT=e=>{const t=e.subTree;return t.component?pT(t.component):t},cN={name:"BaseTransition",props:vT,setup(e,{slots:t}){const n=eh(),i=gT();return()=>{const r=t.default&&Dp(t.default(),!0);if(!r||!r.length)return;let s=r[0];if(r.length>1){for(const h of r)if(h.type!==vn){s=h;break}}const o=Be(e),{mode:a}=o;if(i.isLeaving)return Rm(s);const l=Qb(s);if(!l)return Rm(s);let u=Lu(l,o,i,n,h=>u=h);Wa(l,u);const c=n.subTree,d=c&&Qb(c);if(d&&d.type!==vn&&!Yi(l,d)&&pT(n).type!==vn){const h=Lu(d,o,i,n);if(Wa(d,h),a==="out-in"&&l.type!==vn)return i.isLeaving=!0,h.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Rm(s);a==="in-out"&&l.type!==vn&&(h.delayLeave=(m,p,v)=>{const y=yT(i,d);y[String(d.key)]=d,m[is]=()=>{p(),m[is]=void 0,delete u.delayedLeave},u.delayedLeave=v})}return s}}},dN=cN;function yT(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Lu(e,t,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:m,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:y,onAppear:A,onAfterAppear:P,onAppearCancelled:D}=t,N=String(e.key),R=yT(n,e),V=(_,I)=>{_&&bi(_,i,9,I)},S=(_,I)=>{const E=I[1];V(_,I),Le(_)?_.every(T=>T.length<=1)&&E():_.length<=1&&E()},w={mode:o,persisted:a,beforeEnter(_){let I=l;if(!n.isMounted)if(s)I=y||l;else return;_[is]&&_[is](!0);const E=R[N];E&&Yi(e,E)&&E.el[is]&&E.el[is](),V(I,[_])},enter(_){let I=u,E=c,T=d;if(!n.isMounted)if(s)I=A||u,E=P||c,T=D||d;else return;let x=!1;const B=_[od]=U=>{x||(x=!0,U?V(T,[_]):V(E,[_]),w.delayedLeave&&w.delayedLeave(),_[od]=void 0)};I?S(I,[_,B]):B()},leave(_,I){const E=String(e.key);if(_[od]&&_[od](!0),n.isUnmounting)return I();V(h,[_]);let T=!1;const x=_[is]=B=>{T||(T=!0,I(),B?V(v,[_]):V(p,[_]),_[is]=void 0,R[E]===e&&delete R[E])};R[E]=e,m?S(m,[_,x]):x()},clone(_){const I=Lu(_,t,n,i,r);return r&&r(I),I}};return w}function Rm(e){if(Xf(e))return e=Pr(e),e.children=null,e}function Qb(e){if(!Xf(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&We(n.default))return n.default()}}function Wa(e,t){e.shapeFlag&6&&e.component?Wa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Dp(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ae?(o.patchFlag&128&&r++,i=i.concat(Dp(o.children,t,a))):(t||o.type!==vn)&&i.push(a!=null?Pr(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function jo(e,t){return We(e)?Qt({name:e.name},t,{setup:e}):e}const vu=e=>!!e.type.__asyncLoader,Xf=e=>e.type.__isKeepAlive;function _T(e,t){wT(e,"a",t)}function bT(e,t){wT(e,"da",t)}function wT(e,t,n=sn){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Jf(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Xf(r.parent.vnode)&&fN(i,t,n,r),r=r.parent}}function fN(e,t,n,i){const r=Jf(t,e,i,!0);Mp(()=>{bp(i[t],r)},n)}function Jf(e,t,n=sn,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Ps();const a=gc(n),l=bi(t,n,e,o);return a(),xs(),l});return i?r.unshift(s):r.push(s),s}}const Mr=e=>(t,n=sn)=>{(!th||e==="sp")&&Jf(e,(...i)=>t(...i),n)},Np=Mr("bm"),In=Mr("m"),IT=Mr("bu"),Op=Mr("u"),Sn=Mr("bum"),Mp=Mr("um"),hN=Mr("sp"),mN=Mr("rtg"),gN=Mr("rtc");function vN(e,t=sn){Jf("ec",e,t)}const Lp="components",pN="directives";function zn(e,t){return Fp(Lp,e,!0,t)||e}const yN=Symbol.for("v-ndc");function _N(e){return $t(e)&&Fp(Lp,e,!1)||e}function ai(e){return Fp(pN,e)}function Fp(e,t,n=!0,i=!1){const r=qt||sn;if(r){const s=r.type;if(e===Lp){const a=vO(s,!1);if(a&&(a===t||a===ri(t)||a===lr(ri(t))))return s}const o=Xb(r[e]||s[e],t)||Xb(r.appContext[e],t);return!o&&i?s:o}}function Xb(e,t){return e&&(e[t]||e[ri(t)]||e[lr(ri(t))])}function bN(e,t,n={},i,r){if(qt.isCE||qt.parent&&vu(qt.parent)&&qt.parent.isCE)return g("slot",n,i);let s=e[t];s&&s._c&&(s._d=!1),vi();const o=s&&ST(s(n)),a=Cr(Ae,{key:(n.key||o&&o.key||`_${t}`)+(!o&&i?"_fb":"")},o||[],o&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function ST(e){return e.some(t=>Ka(t)?!(t.type===vn||t.type===Ae&&!ST(t.children)):!0)?e:null}const Dg=e=>e?WT(e)?nh(e):Dg(e.parent):null,pu=Qt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dg(e.parent),$root:e=>Dg(e.root),$emit:e=>e.emit,$options:e=>Bp(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Vp(e.update)}),$nextTick:e=>e.n||(e.n=Ke.bind(e.proxy)),$watch:e=>GN.bind(e)}),Vm=(e,t)=>e!==Pt&&!e.__isScriptSetup&&at(e,t),wN={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Vm(i,t))return o[t]=1,i[t];if(r!==Pt&&at(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&at(u,t))return o[t]=3,s[t];if(n!==Pt&&at(n,t))return o[t]=4,n[t];Ng&&(o[t]=0)}}const c=pu[t];let d,h;if(c)return t==="$attrs"&&Kn(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Pt&&at(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,at(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return Vm(r,t)?(r[t]=n,!0):i!==Pt&&at(i,t)?(i[t]=n,!0):at(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==Pt&&at(e,o)||Vm(t,o)||(a=s[0])&&at(a,o)||at(i,o)||at(pu,o)||at(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:at(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Jb(e){return Le(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ng=!0;function IN(e){const t=Bp(e),n=e.proxy,i=e.ctx;Ng=!1,t.beforeCreate&&Zb(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:m,updated:p,activated:v,deactivated:y,beforeDestroy:A,beforeUnmount:P,destroyed:D,unmounted:N,render:R,renderTracked:V,renderTriggered:S,errorCaptured:w,serverPrefetch:_,expose:I,inheritAttrs:E,components:T,directives:x,filters:B}=t;if(u&&SN(u,i,null),o)for(const K in o){const F=o[K];We(F)&&(i[K]=F.bind(n))}if(r){const K=r.call(n,n);Ct(K)&&(e.data=rn(K))}if(Ng=!0,s)for(const K in s){const F=s[K],q=We(F)?F.bind(n,n):We(F.get)?F.get.bind(n,n):pi,H=!We(F)&&We(F.set)?F.set.bind(n):pi,G=C({get:q,set:H});Object.defineProperty(i,K,{enumerable:!0,configurable:!0,get:()=>G.value,set:te=>G.value=te})}if(a)for(const K in a)ET(a[K],i,n,K);if(l){const K=We(l)?l.call(n):l;Reflect.ownKeys(K).forEach(F=>{ft(F,K[F])})}c&&Zb(c,e,"c");function $(K,F){Le(F)?F.forEach(q=>K(q.bind(n))):F&&K(F.bind(n))}if($(Np,d),$(In,h),$(IT,m),$(Op,p),$(_T,v),$(bT,y),$(vN,w),$(gN,V),$(mN,S),$(Sn,P),$(Mp,N),$(hN,_),Le(I))if(I.length){const K=e.exposed||(e.exposed={});I.forEach(F=>{Object.defineProperty(K,F,{get:()=>n[F],set:q=>n[F]=q})})}else e.exposed||(e.exposed={});R&&e.render===pi&&(e.render=R),E!=null&&(e.inheritAttrs=E),T&&(e.components=T),x&&(e.directives=x)}function SN(e,t,n=pi){Le(e)&&(e=Og(e));for(const i in e){const r=e[i];let s;Ct(r)?"default"in r?s=$e(r.from||i,r.default,!0):s=$e(r.from||i):s=$e(r),bt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function Zb(e,t,n){bi(Le(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function ET(e,t,n,i){const r=i.includes(".")?FT(n,i):()=>n[i];if($t(e)){const s=t[e];We(s)&&_e(r,s)}else if(We(e))_e(r,e.bind(n));else if(Ct(e))if(Le(e))e.forEach(s=>ET(s,t,n,i));else{const s=We(e.handler)?e.handler.bind(n):t[e.handler];We(s)&&_e(r,s,e)}}function Bp(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(u=>tf(l,u,o,!0)),tf(l,t,o)),Ct(t)&&s.set(t,l),l}function tf(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&tf(e,s,n,!0),r&&r.forEach(o=>tf(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=EN[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const EN={data:ew,props:tw,emits:tw,methods:au,computed:au,beforeCreate:Fn,created:Fn,beforeMount:Fn,mounted:Fn,beforeUpdate:Fn,updated:Fn,beforeDestroy:Fn,beforeUnmount:Fn,destroyed:Fn,unmounted:Fn,activated:Fn,deactivated:Fn,errorCaptured:Fn,serverPrefetch:Fn,components:au,directives:au,watch:CN,provide:ew,inject:TN};function ew(e,t){return t?e?function(){return Qt(We(e)?e.call(this,this):e,We(t)?t.call(this,this):t)}:t:e}function TN(e,t){return au(Og(e),Og(t))}function Og(e){if(Le(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Fn(e,t){return e?[...new Set([].concat(e,t))]:t}function au(e,t){return e?Qt(Object.create(null),e,t):t}function tw(e,t){return e?Le(e)&&Le(t)?[...new Set([...e,...t])]:Qt(Object.create(null),Jb(e),Jb(t??{})):t}function CN(e,t){if(!e)return t;if(!t)return e;const n=Qt(Object.create(null),e);for(const i in t)n[i]=Fn(e[i],t[i]);return n}function TT(){return{app:null,config:{isNativeTag:SD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kN=0;function AN(e,t){return function(i,r=null){We(i)||(i=Qt({},i)),r!=null&&!Ct(r)&&(r=null);const s=TT(),o=new WeakSet;let a=!1;const l=s.app={_uid:kN++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:yO,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&We(u.install)?(o.add(u),u.install(l,...c)):We(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=g(i,r);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&t?t(h,u):e(h,u,d),a=!0,l._container=u,u.__vue_app__=l,nh(h.component)}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Ma;Ma=l;try{return u()}finally{Ma=c}}};return l}}let Ma=null;function ft(e,t){if(sn){let n=sn.provides;const i=sn.parent&&sn.parent.provides;i===n&&(n=sn.provides=Object.create(i)),n[e]=t}}function $e(e,t,n=!1){const i=sn||qt;if(i||Ma){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ma._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&We(t)?t.call(i&&i.proxy):t}}function PN(){return!!(sn||qt||Ma)}const CT={},kT=()=>Object.create(CT),AT=e=>Object.getPrototypeOf(e)===CT;function xN(e,t,n,i=!1){const r={},s=kT();e.propsDefaults=Object.create(null),PT(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:iT(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function RN(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=Be(r),[l]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Zf(e.emitsOptions,h))continue;const m=t[h];if(l)if(at(s,h))m!==s[h]&&(s[h]=m,u=!0);else{const p=ri(h);r[p]=Mg(l,a,p,m,e,!1)}else m!==s[h]&&(s[h]=m,u=!0)}}}else{PT(e,t,r,s)&&(u=!0);let c;for(const d in a)(!t||!at(t,d)&&((c=Ho(d))===d||!at(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=Mg(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!at(t,d))&&(delete s[d],u=!0)}u&&Tr(e.attrs,"set","")}function PT(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(gu(l))continue;const u=t[l];let c;r&&at(r,c=ri(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Zf(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=Be(n),u=a||Pt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Mg(r,l,d,u[d],e,!at(u,d))}}return o}function Mg(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=at(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&We(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const c=gc(r);i=u[n]=l.call(null,t),c()}}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Ho(n))&&(i=!0))}return i}const VN=new WeakMap;function xT(e,t,n=!1){const i=n?VN:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let l=!1;if(!We(e)){const c=d=>{l=!0;const[h,m]=xT(d,t,!0);Qt(o,h),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Ct(e)&&i.set(e,Da),Da;if(Le(s))for(let c=0;c<s.length;c++){const d=ri(s[c]);nw(d)&&(o[d]=Pt)}else if(s)for(const c in s){const d=ri(c);if(nw(d)){const h=s[c],m=o[d]=Le(h)||We(h)?{type:h}:Qt({},h);if(m){const p=sw(Boolean,m.type),v=sw(String,m.type);m[0]=p>-1,m[1]=v<0||p<v,(p>-1||at(m,"default"))&&a.push(d)}}}const u=[o,a];return Ct(e)&&i.set(e,u),u}function nw(e){return e[0]!=="$"&&!gu(e)}function iw(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function rw(e,t){return iw(e)===iw(t)}function sw(e,t){return Le(t)?t.findIndex(n=>rw(n,e)):We(t)&&rw(t,e)?0:-1}const RT=e=>e[0]==="_"||e==="$stable",$p=e=>Le(e)?e.map(Ri):[Ri(e)],DN=(e,t,n)=>{if(t._n)return t;const i=gi((...r)=>$p(t(...r)),n);return i._c=!1,i},VT=(e,t,n)=>{const i=e._ctx;for(const r in e){if(RT(r))continue;const s=e[r];if(We(s))t[r]=DN(r,s,i);else if(s!=null){const o=$p(s);t[r]=()=>o}}},DT=(e,t)=>{const n=$p(t);e.slots.default=()=>n},NT=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},NN=(e,t,n)=>{const i=e.slots=kT();if(e.vnode.shapeFlag&32){const r=t._;r?(NT(i,t,n),n&&FE(i,"_",r,!0)):VT(t,i)}else t&&DT(e,t)},ON=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Pt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:NT(r,t,n):(s=!t.$stable,VT(t,r)),o=t}else t&&(DT(e,t),o={default:1});if(s)for(const a in r)!RT(a)&&o[a]==null&&delete r[a]};function Lg(e,t,n,i,r=!1){if(Le(e)){e.forEach((h,m)=>Lg(h,t&&(Le(t)?t[m]:t),n,i,r));return}if(vu(i)&&!r)return;const s=i.shapeFlag&4?nh(i.component):i.el,o=r?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Pt?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&($t(u)?(c[u]=null,at(d,u)&&(d[u]=null)):bt(u)&&(u.value=null)),We(l))gs(l,a,12,[o,c]);else{const h=$t(l),m=bt(l);if(h||m){const p=()=>{if(e.f){const v=h?at(d,l)?d[l]:c[l]:l.value;r?Le(v)&&bp(v,s):Le(v)?v.includes(s)||v.push(s):h?(c[l]=[s],at(d,l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else h?(c[l]=o,at(d,l)&&(d[l]=o)):m&&(l.value=o,e.k&&(c[e.k]=o))};o?(p.id=-1,Hn(p,n)):p()}}}const OT=Symbol("_vte"),MN=e=>e.__isTeleport,yu=e=>e&&(e.disabled||e.disabled===""),ow=e=>typeof SVGElement<"u"&&e instanceof SVGElement,aw=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Fg=(e,t)=>{const n=e&&e.to;return $t(n)?t?t(n):null:n},LN={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:m,querySelector:p,createText:v,createComment:y}}=u,A=yu(t.props);let{shapeFlag:P,children:D,dynamicChildren:N}=t;if(e==null){const R=t.el=v(""),V=t.anchor=v(""),S=t.target=Fg(t.props,p),w=t.targetStart=v(""),_=t.targetAnchor=v("");m(R,n,i),m(V,n,i),w[OT]=_,S&&(m(w,S),m(_,S),o==="svg"||ow(S)?o="svg":(o==="mathml"||aw(S))&&(o="mathml"));const I=(E,T)=>{P&16&&c(D,E,T,r,s,o,a,l)};A?I(n,V):S&&I(S,_)}else{t.el=e.el,t.targetStart=e.targetStart;const R=t.anchor=e.anchor,V=t.target=e.target,S=t.targetAnchor=e.targetAnchor,w=yu(e.props),_=w?n:V,I=w?R:S;if(o==="svg"||ow(V)?o="svg":(o==="mathml"||aw(V))&&(o="mathml"),N?(h(e.dynamicChildren,N,_,r,s,o,a),Up(e,t,!0)):l||d(e,t,_,I,r,s,o,a,!1),A)w?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ad(t,n,R,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=Fg(t.props,p);E&&ad(t,E,null,u,0)}else w&&ad(t,V,S,u,1)}MT(t)},remove(e,t,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=e;if(d&&(r(u),r(c)),s&&r(l),o&16){const m=s||!yu(h);for(let p=0;p<a.length;p++){const v=a[p];i(v,t,n,m,!!v.dynamicChildren)}}},move:ad,hydrate:FN};function ad(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&i(o,t,n),(!d||yu(c))&&l&16)for(let h=0;h<u.length;h++)r(u[h],t,n,2);d&&i(a,t,n)}function FN(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=Fg(t.props,l);if(c){const d=c._lpa||c.firstChild;if(t.shapeFlag&16)if(yu(t.props))t.anchor=u(o(e),t,a(e),n,i,r,s),t.targetAnchor=d;else{t.anchor=o(e);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(d,t,c,n,i,r,s)}MT(t)}return t.anchor&&o(t.anchor)}const BN=LN;function MT(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Hn=sO;function $N(e){return UN(e)}function UN(e,t){const n=$E();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:m=pi,insertStaticContent:p}=e,v=(O,L,z,X=null,ee=null,fe=null,me=void 0,be=null,pe=!!L.dynamicChildren)=>{if(O===L)return;O&&!Yi(O,L)&&(X=j(O),te(O,ee,fe,!0),O=null),L.patchFlag===-2&&(pe=!1,L.dynamicChildren=null);const{type:ge,ref:ke,shapeFlag:Ve}=L;switch(ge){case mc:y(O,L,z,X);break;case vn:A(O,L,z,X);break;case Om:O==null&&P(L,z,X,me);break;case Ae:T(O,L,z,X,ee,fe,me,be,pe);break;default:Ve&1?R(O,L,z,X,ee,fe,me,be,pe):Ve&6?x(O,L,z,X,ee,fe,me,be,pe):(Ve&64||Ve&128)&&ge.process(O,L,z,X,ee,fe,me,be,pe,Z)}ke!=null&&ee&&Lg(ke,O&&O.ref,fe,L||O,!L)},y=(O,L,z,X)=>{if(O==null)i(L.el=a(L.children),z,X);else{const ee=L.el=O.el;L.children!==O.children&&u(ee,L.children)}},A=(O,L,z,X)=>{O==null?i(L.el=l(L.children||""),z,X):L.el=O.el},P=(O,L,z,X)=>{[O.el,O.anchor]=p(O.children,L,z,X,O.el,O.anchor)},D=({el:O,anchor:L},z,X)=>{let ee;for(;O&&O!==L;)ee=h(O),i(O,z,X),O=ee;i(L,z,X)},N=({el:O,anchor:L})=>{let z;for(;O&&O!==L;)z=h(O),r(O),O=z;r(L)},R=(O,L,z,X,ee,fe,me,be,pe)=>{L.type==="svg"?me="svg":L.type==="math"&&(me="mathml"),O==null?V(L,z,X,ee,fe,me,be,pe):_(O,L,ee,fe,me,be,pe)},V=(O,L,z,X,ee,fe,me,be)=>{let pe,ge;const{props:ke,shapeFlag:Ve,transition:Re,dirs:De}=O;if(pe=O.el=o(O.type,fe,ke&&ke.is,ke),Ve&8?c(pe,O.children):Ve&16&&w(O.children,pe,null,X,ee,Dm(O,fe),me,be),De&&zs(O,null,X,"created"),S(pe,O,O.scopeId,me,X),ke){for(const ct in ke)ct!=="value"&&!gu(ct)&&s(pe,ct,null,ke[ct],fe,X);"value"in ke&&s(pe,"value",null,ke.value,fe),(ge=ke.onVnodeBeforeMount)&&Ki(ge,X,O)}De&&zs(O,null,X,"beforeMount");const Me=HN(ee,Re);Me&&Re.beforeEnter(pe),i(pe,L,z),((ge=ke&&ke.onVnodeMounted)||Me||De)&&Hn(()=>{ge&&Ki(ge,X,O),Me&&Re.enter(pe),De&&zs(O,null,X,"mounted")},ee)},S=(O,L,z,X,ee)=>{if(z&&m(O,z),X)for(let fe=0;fe<X.length;fe++)m(O,X[fe]);if(ee){let fe=ee.subTree;if(L===fe){const me=ee.vnode;S(O,me,me.scopeId,me.slotScopeIds,ee.parent)}}},w=(O,L,z,X,ee,fe,me,be,pe=0)=>{for(let ge=pe;ge<O.length;ge++){const ke=O[ge]=be?rs(O[ge]):Ri(O[ge]);v(null,ke,L,z,X,ee,fe,me,be)}},_=(O,L,z,X,ee,fe,me)=>{const be=L.el=O.el;let{patchFlag:pe,dynamicChildren:ge,dirs:ke}=L;pe|=O.patchFlag&16;const Ve=O.props||Pt,Re=L.props||Pt;let De;if(z&&Ws(z,!1),(De=Re.onVnodeBeforeUpdate)&&Ki(De,z,L,O),ke&&zs(L,O,z,"beforeUpdate"),z&&Ws(z,!0),(Ve.innerHTML&&Re.innerHTML==null||Ve.textContent&&Re.textContent==null)&&c(be,""),ge?I(O.dynamicChildren,ge,be,z,X,Dm(L,ee),fe):me||F(O,L,be,null,z,X,Dm(L,ee),fe,!1),pe>0){if(pe&16)E(be,Ve,Re,z,ee);else if(pe&2&&Ve.class!==Re.class&&s(be,"class",null,Re.class,ee),pe&4&&s(be,"style",Ve.style,Re.style,ee),pe&8){const Me=L.dynamicProps;for(let ct=0;ct<Me.length;ct++){const ot=Me[ct],Bt=Ve[ot],Yn=Re[ot];(Yn!==Bt||ot==="value")&&s(be,ot,Bt,Yn,ee,z)}}pe&1&&O.children!==L.children&&c(be,L.children)}else!me&&ge==null&&E(be,Ve,Re,z,ee);((De=Re.onVnodeUpdated)||ke)&&Hn(()=>{De&&Ki(De,z,L,O),ke&&zs(L,O,z,"updated")},X)},I=(O,L,z,X,ee,fe,me)=>{for(let be=0;be<L.length;be++){const pe=O[be],ge=L[be],ke=pe.el&&(pe.type===Ae||!Yi(pe,ge)||pe.shapeFlag&70)?d(pe.el):z;v(pe,ge,ke,null,X,ee,fe,me,!0)}},E=(O,L,z,X,ee)=>{if(L!==z){if(L!==Pt)for(const fe in L)!gu(fe)&&!(fe in z)&&s(O,fe,L[fe],null,ee,X);for(const fe in z){if(gu(fe))continue;const me=z[fe],be=L[fe];me!==be&&fe!=="value"&&s(O,fe,be,me,ee,X)}"value"in z&&s(O,"value",L.value,z.value,ee)}},T=(O,L,z,X,ee,fe,me,be,pe)=>{const ge=L.el=O?O.el:a(""),ke=L.anchor=O?O.anchor:a("");let{patchFlag:Ve,dynamicChildren:Re,slotScopeIds:De}=L;De&&(be=be?be.concat(De):De),O==null?(i(ge,z,X),i(ke,z,X),w(L.children||[],z,ke,ee,fe,me,be,pe)):Ve>0&&Ve&64&&Re&&O.dynamicChildren?(I(O.dynamicChildren,Re,z,ee,fe,me,be),(L.key!=null||ee&&L===ee.subTree)&&Up(O,L,!0)):F(O,L,z,ke,ee,fe,me,be,pe)},x=(O,L,z,X,ee,fe,me,be,pe)=>{L.slotScopeIds=be,O==null?L.shapeFlag&512?ee.ctx.activate(L,z,X,me,pe):B(L,z,X,ee,fe,me,pe):U(O,L,pe)},B=(O,L,z,X,ee,fe,me)=>{const be=O.component=dO(O,X,ee);if(Xf(O)&&(be.ctx.renderer=Z),fO(be,!1,me),be.asyncDep){if(ee&&ee.registerDep(be,$,me),!O.el){const pe=be.subTree=g(vn);A(null,pe,L,z)}}else $(be,O,L,z,ee,fe,me)},U=(O,L,z)=>{const X=L.component=O.component;if(JN(O,L,z))if(X.asyncDep&&!X.asyncResolved){K(X,L,z);return}else X.next=L,lN(X.update),X.effect.dirty=!0,X.update();else L.el=O.el,X.vnode=L},$=(O,L,z,X,ee,fe,me)=>{const be=()=>{if(O.isMounted){let{next:ke,bu:Ve,u:Re,parent:De,vnode:Me}=O;{const fi=LT(O);if(fi){ke&&(ke.el=Me.el,K(O,ke,me)),fi.asyncDep.then(()=>{O.isUnmounted||be()});return}}let ct=ke,ot;Ws(O,!1),ke?(ke.el=Me.el,K(O,ke,me)):ke=Me,Ve&&Dd(Ve),(ot=ke.props&&ke.props.onVnodeBeforeUpdate)&&Ki(ot,De,ke,Me),Ws(O,!0);const Bt=Nm(O),Yn=O.subTree;O.subTree=Bt,v(Yn,Bt,d(Yn.el),j(Yn),O,ee,fe),ke.el=Bt.el,ct===null&&jp(O,Bt.el),Re&&Hn(Re,ee),(ot=ke.props&&ke.props.onVnodeUpdated)&&Hn(()=>Ki(ot,De,ke,Me),ee)}else{let ke;const{el:Ve,props:Re}=L,{bm:De,m:Me,parent:ct}=O,ot=vu(L);if(Ws(O,!1),De&&Dd(De),!ot&&(ke=Re&&Re.onVnodeBeforeMount)&&Ki(ke,ct,L),Ws(O,!0),Ve&&re){const Bt=()=>{O.subTree=Nm(O),re(Ve,O.subTree,O,ee,null)};ot?L.type.__asyncLoader().then(()=>!O.isUnmounted&&Bt()):Bt()}else{const Bt=O.subTree=Nm(O);v(null,Bt,z,X,O,ee,fe),L.el=Bt.el}if(Me&&Hn(Me,ee),!ot&&(ke=Re&&Re.onVnodeMounted)){const Bt=L;Hn(()=>Ki(ke,ct,Bt),ee)}(L.shapeFlag&256||ct&&vu(ct.vnode)&&ct.vnode.shapeFlag&256)&&O.a&&Hn(O.a,ee),O.isMounted=!0,L=z=X=null}},pe=O.effect=new Ep(be,pi,()=>Vp(ge),O.scope),ge=O.update=()=>{pe.dirty&&pe.run()};ge.i=O,ge.id=O.uid,Ws(O,!0),ge()},K=(O,L,z)=>{L.component=O;const X=O.vnode.props;O.vnode=L,O.next=null,RN(O,L.props,X,z),ON(O,L.children,z),Ps(),Yb(O),xs()},F=(O,L,z,X,ee,fe,me,be,pe=!1)=>{const ge=O&&O.children,ke=O?O.shapeFlag:0,Ve=L.children,{patchFlag:Re,shapeFlag:De}=L;if(Re>0){if(Re&128){H(ge,Ve,z,X,ee,fe,me,be,pe);return}else if(Re&256){q(ge,Ve,z,X,ee,fe,me,be,pe);return}}De&8?(ke&16&&oe(ge,ee,fe),Ve!==ge&&c(z,Ve)):ke&16?De&16?H(ge,Ve,z,X,ee,fe,me,be,pe):oe(ge,ee,fe,!0):(ke&8&&c(z,""),De&16&&w(Ve,z,X,ee,fe,me,be,pe))},q=(O,L,z,X,ee,fe,me,be,pe)=>{O=O||Da,L=L||Da;const ge=O.length,ke=L.length,Ve=Math.min(ge,ke);let Re;for(Re=0;Re<Ve;Re++){const De=L[Re]=pe?rs(L[Re]):Ri(L[Re]);v(O[Re],De,z,null,ee,fe,me,be,pe)}ge>ke?oe(O,ee,fe,!0,!1,Ve):w(L,z,X,ee,fe,me,be,pe,Ve)},H=(O,L,z,X,ee,fe,me,be,pe)=>{let ge=0;const ke=L.length;let Ve=O.length-1,Re=ke-1;for(;ge<=Ve&&ge<=Re;){const De=O[ge],Me=L[ge]=pe?rs(L[ge]):Ri(L[ge]);if(Yi(De,Me))v(De,Me,z,null,ee,fe,me,be,pe);else break;ge++}for(;ge<=Ve&&ge<=Re;){const De=O[Ve],Me=L[Re]=pe?rs(L[Re]):Ri(L[Re]);if(Yi(De,Me))v(De,Me,z,null,ee,fe,me,be,pe);else break;Ve--,Re--}if(ge>Ve){if(ge<=Re){const De=Re+1,Me=De<ke?L[De].el:X;for(;ge<=Re;)v(null,L[ge]=pe?rs(L[ge]):Ri(L[ge]),z,Me,ee,fe,me,be,pe),ge++}}else if(ge>Re)for(;ge<=Ve;)te(O[ge],ee,fe,!0),ge++;else{const De=ge,Me=ge,ct=new Map;for(ge=Me;ge<=Re;ge++){const Mn=L[ge]=pe?rs(L[ge]):Ri(L[ge]);Mn.key!=null&&ct.set(Mn.key,ge)}let ot,Bt=0;const Yn=Re-Me+1;let fi=!1,Dl=0;const zr=new Array(Yn);for(ge=0;ge<Yn;ge++)zr[ge]=0;for(ge=De;ge<=Ve;ge++){const Mn=O[ge];if(Bt>=Yn){te(Mn,ee,fe,!0);continue}let hi;if(Mn.key!=null)hi=ct.get(Mn.key);else for(ot=Me;ot<=Re;ot++)if(zr[ot-Me]===0&&Yi(Mn,L[ot])){hi=ot;break}hi===void 0?te(Mn,ee,fe,!0):(zr[hi-Me]=ge+1,hi>=Dl?Dl=hi:fi=!0,v(Mn,L[hi],z,null,ee,fe,me,be,pe),Bt++)}const sa=fi?jN(zr):Da;for(ot=sa.length-1,ge=Yn-1;ge>=0;ge--){const Mn=Me+ge,hi=L[Mn],oa=Mn+1<ke?L[Mn+1].el:X;zr[ge]===0?v(null,hi,z,oa,ee,fe,me,be,pe):fi&&(ot<0||ge!==sa[ot]?G(hi,z,oa,2):ot--)}}},G=(O,L,z,X,ee=null)=>{const{el:fe,type:me,transition:be,children:pe,shapeFlag:ge}=O;if(ge&6){G(O.component.subTree,L,z,X);return}if(ge&128){O.suspense.move(L,z,X);return}if(ge&64){me.move(O,L,z,Z);return}if(me===Ae){i(fe,L,z);for(let Ve=0;Ve<pe.length;Ve++)G(pe[Ve],L,z,X);i(O.anchor,L,z);return}if(me===Om){D(O,L,z);return}if(X!==2&&ge&1&&be)if(X===0)be.beforeEnter(fe),i(fe,L,z),Hn(()=>be.enter(fe),ee);else{const{leave:Ve,delayLeave:Re,afterLeave:De}=be,Me=()=>i(fe,L,z),ct=()=>{Ve(fe,()=>{Me(),De&&De()})};Re?Re(fe,Me,ct):ct()}else i(fe,L,z)},te=(O,L,z,X=!1,ee=!1)=>{const{type:fe,props:me,ref:be,children:pe,dynamicChildren:ge,shapeFlag:ke,patchFlag:Ve,dirs:Re,cacheIndex:De}=O;if(Ve===-2&&(ee=!1),be!=null&&Lg(be,null,z,O,!0),De!=null&&(L.renderCache[De]=void 0),ke&256){L.ctx.deactivate(O);return}const Me=ke&1&&Re,ct=!vu(O);let ot;if(ct&&(ot=me&&me.onVnodeBeforeUnmount)&&Ki(ot,L,O),ke&6)he(O.component,z,X);else{if(ke&128){O.suspense.unmount(z,X);return}Me&&zs(O,null,L,"beforeUnmount"),ke&64?O.type.remove(O,L,z,Z,X):ge&&!ge.hasOnce&&(fe!==Ae||Ve>0&&Ve&64)?oe(ge,L,z,!1,!0):(fe===Ae&&Ve&384||!ee&&ke&16)&&oe(pe,L,z),X&&ce(O)}(ct&&(ot=me&&me.onVnodeUnmounted)||Me)&&Hn(()=>{ot&&Ki(ot,L,O),Me&&zs(O,null,L,"unmounted")},z)},ce=O=>{const{type:L,el:z,anchor:X,transition:ee}=O;if(L===Ae){Se(z,X);return}if(L===Om){N(O);return}const fe=()=>{r(z),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(O.shapeFlag&1&&ee&&!ee.persisted){const{leave:me,delayLeave:be}=ee,pe=()=>me(z,fe);be?be(O.el,fe,pe):pe()}else fe()},Se=(O,L)=>{let z;for(;O!==L;)z=h(O),r(O),O=z;r(L)},he=(O,L,z)=>{const{bum:X,scope:ee,update:fe,subTree:me,um:be,m:pe,a:ge}=O;lw(pe),lw(ge),X&&Dd(X),ee.stop(),fe&&(fe.active=!1,te(me,O,L,z)),be&&Hn(be,L),Hn(()=>{O.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},oe=(O,L,z,X=!1,ee=!1,fe=0)=>{for(let me=fe;me<O.length;me++)te(O[me],L,z,X,ee)},j=O=>{if(O.shapeFlag&6)return j(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const L=h(O.anchor||O.el),z=L&&L[OT];return z?h(z):L};let ue=!1;const de=(O,L,z)=>{O==null?L._vnode&&te(L._vnode,null,null,!0):v(L._vnode||null,O,L,null,null,null,z),ue||(ue=!0,Yb(),fT(),ue=!1),L._vnode=O},Z={p:v,um:te,m:G,r:ce,mt:B,mc:w,pc:F,pbc:I,n:j,o:e};let ve,re;return{render:de,hydrate:ve,createApp:AN(de,ve)}}function Dm({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ws({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function HN(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Up(e,t,n=!1){const i=e.children,r=t.children;if(Le(i)&&Le(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=rs(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Up(o,a)),a.type===mc&&(a.el=o.el)}}function jN(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function LT(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:LT(t)}function lw(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const zN=Symbol.for("v-scx"),WN=()=>$e(zN);function Nt(e,t){return Hp(e,null,t)}const ld={};function _e(e,t,n){return Hp(e,t,n)}function Hp(e,t,{immediate:n,deep:i,flush:r,once:s,onTrack:o,onTrigger:a}=Pt){if(t&&s){const V=t;t=(...S)=>{V(...S),R()}}const l=sn,u=V=>i===!0?V:os(V,i===!1?1:void 0);let c,d=!1,h=!1;if(bt(e)?(c=()=>e.value,d=za(e)):ho(e)?(c=()=>u(e),d=!0):Le(e)?(h=!0,d=e.some(V=>ho(V)||za(V)),c=()=>e.map(V=>{if(bt(V))return V.value;if(ho(V))return u(V);if(We(V))return gs(V,l,2)})):We(e)?t?c=()=>gs(e,l,2):c=()=>(m&&m(),bi(e,l,3,[p])):c=pi,t&&i){const V=c;c=()=>os(V())}let m,p=V=>{m=D.onStop=()=>{gs(V,l,4),m=D.onStop=void 0}},v;if(th)if(p=pi,t?n&&bi(t,l,3,[c(),h?[]:void 0,p]):c(),r==="sync"){const V=WN();v=V.__watcherHandles||(V.__watcherHandles=[])}else return pi;let y=h?new Array(e.length).fill(ld):ld;const A=()=>{if(!(!D.active||!D.dirty))if(t){const V=D.run();(i||d||(h?V.some((S,w)=>Is(S,y[w])):Is(V,y)))&&(m&&m(),bi(t,l,3,[V,y===ld?void 0:h&&y[0]===ld?[]:y,p]),y=V)}else D.run()};A.allowRecurse=!!t;let P;r==="sync"?P=A:r==="post"?P=()=>Hn(A,l&&l.suspense):(A.pre=!0,l&&(A.id=l.uid),P=()=>Vp(A));const D=new Ep(c,pi,P),N=WE(),R=()=>{D.stop(),N&&bp(N.effects,D)};return t?n?A():y=D.run():r==="post"?Hn(D.run.bind(D),l&&l.suspense):D.run(),v&&v.push(R),R}function GN(e,t,n){const i=this.proxy,r=$t(e)?e.includes(".")?FT(i,e):()=>i[e]:e.bind(i,i);let s;We(t)?s=t:(s=t.handler,n=t);const o=gc(this),a=Hp(r,s.bind(i),n);return o(),a}function FT(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function os(e,t=1/0,n){if(t<=0||!Ct(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,bt(e))os(e.value,t,n);else if(Le(e))for(let i=0;i<e.length;i++)os(e[i],t,n);else if(NE(e)||Na(e))e.forEach(i=>{os(i,t,n)});else if(LE(e)){for(const i in e)os(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&os(e[i],t,n)}return e}const KN=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ri(t)}Modifiers`]||e[`${Ho(t)}Modifiers`];function qN(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Pt;let r=n;const s=t.startsWith("update:"),o=s&&KN(i,t.slice(7));o&&(o.trim&&(r=n.map(c=>$t(c)?c.trim():c)),o.number&&(r=n.map(kg)));let a,l=i[a=Pm(t)]||i[a=Pm(ri(t))];!l&&s&&(l=i[a=Pm(Ho(t))]),l&&bi(l,e,6,r);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,bi(u,e,6,r)}}function BT(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!We(e)){const l=u=>{const c=BT(u,t,!0);c&&(a=!0,Qt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Ct(e)&&i.set(e,null),null):(Le(s)?s.forEach(l=>o[l]=null):Qt(o,s),Ct(e)&&i.set(e,o),o)}function Zf(e,t){return!e||!Gf(t)?!1:(t=t.slice(2).replace(/Once$/,""),at(e,t[0].toLowerCase()+t.slice(1))||at(e,Ho(t))||at(e,t))}function Nm(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:m,ctx:p,inheritAttrs:v}=e,y=ef(e);let A,P;try{if(n.shapeFlag&4){const N=r||i,R=N;A=Ri(u.call(R,N,c,d,m,h,p)),P=a}else{const N=t;A=Ri(N.length>1?N(d,{attrs:a,slots:o,emit:l}):N(d,null)),P=t.props?a:QN(a)}}catch(N){_u.length=0,hc(N,e,1),A=g(vn)}let D=A;if(P&&v!==!1){const N=Object.keys(P),{shapeFlag:R}=D;N.length&&R&7&&(s&&N.some(_p)&&(P=XN(P,s)),D=Pr(D,P,!1,!0))}return n.dirs&&(D=Pr(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),A=D,ef(y),A}function YN(e,t=!0){let n;for(let i=0;i<e.length;i++){const r=e[i];if(Ka(r)){if(r.type!==vn||r.children==="v-if"){if(n)return;n=r}}else return}return n}const QN=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gf(n))&&((t||(t={}))[n]=e[n]);return t},XN=(e,t)=>{const n={};for(const i in e)(!_p(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function JN(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?uw(i,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==i[h]&&!Zf(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?uw(i,o,u):!0:!!o;return!1}function uw(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!Zf(n,s))return!0}return!1}function jp({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const ZN=e=>e.__isSuspense;let Bg=0;const eO={name:"Suspense",__isSuspense:!0,process(e,t,n,i,r,s,o,a,l,u){if(e==null)tO(t,n,i,r,s,o,a,l,u);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}nO(e,t,n,i,r,o,a,l,u)}},hydrate:iO,normalize:rO},$T=eO;function Fu(e,t){const n=e.props&&e.props[t];We(n)&&n()}function tO(e,t,n,i,r,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=e.suspense=UT(e,r,i,t,d,n,s,o,a,l);u(null,h.pendingBranch=e.ssContent,d,null,i,h,s,o),h.deps>0?(Fu(e,"onPending"),Fu(e,"onFallback"),u(null,e.ssFallback,t,n,i,null,s,o),La(h,e.ssFallback)):h.resolve(!1,!0)}function nO(e,t,n,i,r,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const h=t.ssContent,m=t.ssFallback,{activeBranch:p,pendingBranch:v,isInFallback:y,isHydrating:A}=d;if(v)d.pendingBranch=h,Yi(h,v)?(l(v,h,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():y&&(A||(l(p,m,n,i,r,null,s,o,a),La(d,m)))):(d.pendingId=Bg++,A?(d.isHydrating=!1,d.activeBranch=v):u(v,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),y?(l(null,h,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():(l(p,m,n,i,r,null,s,o,a),La(d,m))):p&&Yi(h,p)?(l(p,h,n,i,r,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&Yi(h,p))l(p,h,n,i,r,d,s,o,a),La(d,h);else if(Fu(t,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=Bg++,l(null,h,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:P,pendingId:D}=d;P>0?setTimeout(()=>{d.pendingId===D&&d.fallback(m)},P):P===0&&d.fallback(m)}}function UT(e,t,n,i,r,s,o,a,l,u,c=!1){const{p:d,m:h,um:m,n:p,o:{parentNode:v,remove:y}}=u;let A;const P=oO(e);P&&t&&t.pendingBranch&&(A=t.pendingId,t.deps++);const D=e.props?BE(e.props.timeout):void 0,N=s,R={vnode:e,parent:t,parentComponent:n,namespace:o,container:i,hiddenContainer:r,deps:0,pendingId:Bg++,timeout:typeof D=="number"?D:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(V=!1,S=!1){const{vnode:w,activeBranch:_,pendingBranch:I,pendingId:E,effects:T,parentComponent:x,container:B}=R;let U=!1;R.isHydrating?R.isHydrating=!1:V||(U=_&&I.transition&&I.transition.mode==="out-in",U&&(_.transition.afterLeave=()=>{E===R.pendingId&&(h(I,B,s===N?p(_):s,0),Vg(T))}),_&&(v(_.el)!==R.hiddenContainer&&(s=p(_)),m(_,x,R,!0)),U||h(I,B,s,0)),La(R,I),R.pendingBranch=null,R.isInFallback=!1;let $=R.parent,K=!1;for(;$;){if($.pendingBranch){$.effects.push(...T),K=!0;break}$=$.parent}!K&&!U&&Vg(T),R.effects=[],P&&t&&t.pendingBranch&&A===t.pendingId&&(t.deps--,t.deps===0&&!S&&t.resolve()),Fu(w,"onResolve")},fallback(V){if(!R.pendingBranch)return;const{vnode:S,activeBranch:w,parentComponent:_,container:I,namespace:E}=R;Fu(S,"onFallback");const T=p(w),x=()=>{R.isInFallback&&(d(null,V,I,T,_,null,E,a,l),La(R,V))},B=V.transition&&V.transition.mode==="out-in";B&&(w.transition.afterLeave=x),R.isInFallback=!0,m(w,_,null,!0),B||x()},move(V,S,w){R.activeBranch&&h(R.activeBranch,V,S,w),R.container=V},next(){return R.activeBranch&&p(R.activeBranch)},registerDep(V,S,w){const _=!!R.pendingBranch;_&&R.deps++;const I=V.vnode.el;V.asyncDep.catch(E=>{hc(E,V,0)}).then(E=>{if(V.isUnmounted||R.isUnmounted||R.pendingId!==V.suspenseId)return;V.asyncResolved=!0;const{vnode:T}=V;Ug(V,E,!1),I&&(T.el=I);const x=!I&&V.subTree.el;S(V,T,v(I||V.subTree.el),I?null:p(V.subTree),R,o,w),x&&y(x),jp(V,T.el),_&&--R.deps===0&&R.resolve()})},unmount(V,S){R.isUnmounted=!0,R.activeBranch&&m(R.activeBranch,n,V,S),R.pendingBranch&&m(R.pendingBranch,n,V,S)}};return R}function iO(e,t,n,i,r,s,o,a,l){const u=t.suspense=UT(t,i,n,e.parentNode,document.createElement("div"),null,r,s,o,a,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function rO(e){const{shapeFlag:t,children:n}=e,i=t&32;e.ssContent=cw(i?n.default:n),e.ssFallback=i?cw(n.fallback):g(vn)}function cw(e){let t;if(We(e)){const n=Ga&&e._c;n&&(e._d=!1,vi()),e=e(),n&&(e._d=!0,t=Wn,HT())}return Le(e)&&(e=YN(e)),e=Ri(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function sO(e,t){t&&t.pendingBranch?Le(e)?t.effects.push(...e):t.effects.push(e):Vg(e)}function La(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e;let r=t.el;for(;!r&&t.component;)t=t.component.subTree,r=t.el;n.el=r,i&&i.subTree===n&&(i.vnode.el=r,jp(i,r))}function oO(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Ae=Symbol.for("v-fgt"),mc=Symbol.for("v-txt"),vn=Symbol.for("v-cmt"),Om=Symbol.for("v-stc"),_u=[];let Wn=null;function vi(e=!1){_u.push(Wn=e?null:[])}function HT(){_u.pop(),Wn=_u[_u.length-1]||null}let Ga=1;function dw(e){Ga+=e,e<0&&Wn&&(Wn.hasOnce=!0)}function jT(e){return e.dynamicChildren=Ga>0?Wn||Da:null,HT(),Ga>0&&Wn&&Wn.push(e),e}function fw(e,t,n,i,r,s){return jT(Vs(e,t,n,i,r,s,!0))}function Cr(e,t,n,i,r){return jT(g(e,t,n,i,r,!0))}function Ka(e){return e?e.__v_isVNode===!0:!1}function Yi(e,t){return e.type===t.type&&e.key===t.key}const zT=({key:e})=>e??null,Od=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$t(e)||bt(e)||We(e)?{i:qt,r:e,k:t,f:!!n}:e:null);function Vs(e,t=null,n=null,i=0,r=null,s=e===Ae?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zT(t),ref:t&&Od(t),scopeId:mT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:qt};return a?(zp(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),Ga>0&&!o&&Wn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Wn.push(l),l}const g=aO;function aO(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===yN)&&(e=vn),Ka(e)){const a=Pr(e,t,!0);return n&&zp(a,n),Ga>0&&!s&&Wn&&(a.shapeFlag&6?Wn[Wn.indexOf(e)]=a:Wn.push(a)),a.patchFlag=-2,a}if(pO(e)&&(e=e.__vccOpts),t){t=lO(t);let{class:a,style:l}=t;a&&!$t(a)&&(t.class=Sp(a)),Ct(l)&&(rT(l)&&!Le(l)&&(l=Qt({},l)),t.style=Ip(l))}const o=$t(e)?1:ZN(e)?128:MN(e)?64:Ct(e)?4:We(e)?2:0;return Vs(e,t,n,i,r,o,s,!0)}function lO(e){return e?rT(e)||AT(e)?Qt({},e):e:null}function Pr(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?ae(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&zT(u),ref:t&&t.ref?n&&s?Le(s)?s.concat(Od(t)):[s,Od(t)]:Od(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ae?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pr(e.ssContent),ssFallback:e.ssFallback&&Pr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&Wa(c,l.clone(c)),c}function si(e=" ",t=0){return g(mc,null,e,t)}function Mm(e="",t=!1){return t?(vi(),Cr(vn,null,e)):g(vn,null,e)}function Ri(e){return e==null||typeof e=="boolean"?g(vn):Le(e)?g(Ae,null,e.slice()):typeof e=="object"?rs(e):g(mc,null,String(e))}function rs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pr(e)}function zp(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Le(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),zp(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!AT(t)?t._ctx=qt:r===3&&qt&&(qt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else We(t)?(t={default:t,_ctx:qt},n=32):(t=String(t),i&64?(n=16,t=[si(t)]):n=8);e.children=t,e.shapeFlag|=n}function ae(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Sp([t.class,i.class]));else if(r==="style")t.style=Ip([t.style,i.style]);else if(Gf(r)){const s=t[r],o=i[r];o&&s!==o&&!(Le(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function Ki(e,t,n,i=null){bi(e,t,7,[n,i])}const uO=TT();let cO=0;function dO(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||uO,s={uid:cO++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new zE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xT(i,r),emitsOptions:BT(i,r),emit:null,emitted:null,propsDefaults:Pt,inheritAttrs:i.inheritAttrs,ctx:Pt,data:Pt,props:Pt,attrs:Pt,slots:Pt,refs:Pt,setupState:Pt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=qN.bind(null,s),e.ce&&e.ce(s),s}let sn=null;const eh=()=>sn||qt;let nf,$g;{const e=$E(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};nf=t("__VUE_INSTANCE_SETTERS__",n=>sn=n),$g=t("__VUE_SSR_SETTERS__",n=>th=n)}const gc=e=>{const t=sn;return nf(e),e.scope.on(),()=>{e.scope.off(),nf(t)}},hw=()=>{sn&&sn.scope.off(),nf(null)};function WT(e){return e.vnode.shapeFlag&4}let th=!1;function fO(e,t=!1,n=!1){t&&$g(t);const{props:i,children:r}=e.vnode,s=WT(e);xN(e,i,s,t),NN(e,r,n);const o=s?hO(e,t):void 0;return t&&$g(!1),o}function hO(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wN);const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?gO(e):null,s=gc(e);Ps();const o=gs(i,e,0,[e.props,r]);if(xs(),s(),OE(o)){if(o.then(hw,hw),t)return o.then(a=>{Ug(e,a,t)}).catch(a=>{hc(a,e,0)});e.asyncDep=o}else Ug(e,o,t)}else GT(e,t)}function Ug(e,t,n){We(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ct(t)&&(e.setupState=lT(t)),GT(e,n)}let mw;function GT(e,t,n){const i=e.type;if(!e.render){if(!t&&mw&&!i.render){const r=i.template||Bp(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,u=Qt(Qt({isCustomElement:s,delimiters:a},o),l);i.render=mw(r,u)}}e.render=i.render||pi}{const r=gc(e);Ps();try{IN(e)}finally{xs(),r()}}}const mO={get(e,t){return Kn(e,"get",""),e[t]}};function gO(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,mO),slots:e.slots,emit:e.emit,expose:t}}function nh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(lT(Qf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in pu)return pu[n](e)},has(t,n){return n in t||n in pu}})):e.proxy}function vO(e,t=!0){return We(e)?e.displayName||e.name:e.name||t&&e.__name}function pO(e){return We(e)&&"__vccOpts"in e}const C=(e,t)=>tN(e,t,th);function zi(e,t,n){const i=arguments.length;return i===2?Ct(t)&&!Le(t)?Ka(t)?g(e,null,[t]):g(e,t):g(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ka(n)&&(n=[n]),g(e,t,n))}const yO="3.4.33";/**
* @vue/runtime-dom v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const _O="http://www.w3.org/2000/svg",bO="http://www.w3.org/1998/Math/MathML",yr=typeof document<"u"?document:null,gw=yr&&yr.createElement("template"),wO={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?yr.createElementNS(_O,e):t==="mathml"?yr.createElementNS(bO,e):n?yr.createElement(e,{is:n}):yr.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>yr.createTextNode(e),createComment:e=>yr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{gw.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const a=gw.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Yr="transition",Kl="animation",qa=Symbol("_vtc"),ir=(e,{slots:t})=>zi(dN,qT(e),t);ir.displayName="Transition";const KT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},IO=ir.props=Qt({},vT,KT),Gs=(e,t=[])=>{Le(e)?e.forEach(n=>n(...t)):e&&e(...t)},vw=e=>e?Le(e)?e.some(t=>t.length>1):e.length>1:!1;function qT(e){const t={};for(const T in e)T in KT||(t[T]=e[T]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,p=SO(r),v=p&&p[0],y=p&&p[1],{onBeforeEnter:A,onEnter:P,onEnterCancelled:D,onLeave:N,onLeaveCancelled:R,onBeforeAppear:V=A,onAppear:S=P,onAppearCancelled:w=D}=t,_=(T,x,B)=>{es(T,x?c:a),es(T,x?u:o),B&&B()},I=(T,x)=>{T._isLeaving=!1,es(T,d),es(T,m),es(T,h),x&&x()},E=T=>(x,B)=>{const U=T?S:P,$=()=>_(x,T,B);Gs(U,[x,$]),pw(()=>{es(x,T?l:s),pr(x,T?c:a),vw(U)||yw(x,i,v,$)})};return Qt(t,{onBeforeEnter(T){Gs(A,[T]),pr(T,s),pr(T,o)},onBeforeAppear(T){Gs(V,[T]),pr(T,l),pr(T,u)},onEnter:E(!1),onAppear:E(!0),onLeave(T,x){T._isLeaving=!0;const B=()=>I(T,x);pr(T,d),pr(T,h),QT(),pw(()=>{T._isLeaving&&(es(T,d),pr(T,m),vw(N)||yw(T,i,y,B))}),Gs(N,[T,B])},onEnterCancelled(T){_(T,!1),Gs(D,[T])},onAppearCancelled(T){_(T,!0),Gs(w,[T])},onLeaveCancelled(T){I(T),Gs(R,[T])}})}function SO(e){if(e==null)return null;if(Ct(e))return[Lm(e.enter),Lm(e.leave)];{const t=Lm(e);return[t,t]}}function Lm(e){return BE(e)}function pr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[qa]||(e[qa]=new Set)).add(t)}function es(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[qa];n&&(n.delete(t),n.size||(e[qa]=void 0))}function pw(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let EO=0;function yw(e,t,n,i){const r=e._endId=++EO,s=()=>{r===e._endId&&i()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=YT(e,t);if(!o)return i();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,h),s()},h=m=>{m.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,h)}function YT(e,t){const n=window.getComputedStyle(e),i=p=>(n[p]||"").split(", "),r=i(`${Yr}Delay`),s=i(`${Yr}Duration`),o=_w(r,s),a=i(`${Kl}Delay`),l=i(`${Kl}Duration`),u=_w(a,l);let c=null,d=0,h=0;t===Yr?o>0&&(c=Yr,d=o,h=s.length):t===Kl?u>0&&(c=Kl,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Yr:Kl:null,h=c?c===Yr?s.length:l.length:0);const m=c===Yr&&/\b(transform|all)(,|$)/.test(i(`${Yr}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:m}}function _w(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>bw(n)+bw(e[i])))}function bw(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function QT(){return document.body.offsetHeight}function TO(e,t,n){const i=e[qa];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const rf=Symbol("_vod"),XT=Symbol("_vsh"),Wi={beforeMount(e,{value:t},{transition:n}){e[rf]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ql(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),ql(e,!0),i.enter(e)):i.leave(e,()=>{ql(e,!1)}):ql(e,t))},beforeUnmount(e,{value:t}){ql(e,t)}};function ql(e,t){e.style.display=t?e[rf]:"none",e[XT]=!t}const CO=Symbol(""),kO=/(^|;)\s*display\s*:/;function AO(e,t,n){const i=e.style,r=$t(n);let s=!1;if(n&&!r){if(t)if($t(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Md(i,a,"")}else for(const o in t)n[o]==null&&Md(i,o,"");for(const o in n)o==="display"&&(s=!0),Md(i,o,n[o])}else if(r){if(t!==n){const o=i[CO];o&&(n+=";"+o),i.cssText=n,s=kO.test(n)}}else t&&e.removeAttribute("style");rf in e&&(e[rf]=s?i.display:"",e[XT]&&(i.display="none"))}const ww=/\s*!important$/;function Md(e,t,n){if(Le(n))n.forEach(i=>Md(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=PO(e,t);ww.test(n)?e.setProperty(Ho(i),n.replace(ww,""),"important"):e[i]=n}}const Iw=["Webkit","Moz","ms"],Fm={};function PO(e,t){const n=Fm[t];if(n)return n;let i=ri(t);if(i!=="filter"&&i in e)return Fm[t]=i;i=lr(i);for(let r=0;r<Iw.length;r++){const s=Iw[r]+i;if(s in e)return Fm[t]=s}return t}const Sw="http://www.w3.org/1999/xlink";function Ew(e,t,n,i,r,s=DD(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Sw,t.slice(6,t.length)):e.setAttributeNS(Sw,t,n):n==null||s&&!UE(n)?e.removeAttribute(t):e.setAttribute(t,s?"":As(n)?String(n):n)}function xO(e,t,n,i){if(t==="innerHTML"||t==="textContent"){if(n==null)return;e[t]=n;return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?"":String(n);(o!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=UE(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function wa(e,t,n,i){e.addEventListener(t,n,i)}function RO(e,t,n,i){e.removeEventListener(t,n,i)}const Tw=Symbol("_vei");function VO(e,t,n,i,r=null){const s=e[Tw]||(e[Tw]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=DO(t);if(i){const u=s[t]=MO(i,r);wa(e,a,u,l)}else o&&(RO(e,a,o,l),s[t]=void 0)}}const Cw=/(?:Once|Passive|Capture)$/;function DO(e){let t;if(Cw.test(e)){t={};let i;for(;i=e.match(Cw);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ho(e.slice(2)),t]}let Bm=0;const NO=Promise.resolve(),OO=()=>Bm||(NO.then(()=>Bm=0),Bm=Date.now());function MO(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;bi(LO(i,n.value),t,5,[i])};return n.value=e,n.attached=OO(),n}function LO(e,t){if(Le(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const kw=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,FO=(e,t,n,i,r,s)=>{const o=r==="svg";t==="class"?TO(e,i,o):t==="style"?AO(e,n,i):Gf(t)?_p(t)||VO(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):BO(e,t,i,o))?(xO(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ew(e,t,i,o,s,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Ew(e,t,i,o))};function BO(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&kw(t)&&We(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return kw(t)&&$t(n)?!1:t in e}const JT=new WeakMap,ZT=new WeakMap,sf=Symbol("_moveCb"),Aw=Symbol("_enterCb"),eC={name:"TransitionGroup",props:Qt({},IO,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=eh(),i=gT();let r,s;return Op(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!zO(r[0].el,n.vnode.el,o))return;r.forEach(UO),r.forEach(HO);const a=r.filter(jO);QT(),a.forEach(l=>{const u=l.el,c=u.style;pr(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[sf]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[sf]=null,es(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=Be(e),a=qT(o);let l=o.tag||Ae;if(r=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(r.push(c),Wa(c,Lu(c,a,i,n)),JT.set(c,c.el.getBoundingClientRect()))}s=t.default?Dp(t.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Wa(c,Lu(c,a,i,n))}return g(l,null,s)}}},$O=e=>delete e.mode;eC.props;const Wp=eC;function UO(e){const t=e.el;t[sf]&&t[sf](),t[Aw]&&t[Aw]()}function HO(e){ZT.set(e,e.el.getBoundingClientRect())}function jO(e){const t=JT.get(e),n=ZT.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",e}}function zO(e,t,n){const i=e.cloneNode(),r=e[qa];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=YT(i);return s.removeChild(i),o}const Pw=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Le(t)?n=>Dd(t,n):t};function WO(e){e.target.composing=!0}function xw(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $m=Symbol("_assign"),GO={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[$m]=Pw(r);const s=i||r.props&&r.props.type==="number";wa(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=kg(a)),e[$m](a)}),n&&wa(e,"change",()=>{e.value=e.value.trim()}),t||(wa(e,"compositionstart",WO),wa(e,"compositionend",xw),wa(e,"change",xw))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(e[$m]=Pw(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?kg(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},KO=["ctrl","shift","alt","meta"],qO={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>KO.some(n=>e[`${n}Key`]&&!t.includes(n))},Hg=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<t.length;o++){const a=qO[t[o]];if(a&&a(r,t))return}return e(r,...s)})},YO=Qt({patchProp:FO},wO);let Rw;function tC(){return Rw||(Rw=$N(YO))}const nC=(...e)=>{tC().render(...e)},QO=(...e)=>{const t=tC().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=JO(i);if(!r)return;const s=t._component;!We(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,XO(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function XO(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function JO(e){return $t(e)?document.querySelector(e):e}var ZO=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let iC;const ih=e=>iC=e,rC=Symbol();function jg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var bu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(bu||(bu={}));function eM(){const e=pl(!0),t=e.run(()=>le({}));let n=[],i=[];const r=Qf({install(s){ih(r),r._a=s,s.provide(rC,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!ZO?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const sC=()=>{};function Vw(e,t,n,i=sC){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&WE()&&wn(r),r}function da(e,...t){e.slice().forEach(n=>{n(...t)})}const tM=e=>e();function zg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];jg(r)&&jg(i)&&e.hasOwnProperty(n)&&!bt(i)&&!ho(i)?e[n]=zg(r,i):e[n]=i}return e}const nM=Symbol();function iM(e){return!jg(e)||!e.hasOwnProperty(nM)}const{assign:ts}=Object;function rM(e){return!!(bt(e)&&e.effect)}function sM(e,t,n,i){const{state:r,actions:s,getters:o}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=r?r():{});const c=Rs(n.state.value[e]);return ts(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Qf(C(()=>{ih(n);const m=n._s.get(e);return o[h].call(m,m)})),d),{}))}return l=oC(e,u,t,n,i,!0),l}function oC(e,t,n={},i,r,s){let o;const a=ts({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],m;const p=i.state.value[e];!s&&!p&&(i.state.value[e]={}),le({});let v;function y(w){let _;u=c=!1,typeof w=="function"?(w(i.state.value[e]),_={type:bu.patchFunction,storeId:e,events:m}):(zg(i.state.value[e],w),_={type:bu.patchObject,payload:w,storeId:e,events:m});const I=v=Symbol();Ke().then(()=>{v===I&&(u=!0)}),c=!0,da(d,_,i.state.value[e])}const A=s?function(){const{state:_}=n,I=_?_():{};this.$patch(E=>{ts(E,I)})}:sC;function P(){o.stop(),d=[],h=[],i._s.delete(e)}function D(w,_){return function(){ih(i);const I=Array.from(arguments),E=[],T=[];function x($){E.push($)}function B($){T.push($)}da(h,{args:I,name:w,store:R,after:x,onError:B});let U;try{U=_.apply(this&&this.$id===e?this:R,I)}catch($){throw da(T,$),$}return U instanceof Promise?U.then($=>(da(E,$),$)).catch($=>(da(T,$),Promise.reject($))):(da(E,U),U)}}const N={_p:i,$id:e,$onAction:Vw.bind(null,h),$patch:y,$reset:A,$subscribe(w,_={}){const I=Vw(d,w,_.detached,()=>E()),E=o.run(()=>_e(()=>i.state.value[e],T=>{(_.flush==="sync"?c:u)&&w({storeId:e,type:bu.direct,events:m},T)},ts({},l,_)));return I},$dispose:P},R=rn(N);i._s.set(e,R);const S=(i._a&&i._a.runWithContext||tM)(()=>i._e.run(()=>(o=pl()).run(t)));for(const w in S){const _=S[w];if(bt(_)&&!rM(_)||ho(_))s||(p&&iM(_)&&(bt(_)?_.value=p[w]:zg(_,p[w])),i.state.value[e][w]=_);else if(typeof _=="function"){const I=D(w,_);S[w]=I,a.actions[w]=_}}return ts(R,S),ts(Be(R),S),Object.defineProperty(R,"$state",{get:()=>i.state.value[e],set:w=>{y(_=>{ts(_,w)})}}),i._p.forEach(w=>{ts(R,o.run(()=>w({store:R,app:i._a,pinia:i,options:a})))}),p&&s&&n.hydrate&&n.hydrate(R.$state,p),u=!0,c=!0,R}function oM(e,t,n){let i,r;const s=typeof t=="function";i=e,r=s?n:t;function o(a,l){const u=PN();return a=a||(u?$e(rC,null):null),a&&ih(a),a=iC,a._s.has(i)||(s?oC(i,t,r,a):sM(i,r,a)),a._s.get(i)}return o.$id=i,o}var Dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe=function(e,t){if(!e)throw _l(t)},_l=function(e){return new Error("Firebase Database ("+aC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},aM=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},rh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),i.push(n[c],n[d],n[h],n[m])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):aM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const d=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new lM;const h=s<<2|a>>4;if(i.push(h),u!==64){const m=a<<4&240|u>>2;if(i.push(m),d!==64){const p=u<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class lM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uC=function(e){const t=lC(e);return rh.encodeByteArray(t,!0)},cC=function(e){return uC(e).replace(/\./g,"")},of=function(e){try{return rh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(e){return dC(void 0,e)}function dC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!cM(n)||(e[n]=dC(e[n],t[n]));return e}function cM(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=()=>dM().__FIREBASE_DEFAULTS__,hM=()=>{if(typeof process>"u"||typeof Dw>"u")return;const e=Dw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mM=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&of(e[1]);return t&&JSON.parse(t)},sh=()=>{try{return fM()||hM()||mM()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gM=e=>{var t,n;return(n=(t=sh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},fC=()=>{var e;return(e=sh())===null||e===void 0?void 0:e.config},hC=e=>{var t;return(t=sh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function vM(){var e;const t=(e=sh())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pM(){const e=Wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vC(){return aC.NODE_ADMIN===!0}function pC(){return!vM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vc(){try{return typeof indexedDB=="object"}catch{return!1}}function Kp(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function yC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="FirebaseError";class Ei extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=yM,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lr.prototype.create)}}class Lr{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?_M(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ei(r,a,i)}}function _M(e,t){return e.replace(bM,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const bM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(e){return JSON.parse(e)}function pn(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=$u(of(s[0])||""),n=$u(of(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},wM=function(e){const t=_C(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},IM=function(e){const t=_C(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ya(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Wg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function af(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Qa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(Nw(s)&&Nw(o)){if(!Qa(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Nw(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function lu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function uu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)i[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(r<<5|r>>>27)+u+l+c+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=t[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}}function EM(e,t){const n=new TM(e,t);return n.subscribe.bind(n)}class TM{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");CM(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Um),r.error===void 0&&(r.error=Um),r.complete===void 0&&(r.complete=Um);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CM(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Um(){}function kM(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Pe(i<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},oh=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=1e3,xM=2,RM=4*60*60*1e3,VM=.5;function Ow(e,t=PM,n=xM){const i=t*Math.pow(n,e),r=Math.round(VM*i*(Math.random()-.5)*2);return Math.min(RM,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e){return e&&e._delegate?e._delegate:e}class Nn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Bu;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OM(t))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xs){return this.instances.has(t)}getOptions(t=Xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NM(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Xs){return this.component?this.component.multipleInstances?t:Xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NM(e){return e===Xs?void 0:e}function OM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new DM(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(qe||(qe={}));const LM={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},FM=qe.INFO,BM={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},$M=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=BM[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zo{constructor(t){this.name=t,this._logLevel=FM,this._logHandler=$M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...t),this._logHandler(this,qe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...t),this._logHandler(this,qe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...t),this._logHandler(this,qe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...t),this._logHandler(this,qe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...t),this._logHandler(this,qe.ERROR,...t)}}const UM=(e,t)=>t.some(n=>e instanceof n);let Mw,Lw;function HM(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jM(){return Lw||(Lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bC=new WeakMap,Gg=new WeakMap,wC=new WeakMap,Hm=new WeakMap,qp=new WeakMap;function zM(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(vs(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&bC.set(n,e)}).catch(()=>{}),qp.set(t,e),t}function WM(e){if(Gg.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Gg.set(e,t)}let Kg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Gg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function GM(e){Kg=e(Kg)}function KM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(jm(this),t,...n);return wC.set(i,t.sort?t.sort():[t]),vs(i)}:jM().includes(e)?function(...t){return e.apply(jm(this),t),vs(bC.get(this))}:function(...t){return vs(e.apply(jm(this),t))}}function qM(e){return typeof e=="function"?KM(e):(e instanceof IDBTransaction&&WM(e),UM(e,HM())?new Proxy(e,Kg):e)}function vs(e){if(e instanceof IDBRequest)return zM(e);if(Hm.has(e))return Hm.get(e);const t=qM(e);return t!==e&&(Hm.set(e,t),qp.set(t,e)),t}const jm=e=>qp.get(e);function IC(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=vs(o);return i&&o.addEventListener("upgradeneeded",l=>{i(vs(o.result),l.oldVersion,l.newVersion,vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const YM=["get","getKey","getAll","getAllKeys","count"],QM=["put","add","delete","clear"],zm=new Map;function Fw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zm.get(t))return zm.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=QM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||YM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return zm.set(t,s),s}GM(e=>({...e,get:(t,n,i)=>Fw(t,n)||e.get(t,n,i),has:(t,n)=>!!Fw(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function JM(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qg="@firebase/app",Bw="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new zo("@firebase/app"),ZM="@firebase/app-compat",eL="@firebase/analytics-compat",tL="@firebase/analytics",nL="@firebase/app-check-compat",iL="@firebase/app-check",rL="@firebase/auth",sL="@firebase/auth-compat",oL="@firebase/database",aL="@firebase/database-compat",lL="@firebase/functions",uL="@firebase/functions-compat",cL="@firebase/installations",dL="@firebase/installations-compat",fL="@firebase/messaging",hL="@firebase/messaging-compat",mL="@firebase/performance",gL="@firebase/performance-compat",vL="@firebase/remote-config",pL="@firebase/remote-config-compat",yL="@firebase/storage",_L="@firebase/storage-compat",bL="@firebase/firestore",wL="@firebase/vertexai-preview",IL="@firebase/firestore-compat",SL="firebase",EL="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="[DEFAULT]",TL={[qg]:"fire-core",[ZM]:"fire-core-compat",[tL]:"fire-analytics",[eL]:"fire-analytics-compat",[iL]:"fire-app-check",[nL]:"fire-app-check-compat",[rL]:"fire-auth",[sL]:"fire-auth-compat",[oL]:"fire-rtdb",[aL]:"fire-rtdb-compat",[lL]:"fire-fn",[uL]:"fire-fn-compat",[cL]:"fire-iid",[dL]:"fire-iid-compat",[fL]:"fire-fcm",[hL]:"fire-fcm-compat",[mL]:"fire-perf",[gL]:"fire-perf-compat",[vL]:"fire-rc",[pL]:"fire-rc-compat",[yL]:"fire-gcs",[_L]:"fire-gcs-compat",[bL]:"fire-fst",[IL]:"fire-fst-compat",[wL]:"fire-vertex","fire-js":"fire-js",[SL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,CL=new Map,Qg=new Map;function $w(e,t){try{e.container.addComponent(t)}catch(n){wo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Un(e){const t=e.name;if(Qg.has(t))return wo.debug(`There were multiple attempts to register component ${t}.`),!1;Qg.set(t,e);for(const n of lf.values())$w(n,e);for(const n of CL.values())$w(n,e);return!0}function Ds(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _r(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Lr("app","Firebase",kL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=EL;function SC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Yg,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw ps.create("bad-app-name",{appName:String(r)});if(n||(n=fC()),!n)throw ps.create("no-options");const s=lf.get(r);if(s){if(Qa(n,s.options)&&Qa(i,s.config))return s;throw ps.create("duplicate-app",{appName:r})}const o=new MM(r);for(const l of Qg.values())o.addComponent(l);const a=new AL(n,i,o);return lf.set(r,a),a}function ah(e=Yg){const t=lf.get(e);if(!t&&e===Yg&&fC())return SC();if(!t)throw ps.create("no-app",{appName:e});return t}function Yt(e,t,n){var i;let r=(i=TL[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),wo.warn(a.join(" "));return}Un(new Nn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="firebase-heartbeat-database",xL=1,Uu="firebase-heartbeat-store";let Wm=null;function EC(){return Wm||(Wm=IC(PL,xL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(e=>{throw ps.create("idb-open",{originalErrorMessage:e.message})})),Wm}async function RL(e){try{const n=(await EC()).transaction(Uu),i=await n.objectStore(Uu).get(TC(e));return await n.done,i}catch(t){if(t instanceof Ei)wo.warn(t.message);else{const n=ps.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});wo.warn(n.message)}}}async function Uw(e,t){try{const i=(await EC()).transaction(Uu,"readwrite");await i.objectStore(Uu).put(t,TC(e)),await i.done}catch(n){if(n instanceof Ei)wo.warn(n.message);else{const i=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wo.warn(i.message)}}}function TC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1024,DL=30*24*60*60*1e3;class NL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ML(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hw();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=DL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hw(),{heartbeatsToSend:i,unsentEntries:r}=OL(this._heartbeatsCache.heartbeats),s=cC(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Hw(){return new Date().toISOString().substring(0,10)}function OL(e,t=VL){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),jw(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),jw(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ML{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vc()?Kp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function jw(e){return cC(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(e){Un(new Nn("platform-logger",t=>new XM(t),"PRIVATE")),Un(new Nn("heartbeat",t=>new NL(t),"PRIVATE")),Yt(qg,Bw,e),Yt(qg,Bw,"esm2017"),Yt("fire-js","")}LL("");function Yp(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function CC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FL=CC,kC=new Lr("auth","Firebase",CC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new zo("@firebase/auth");function BL(e,...t){uf.logLevel<=qe.WARN&&uf.warn(`Auth (${Ns}): ${e}`,...t)}function Ld(e,...t){uf.logLevel<=qe.ERROR&&uf.error(`Auth (${Ns}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(e,...t){throw Qp(e,...t)}function tr(e,...t){return Qp(e,...t)}function AC(e,t,n){const i=Object.assign(Object.assign({},FL()),{[t]:n});return new Lr("auth","Firebase",i).create(t,{appName:e.name})}function ys(e){return AC(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return kC.create(e,...t)}function He(e,t,...n){if(!e)throw Qp(t,...n)}function br(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ld(t),new Error(t)}function xr(e,t){e||br(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function $L(){return zw()==="http:"||zw()==="https:"}function zw(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($L()||mC()||"connection"in navigator)?navigator.onLine:!0}function HL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.shortDelay=t,this.longDelay=n,xr(n>t,"Short delay should be less than long delay!"),this.isMobile=Gp()||gC()}get(){return UL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(e,t){xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new pc(3e4,6e4);function Os(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Br(e,t,n,i,r={}){return xC(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=bl(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),PC.fetch()(RC(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function xC(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},jL),t);try{const r=new GL(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ud(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ud(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw ud(e,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AC(e,c,u);$i(e,c)}}catch(r){if(r instanceof Ei)throw r;$i(e,"network-request-failed",{message:String(r)})}}async function lh(e,t,n,i,r={}){const s=await Br(e,t,n,i,r);return"mfaPendingCredential"in s&&$i(e,"multi-factor-auth-required",{_serverResponse:s}),s}function RC(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?Xp(e.config,r):`${e.config.apiScheme}://${r}`}function WL(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GL{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(tr(this.auth,"network-request-failed")),zL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ud(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=tr(e,t,i);return r.customData._tokenResponse=n,r}function Ww(e){return e!==void 0&&e.enterprise!==void 0}class KL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return WL(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function qL(e,t){return Br(e,"GET","/v2/recaptchaConfig",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(e,t){return Br(e,"POST","/v1/accounts:delete",t)}async function VC(e,t){return Br(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function QL(e,t=!1){const n=li(e),i=await n.getIdToken(t),r=Jp(i);He(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:wu(Gm(r.auth_time)),issuedAtTime:wu(Gm(r.iat)),expirationTime:wu(Gm(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gm(e){return Number(e)*1e3}function Jp(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{const r=of(n);return r?JSON.parse(r):(Ld("Failed to decode base64 JWT payload"),null)}catch(r){return Ld("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Gw(e){const t=Jp(e);return He(t,"internal-error"),He(typeof t.exp<"u","internal-error"),He(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Ei&&XL(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function XL({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Hu(e,VC(n,{idToken:i}));He(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?DC(s.providerUserInfo):[],a=eF(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jg(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function ZL(e){const t=li(e);await cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eF(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function DC(e){return e.map(t=>{var{providerId:n}=t,i=Yp(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(e,t){const n=await xC(e,{},async()=>{const i=bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=RC(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",PC.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nF(e,t){return Br(e,"POST","/v2/accounts:revokeToken",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){He(t.idToken,"internal-error"),He(typeof t.idToken<"u","internal-error"),He(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Gw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){He(t.length!==0,"internal-error");const n=Gw(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await tF(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Fa;return i&&(He(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(He(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(He(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e,t){He(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class wr{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Yp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Hu(this,this.stsTokenManager.getToken(this.auth,t));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return QL(this,t)}reload(){return ZL(this)}_assign(t){this!==t&&(He(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new wr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(ys(this.auth));const t=await this.getIdToken();return await Hu(this,YL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,a,l,u,c;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,A=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:D,emailVerified:N,isAnonymous:R,providerData:V,stsTokenManager:S}=n;He(D&&S,t,"internal-error");const w=Fa.fromJSON(this.name,S);He(typeof D=="string",t,"internal-error"),Qr(d,t.name),Qr(h,t.name),He(typeof N=="boolean",t,"internal-error"),He(typeof R=="boolean",t,"internal-error"),Qr(m,t.name),Qr(p,t.name),Qr(v,t.name),Qr(y,t.name),Qr(A,t.name),Qr(P,t.name);const _=new wr({uid:D,auth:t,email:h,emailVerified:N,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:m,tenantId:v,stsTokenManager:w,createdAt:A,lastLoginAt:P});return V&&Array.isArray(V)&&(_.providerData=V.map(I=>Object.assign({},I))),y&&(_._redirectEventId=y),_}static async _fromIdTokenResponse(t,n,i=!1){const r=new Fa;r.updateFromServerResponse(n);const s=new wr({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await cf(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];He(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?DC(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Fa;a.updateFromIdToken(i);const l=new wr({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Jg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;function Ir(e){xr(e instanceof Function,"Expected a class definition");let t=Kw.get(e);return t?(xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kw.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}NC.type="NONE";const qw=NC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(e,t,n){return`firebase:${e}:${t}:${n}`}class Ba{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Fd(this.userKey,r.apiKey,s),this.fullPersistenceKey=Fd("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?wr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ba(Ir(qw),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Ir(qw);const o=Fd(i,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=wr._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ba(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ba(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BC(t))return"Blackberry";if($C(t))return"Webos";if(Zp(t))return"Safari";if((t.includes("chrome/")||MC(t))&&!t.includes("edge/"))return"Chrome";if(FC(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function OC(e=Wt()){return/firefox\//i.test(e)}function Zp(e=Wt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function MC(e=Wt()){return/crios\//i.test(e)}function LC(e=Wt()){return/iemobile/i.test(e)}function FC(e=Wt()){return/android/i.test(e)}function BC(e=Wt()){return/blackberry/i.test(e)}function $C(e=Wt()){return/webos/i.test(e)}function uh(e=Wt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function iF(e=Wt()){var t;return uh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rF(){return pM()&&document.documentMode===10}function UC(e=Wt()){return uh(e)||FC(e)||$C(e)||BC(e)||/windows phone/i.test(e)||LC(e)}function sF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(e,t=[]){let n;switch(e){case"Browser":n=Yw(Wt());break;case"Worker":n=`${Yw(Wt())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ns}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(e,t={}){return Br(e,"GET","/v2/passwordPolicy",Os(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=6;class uF{constructor(t){var n,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qw(this),this.idTokenSubscription=new Qw(this),this.beforeStateQueue=new oF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await VC(this,{idToken:t}),i=await wr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(_r(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await cf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_r(this.app))return Promise.reject(ys(this));const n=t?li(t):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&He(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _r(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aF(this),n=new uF(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Lr("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await nF(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ir(t)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&BL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wo(e){return li(e)}class Qw{constructor(t){this.auth=t,this.observer=null,this.addObserver=EM(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dF(e){ch=e}function jC(e){return ch.loadJS(e)}function fF(){return ch.recaptchaEnterpriseScript}function hF(){return ch.gapiScript}function mF(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const gF="recaptcha-enterprise",vF="NO_RECAPTCHA";class pF{constructor(t){this.type=gF,this.auth=Wo(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{qL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new KL(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;Ww(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(vF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Ww(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=fF();l.length!==0&&(l+=a),jC(l).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Xw(e,t,n,i=!1){const r=new pF(e);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Zg(e,t,n,i){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Xw(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Xw(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(e,t){const n=Ds(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Qa(s,t??{}))return r;$i(r,"already-initialized")}return n.initialize({options:t})}function yF(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ir);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function _F(e,t,n){const i=Wo(e);He(i._canInitEmulator,i,"emulator-config-failed"),He(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=WC(t),{host:o,port:a}=bF(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),wF()}function WC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function bF(e){const t=WC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Jw(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Jw(o)}}}function Jw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wF(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(t){return br("not implemented")}_linkToIdToken(t,n){return br("not implemented")}_getReauthenticationResolver(t){return br("not implemented")}}async function IF(e,t){return Br(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(e,t){return lh(e,"POST","/v1/accounts:signInWithPassword",Os(e,t))}async function EF(e,t){return Br(e,"POST","/v1/accounts:sendOobCode",Os(e,t))}async function TF(e,t){return EF(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(e,t){return lh(e,"POST","/v1/accounts:signInWithEmailLink",Os(e,t))}async function kF(e,t){return lh(e,"POST","/v1/accounts:signInWithEmailLink",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends ey{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new ju(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new ju(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(t,n,"signInWithPassword",SF);case"emailLink":return CF(t,{email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(t,i,"signUpPassword",IF);case"emailLink":return kF(t,{idToken:n,email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(e,t){return lh(e,"POST","/v1/accounts:signInWithIdp",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="http://localhost";class Io extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Io(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Yp(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Io(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,$a(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:AF,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xF(e){const t=lu(uu(e)).link,n=t?lu(uu(t)).deep_link_id:null,i=lu(uu(e)).deep_link_id;return(i?lu(uu(i)).link:null)||i||n||t||e}class ty{constructor(t){var n,i,r,s,o,a;const l=lu(uu(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(i=l.oobCode)!==null&&i!==void 0?i:null,d=PF((r=l.mode)!==null&&r!==void 0?r:null);He(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=xF(t);try{return new ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(t,n){return ju._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=ty.parseLink(n);return He(i,"argument-error"),ju._fromEmailAndCode(t,i.code,i.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends GC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends yc{constructor(){super("facebook.com")}static credential(t){return Io._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Io._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return ls.credential(n,i)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends yc{constructor(){super("github.com")}static credential(t){return Io._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends yc{constructor(){super("twitter.com")}static credential(t,n){return Io._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return cs.credential(n,i)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await wr._fromIdTokenResponse(t,i,r),o=Zw(i);return new Xa({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=Zw(i);return new Xa({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function Zw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Ei{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,df.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new df(t,n,i,r)}}function KC(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(e,s,t,i):s})}async function RF(e,t,n=!1){const i=await Hu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xa._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(e,t,n=!1){const{auth:i}=e;if(_r(i.app))return Promise.reject(ys(i));const r="reauthenticate";try{const s=await Hu(e,KC(i,r,t,e),n);He(s.idToken,i,"internal-error");const o=Jp(s.idToken);He(o,i,"internal-error");const{sub:a}=o;return He(e.uid===a,i,"user-mismatch"),Xa._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$i(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(e,t,n=!1){if(_r(e.app))return Promise.reject(ys(e));const i="signIn",r=await KC(e,i,t),s=await Xa._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function DF(e,t){return qC(Wo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(e){const t=Wo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function OF(e,t,n){const i=Wo(e);await Zg(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TF)}function MF(e,t,n){return _r(e.app)?Promise.reject(ys(e)):DF(li(e),wl.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&NF(e),i})}function YC(e,t,n,i){return li(e).onIdTokenChanged(t,n,i)}function LF(e,t,n){return li(e).beforeAuthStateChanged(t,n)}function FF(e,t,n,i){return li(e).onAuthStateChanged(t,n,i)}function BF(e){return li(e).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(){const e=Wt();return Zp(e)||uh(e)}const UF=1e3,HF=10;class XC extends QC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$F()&&sF(),this.fallbackToPolling=UC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);rF()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,HF):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},UF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}XC.type="LOCAL";const JC=XC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC extends QC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ZC.type="SESSION";const ny=ZC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new dh(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await jF(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=iy("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function WF(e){nr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function GF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KF(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function qF(){return ek()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="firebaseLocalStorageDb",YF=1,hf="firebaseLocalStorage",nk="fbase_key";class _c{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(e,t){return e.transaction([hf],t?"readwrite":"readonly").objectStore(hf)}function QF(){const e=indexedDB.deleteDatabase(tk);return new _c(e).toPromise()}function ev(){const e=indexedDB.open(tk,YF);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(hf,{keyPath:nk})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(hf)?t(i):(i.close(),await QF(),t(await ev()))})})}async function eI(e,t,n){const i=fh(e,!0).put({[nk]:t,value:n});return new _c(i).toPromise()}async function XF(e,t){const n=fh(e,!1).get(t),i=await new _c(n).toPromise();return i===void 0?null:i.value}function tI(e,t){const n=fh(e,!0).delete(t);return new _c(n).toPromise()}const JF=800,ZF=3;class ik{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ev(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>ZF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ek()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(qF()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await GF(),!this.activeServiceWorker)return;this.sender=new zF(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ev();return await eI(t,ff,"1"),await tI(t,ff),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>eI(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>XF(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tI(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=fh(r,!1).getAll();return new _c(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ik.type="LOCAL";const rk=ik;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(e,t){return t?Ir(t):(He(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends ey{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tB(e){return qC(e.auth,new ry(e),e.bypassAuthState)}function nB(e){const{auth:t,user:n}=e;return He(n,t,"internal-error"),VF(n,new ry(e),e.bypassAuthState)}async function iB(e){const{auth:t,user:n}=e;return He(n,t,"internal-error"),RF(n,new ry(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tB;case"linkViaPopup":case"linkViaRedirect":return iB;case"reauthViaPopup":case"reauthViaRedirect":return nB;default:$i(this.auth,"internal-error")}}resolve(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=new pc(2e3,1e4);class ka extends sk{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return He(t,this.auth,"internal-error"),t}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const t=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rB.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="pendingRedirect",Bd=new Map;class oB extends sk{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Bd.get(this.auth._key());if(!t){try{const i=await aB(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Bd.set(this.auth._key(),t)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aB(e,t){const n=cB(t),i=uB(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function lB(e,t){Bd.set(e._key(),t)}function uB(e){return Ir(e._redirectPersistence)}function cB(e){return Fd(sB,e.config.apiKey,e.name)}async function dB(e,t,n=!1){if(_r(e.app))return Promise.reject(ys(e));const i=Wo(e),r=eB(i,t),o=await new oB(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=10*60*1e3;class hB{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mB(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!ok(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fB&&this.cachedEventUids.clear(),this.cachedEventUids.has(nI(t))}saveEventToCache(t){this.cachedEventUids.add(nI(t)),this.lastProcessedEventTime=Date.now()}}function nI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ok({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mB(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ok(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(e,t={}){return Br(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pB=/^https?/;async function yB(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gB(e);for(const n of t)try{if(_B(n))return}catch{}$i(e,"unauthorized-domain")}function _B(e){const t=Xg(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!pB.test(n))return!1;if(vB.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new pc(3e4,6e4);function iI(){const e=nr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function wB(e){return new Promise((t,n)=>{var i,r,s;function o(){iI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iI(),n(tr(e,"network-request-failed"))},timeout:bB.get()})}if(!((r=(i=nr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=nr().gapi)===null||s===void 0)&&s.load)o();else{const a=mF("iframefcb");return nr()[a]=()=>{gapi.load?o():n(tr(e,"network-request-failed"))},jC(`${hF()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw $d=null,t})}let $d=null;function IB(e){return $d=$d||wB(e),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=new pc(5e3,15e3),EB="__/auth/iframe",TB="emulator/auth/iframe",CB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AB(e){const t=e.config;He(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xp(t,TB):`https://${e.config.authDomain}/${EB}`,i={apiKey:t.apiKey,appName:e.name,v:Ns},r=kB.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${bl(i).slice(1)}`}async function PB(e){const t=await IB(e),n=nr().gapi;return He(n,e,"internal-error"),t.open({where:document.body,url:AB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CB,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=tr(e,"network-request-failed"),a=nr().setTimeout(()=>{s(o)},SB.get());function l(){nr().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RB=500,VB=600,DB="_blank",NB="http://localhost";class rI{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OB(e,t,n,i=RB,r=VB){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xB),{width:i.toString(),height:r.toString(),top:s,left:o}),u=Wt().toLowerCase();n&&(a=MC(u)?DB:n),OC(u)&&(t=t||NB,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[m,p])=>`${h}${m}=${p},`,"");if(iF(u)&&a!=="_self")return MB(t||"",a),new rI(null);const d=window.open(t||"",a,c);He(d,e,"popup-blocked");try{d.focus()}catch{}return new rI(d)}function MB(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="__/auth/handler",FB="emulator/auth/handler",BB=encodeURIComponent("fac");async function sI(e,t,n,i,r,s){He(e.config.authDomain,e,"auth-domain-config-required"),He(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ns,eventId:r};if(t instanceof GC){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Wg(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof yc){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${BB}=${encodeURIComponent(l)}`:"";return`${$B(e)}?${bl(a).slice(1)}${u}`}function $B({config:e}){return e.emulator?Xp(e,FB):`https://${e.authDomain}/${LB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class UB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ny,this._completeRedirectFn=dB,this._overrideRedirectResult=lB}async _openPopup(t,n,i,r){var s;xr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await sI(t,n,i,Xg(),r);return OB(t,o,iy())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await sI(t,n,i,Xg(),r);return WF(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(xr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await PB(t),i=new hB(t);return n.register("authEvent",r=>(He(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Km,{type:Km},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Km];o!==void 0&&n(!!o),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yB(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UC()||Zp()||uh()}}const ak=UB;var oI="@firebase/auth",aI="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zB(e){Un(new Nn("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;He(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HC(e)},u=new cF(i,r,s,l);return yF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Un(new Nn("auth-internal",t=>{const n=Wo(t.getProvider("auth").getImmediate());return(i=>new HB(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yt(oI,aI,jB(e)),Yt(oI,aI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=5*60,GB=hC("authIdTokenMaxAge")||WB;let lI=null;const KB=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>GB)return;const r=n==null?void 0:n.token;lI!==r&&(lI=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function qB(e=ah()){const t=Ds(e,"auth");if(t.isInitialized())return t.getImmediate();const n=zC(e,{popupRedirectResolver:ak,persistence:[rk,JC,ny]}),i=hC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=KB(s.toString());LF(n,o,()=>o(n.currentUser)),YC(n,a=>o(a))}}const r=gM("auth");return r&&_F(n,`http://${r}`),n}function YB(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}dF({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=tr("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",YB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zB("Browser");/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const QB={};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function cd(e){return Object.isFrozen(e)&&Object.isFrozen(e.raw)}function dd(e){return e.toString().indexOf("`")===-1}dd(e=>e``)||dd(e=>e`\0`)||dd(e=>e`\n`)||dd(e=>e`\u0000`);cd``&&cd`\0`&&cd`\n`&&cd`\u0000`;/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */let lk="google#safe";function XB(){if(typeof window<"u")return window.trustedTypes}function uk(){var e;return lk!==""&&(e=XB())!==null&&e!==void 0?e:null}let fd;function JB(){var e,t;if(fd===void 0)try{fd=(t=(e=uk())===null||e===void 0?void 0:e.createPolicy(lk,{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n}))!==null&&t!==void 0?t:null}catch{fd=null}return fd}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */class ck{constructor(t,n){this.privateDoNotAccessOrElseWrappedResourceUrl=t}toString(){return this.privateDoNotAccessOrElseWrappedResourceUrl.toString()}}function uI(e){var t;const n=e,i=(t=JB())===null||t===void 0?void 0:t.createScriptURL(n);return i??new ck(n,QB)}function ZB(e){var t;if(!((t=uk())===null||t===void 0)&&t.isScriptURL(e))return e;if(e instanceof ck)return e.privateDoNotAccessOrElseWrappedResourceUrl;{let n="";throw new Error(n)}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function e2(e,...t){if(t.length===0)return uI(e[0]);e[0].toLowerCase();let n=e[0];for(let i=0;i<t.length;i++)n+=encodeURIComponent(t[i])+e[i+1];return uI(n)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function t2(e){return n2("script",e)}function n2(e,t){var n;const i=t.document,r=(n=i.querySelector)===null||n===void 0?void 0:n.call(i,`${e}[nonce]`);return r&&(r.nonce||r.getAttribute("nonce"))||""}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function i2(e){const t=e.ownerDocument&&e.ownerDocument.defaultView,n=t2(t||window);n&&e.setAttribute("nonce",n)}function r2(e,t,n){e.src=ZB(t),i2(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Map,o2={activated:!1,tokenObservers:[]};function Ui(e){return s2.get(e)||Object.assign({},o2)}const cI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n,i,r,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Bu,this.pending.promise.catch(n=>{}),await l2(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Bu,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function l2(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},mf=new Lr("appCheck","AppCheck",u2);function dk(e){if(!Ui(e).activated)throw mf.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="firebase-app-check-database",d2=1,tv="firebase-app-check-store";let hd=null;function f2(){return hd||(hd=new Promise((e,t)=>{try{const n=indexedDB.open(c2,d2);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(mf.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(tv,{keyPath:"compositeKey"})}}}catch(n){t(mf.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),hd)}function h2(e,t){return m2(g2(e),t)}async function m2(e,t){const i=(await f2()).transaction(tv,"readwrite"),s=i.objectStore(tv).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var u;a(mf.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function g2(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new zo("@firebase/app-check");function dI(e,t){return vc()?h2(e,t).catch(n=>{nv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={error:"UNKNOWN_ERROR"};function p2(e){return rh.encodeString(JSON.stringify(e),!1)}async function iv(e,t=!1){const n=e.app;dk(n);const i=Ui(n);let r=i.token,s;if(r&&!cu(r)&&(i.token=void 0,r=void 0),!r){const l=await i.cachedTokenPromise;l&&(cu(l)?r=l:await dI(n,void 0))}if(!t&&r&&cu(r))return{token:r.token};let o=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=await Ui(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?nv.warn(l.message):nv.error(l),s=l}let a;return r?s?cu(r)?a={token:r.token,internalError:s}:a=hI(s):(a={token:r.token},i.token=r,await dI(n,r)):a=hI(s),o&&w2(n,a),a}async function y2(e){const t=e.app;dk(t);const{provider:n}=Ui(t);{const{token:i}=await n.getToken();return{token:i}}}function _2(e,t,n,i){const{app:r}=e,s=Ui(r),o={next:n,error:i,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&cu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),fI(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>fI(e))}function fk(e,t){const n=Ui(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function fI(e){const{app:t}=e,n=Ui(t);let i=n.tokenRefresher;i||(i=b2(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function b2(e){const{app:t}=e;return new a2(async()=>{const n=Ui(t);let i;if(n.token?i=await iv(e,!0):i=await iv(e),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=Ui(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},cI.RETRIAL_MIN_WAIT,cI.RETRIAL_MAX_WAIT)}function w2(e,t){const n=Ui(e).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function cu(e){return e.expireTimeMillis-Date.now()>0}function hI(e){return{token:p2(v2),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Ui(this.app);for(const n of t)fk(this.app,n.next);return Promise.resolve()}}function S2(e,t){return new I2(e,t)}function E2(e){return{getToken:t=>iv(e,t),getLimitedUseToken:()=>y2(e),addTokenListener:t=>_2(e,"INTERNAL",t),removeTokenListener:t=>fk(e.app,t)}}const T2="@firebase/app-check",C2="0.8.6",k2="app-check",mI="app-check-internal";function A2(){Un(new Nn(k2,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return S2(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(mI).initialize()})),Un(new Nn(mI,e=>{const t=e.getProvider("app-check").getImmediate();return E2(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Yt(T2,C2)}A2();var P2="firebase",x2="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt(P2,x2,"app");const hk=Symbol("firebaseApp");function R2(e){return eh()&&$e(hk,null)||ah(e)}const md=new WeakMap;function V2(e,t){if(!md.has(e)){const n=pl(!0);md.set(e,n);const{unmount:i}=t;t.unmount=()=>{i.call(t),n.stop(),md.delete(e)}}return md.get(e)}const D2=new WeakMap,gd=new WeakMap;function N2(e){const t=R2(e);if(!gd.has(t)){let n;const r=[new Promise(s=>{n=s}),s=>{gd.set(t,s),n(s.value)}];gd.set(t,r)}return gd.get(t)}function O2(e,t){YC(t,n=>{const i=N2();e.value=n,Array.isArray(i)&&i[1](e)})}var gI={};const vI="@firebase/database",pI="1.0.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mk="";function M2(e){mk=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),pn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:$u(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Fr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new L2(t)}}catch{}return new F2},so=gk("localStorage"),B2=gk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new zo("@firebase/database"),$2=function(){let e=1;return function(){return e++}}(),vk=function(e){const t=AM(e),n=new SM;n.update(t);const i=n.digest();return rh.encodeByteArray(i)},bc=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=bc.apply(null,i):typeof i=="object"?t+=pn(i):t+=i,t+=" "}return t};let Iu=null,yI=!0;const U2=function(e,t){Pe(!t,"Can't turn on custom loggers persistently."),Ua.logLevel=qe.VERBOSE,Iu=Ua.log.bind(Ua)},An=function(...e){if(yI===!0&&(yI=!1,Iu===null&&B2.get("logging_enabled")===!0&&U2()),Iu){const t=bc.apply(null,e);Iu(t)}},wc=function(e){return function(...t){An(e,...t)}},rv=function(...e){const t="FIREBASE INTERNAL ERROR: "+bc(...e);Ua.error(t)},So=function(...e){const t=`FIREBASE FATAL ERROR: ${bc(...e)}`;throw Ua.error(t),new Error(t)},ni=function(...e){const t="FIREBASE WARNING: "+bc(...e);Ua.warn(t)},H2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ni("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pk=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},j2=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ja="[MIN_NAME]",Eo="[MAX_NAME]",Il=function(e,t){if(e===t)return 0;if(e===Ja||t===Eo)return-1;if(t===Ja||e===Eo)return 1;{const n=_I(e),i=_I(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},z2=function(e,t){return e===t?0:e<t?-1:1},Yl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+pn(t))},sy=function(e){if(typeof e!="object"||e===null)return pn(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=pn(t[i]),n+=":",n+=sy(e[t[i]]);return n+="}",n},yk=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ii(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const _k=function(e){Pe(!pk(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,s,o,a,l;e===0?(s=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=a+i,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},W2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},G2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},K2=new RegExp("^-?(0*)\\d{1,10}$"),q2=-2147483648,Y2=2147483647,_I=function(e){if(K2.test(e)){const t=Number(e);if(t>=q2&&t<=Y2)return t}return null},Ic=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw ni("Exception was thrown by user callback.",n),t},Math.floor(0))}},Q2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Su=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ni(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(An("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ni(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="5",bk="v",wk="s",Ik="r",Sk="f",Ek=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tk="ls",Ck="p",sv="ac",kk="websocket",Ak="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=so.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&so.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function e$(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Pk(e,t,n){Pe(typeof t=="string","typeof type must == string"),Pe(typeof n=="object","typeof params must == object");let i;if(t===kk)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Ak)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);e$(e)&&(n.ns=e.namespace);const r=[];return Ii(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.counters_={}}incrementCounter(t,n=1){Fr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return uM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm={},Ym={};function ay(e){const t=e.toString();return qm[t]||(qm[t]=new t$),qm[t]}function n$(e,t){const n=e.toString();return Ym[n]||(Ym[n]=t()),Ym[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ic(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="start",r$="close",s$="pLPCommand",o$="pRTLPCB",xk="id",Rk="pw",Vk="ser",a$="cb",l$="seg",u$="ts",c$="d",d$="dframe",Dk=1870,Nk=30,f$=Dk-Nk,h$=25e3,m$=3e4;class Aa{constructor(t,n,i,r,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wc(t),this.stats_=ay(n),this.urlFn=l=>(this.appCheckToken&&(l[sv]=this.appCheckToken),Pk(n,Ak,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new i$(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(m$)),j2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ly((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===bI)this.id=a,this.password=l;else if(o===r$)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[bI]="t",i[Vk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[a$]=this.scriptTagHolder.uniqueCallbackIdentifier),i[bk]=oy,this.transportSessionId&&(i[wk]=this.transportSessionId),this.lastSessionId&&(i[Tk]=this.lastSessionId),this.applicationId&&(i[Ck]=this.applicationId),this.appCheckToken&&(i[sv]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ek.test(location.hostname)&&(i[Ik]=Sk);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Aa.forceAllow_=!0}static forceDisallow(){Aa.forceDisallow_=!0}static isAvailable(){return Aa.forceAllow_?!0:!Aa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!W2()&&!G2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=pn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=uC(n),r=yk(i,f$);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[d$]="t",i[xk]=t,i[Rk]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=pn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ly{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$2(),window[s$+this.uniqueCallbackIdentifier]=t,window[o$+this.uniqueCallbackIdentifier]=n,this.myIFrame=ly.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){An("frame writing exception"),a.stack&&An(a.stack),An(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||An("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[xk]=this.myID,t[Rk]=this.myPW,t[Vk]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Nk+i.length<=Dk;){const o=this.pendingSegs.shift();i=i+"&"+l$+r+"="+o.seg+"&"+u$+r+"="+o.ts+"&"+c$+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(h$)),s=()=>{clearTimeout(r),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{An("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=16384,v$=45e3;let gf=null;typeof MozWebSocket<"u"?gf=MozWebSocket:typeof WebSocket<"u"&&(gf=WebSocket);class Vi{constructor(t,n,i,r,s,o,a){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wc(this.connId),this.stats_=ay(n),this.connURL=Vi.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,s){const o={};return o[bk]=oy,typeof location<"u"&&location.hostname&&Ek.test(location.hostname)&&(o[Ik]=Sk),n&&(o[wk]=n),i&&(o[Tk]=i),r&&(o[sv]=r),s&&(o[Ck]=s),Pk(t,kk,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,so.set("previous_websocket_failure",!0);try{let i;vC(),this.mySock=new gf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Vi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&gf!==null&&!Vi.forceDisallow_}static previouslyFailed(){return so.isInMemoryStorage||so.get("previous_websocket_failure")===!0}markConnectionHealthy(){so.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=$u(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Pe(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=pn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=yk(n,g$);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(v$))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vi.responsesRequiredToBeHealthy=2;Vi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Aa,Vi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Vi&&Vi.isAvailable();let i=n&&!Vi.previouslyFailed();if(t.webSocketOnly&&(n||ni("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Vi];else{const r=this.transports_=[];for(const s of zu.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);zu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=6e4,y$=5e3,_$=10*1024,b$=100*1024,Qm="t",wI="d",w$="s",II="r",I$="e",SI="o",EI="a",TI="n",CI="p",S$="h";class E${constructor(t,n,i,r,s,o,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wc("c:"+this.id+":"),this.transportManager_=new zu(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Su(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>b$?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_$?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Qm in t){const n=t[Qm];n===EI?this.upgradeIfSecondaryHealthy_():n===II?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===SI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Yl("t",t),i=Yl("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:EI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:TI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Yl("t",t),i=Yl("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Yl(Qm,t);if(wI in t){const i=t[wI];if(n===S$){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===TI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===w$?this.onConnectionShutdown_(i):n===II?this.onReset_(i):n===I$?rv("Server Error: "+i):n===SI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rv("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),oy!==i&&ni("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Su(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(p$))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Su(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(y$))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CI,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(so.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t){this.allowedEvents_=t,this.listeners_={},Pe(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(t){Pe(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends Mk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vf}getInitialEvent(t){return Pe(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=32,AI=768;class At{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function vt(){return new At("")}function tt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ss(e){return e.pieces_.length-e.pieceNum_}function Et(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new At(e.pieces_,t)}function Lk(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function T$(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Fk(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Bk(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new At(t,0)}function on(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof At)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new At(n,0)}function Qe(e){return e.pieceNum_>=e.pieces_.length}function yi(e,t){const n=tt(e),i=tt(t);if(n===null)return t;if(n===i)return yi(Et(e),Et(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $k(e,t){if(Ss(e)!==Ss(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Ni(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Ss(e)>Ss(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class C${constructor(t,n){this.errorPrefix_=n,this.parts_=Fk(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=oh(this.parts_[i]);Uk(this)}}function k$(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=oh(t),Uk(e)}function A$(e){const t=e.parts_.pop();e.byteLength_-=oh(t),e.parts_.length>0&&(e.byteLength_-=1)}function Uk(e){if(e.byteLength_>AI)throw new Error(e.errorPrefix_+"has a key path longer than "+AI+" bytes ("+e.byteLength_+").");if(e.parts_.length>kI)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kI+") or object contains a cycle "+Js(e))}function Js(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends Mk{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new uy}getInitialEvent(t){return Pe(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=1e3,P$=60*5*1e3,PI=30*1e3,x$=1.3,R$=3e4,V$="server_kill",xI=3;class kr extends Ok{constructor(t,n,i,r,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=kr.nextPersistentConnectionId_++,this.log_=wc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ql,this.maxReconnectDelay_=P$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!vC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uy.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&vf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,s={r,a:t,b:n};this.log_(pn(s)),Pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new Bu,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,r){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Pe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Pe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;kr.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Fr(t,"w")){const i=Ya(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ni(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||IM(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=PI)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=wM(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Pe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+pn(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):rv("Unrecognized action received from server: "+pn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>R$&&(this.reconnectDelay_=Ql),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*x$)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+kr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},u=function(d){Pe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?An("getToken() completed but was canceled"):(An("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new E$(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,m=>{ni(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(V$)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ni(d),l())}}}interrupt(t){An("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){An("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Wg(this.interruptReasons_)&&(this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>sy(s)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new At(t).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){An("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xI&&(this.reconnectDelay_=PI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){An("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+mk.replace(/\./g,"-")]=1,Gp()?t["framework.cordova"]=1:gC()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vf.getInstance().currentlyOnline();return Wg(this.interruptReasons_)&&t}}kr.nextPersistentConnectionId_=0;kr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new nt(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new nt(Ja,t),r=new nt(Ja,n);return this.compare(i,r)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;class Hk extends hh{static get __EMPTY_NODE(){return vd}static set __EMPTY_NODE(t){vd=t}compare(t,n){return Il(t.name,n.name)}isDefinedOn(t){throw _l("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return nt.MIN}maxPost(){return new nt(Eo,vd)}makePost(t,n){return Pe(typeof t=="string","KeyIndex indexValue must always be a string."),new nt(t,vd)}toString(){return".key"}}const Ha=new Hk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=class{constructor(t,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Jn=class du{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??du.RED,this.left=r??Qi.EMPTY_NODE,this.right=s??Qi.EMPTY_NODE}copy(t,n,i,r,s){return new du(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return Qi.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,du.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,du.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}};Jn.RED=!0;Jn.BLACK=!1;class D${copy(t,n,i,r,s){return this}insert(t,n,i){return new Jn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Qi=class Ud{constructor(t,n=Ud.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ud(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Jn.BLACK,null,null))}remove(t){return new Ud(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jn.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new pd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new pd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new pd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new pd(this.root_,null,this.comparator_,!0,t)}};Qi.EMPTY_NODE=new D$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(e,t){return Il(e.name,t.name)}function cy(e,t){return Il(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ov;function O$(e){ov=e}const jk=function(e){return typeof e=="number"?"number:"+_k(e):"string:"+e},zk=function(e){if(e.isLeafNode()){const t=e.val();Pe(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Fr(t,".sv"),"Priority must be a string or number.")}else Pe(e===ov||e.isEmpty(),"priority of unexpected type.");Pe(e===ov||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RI;class tn{constructor(t,n=tn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Pe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zk(this.priorityNode_)}static set __childrenNodeConstructor(t){RI=t}static get __childrenNodeConstructor(){return RI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new tn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:tn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Qe(t)?this:tt(t)===".priority"?this.priorityNode_:tn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:tn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=tt(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Pe(i!==".priority"||Ss(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,tn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Et(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jk(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=_k(this.value_):t+=this.value_,this.lazyHash_=vk(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===tn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof tn.__childrenNodeConstructor?-1:(Pe(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=tn.VALUE_TYPE_ORDER.indexOf(n),s=tn.VALUE_TYPE_ORDER.indexOf(i);return Pe(r>=0,"Unknown leaf type: "+n),Pe(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wk,Gk;function M$(e){Wk=e}function L$(e){Gk=e}class F$ extends hh{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?Il(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(Eo,new tn("[PRIORITY-POST]",Gk))}makePost(t,n){const i=Wk(t);return new nt(n,new tn("[PRIORITY-POST]",i))}toString(){return".priority"}}const Rn=new F$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=Math.log(2);class $${constructor(t){const n=s=>parseInt(Math.log(s)/B$,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const pf=function(e,t,n,i){e.sort(t);const r=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=e[l],h=n?n(d):d,new Jn(h,d.node,Jn.BLACK,null,null);{const m=parseInt(c/2,10)+l,p=r(l,m),v=r(m+1,u);return d=e[m],h=n?n(d):d,new Jn(h,d.node,Jn.BLACK,p,v)}},s=function(l){let u=null,c=null,d=e.length;const h=function(p,v){const y=d-p,A=d;d-=p;const P=r(y+1,A),D=e[y],N=n?n(D):D;m(new Jn(N,D.node,v,null,P))},m=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const v=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));v?h(y,Jn.BLACK):(h(y,Jn.BLACK),h(y,Jn.RED))}return c},o=new $$(e.length),a=s(o);return new Qi(i||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm;const fa={};class Sr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Pe(fa&&Rn,"ChildrenNode.ts has not been loaded"),Xm=Xm||new Sr({".priority":fa},{".priority":Rn}),Xm}get(t){const n=Ya(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Qi?n:null}hasIndex(t){return Fr(this.indexSet_,t.toString())}addIndex(t,n){Pe(t!==Ha,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(nt.Wrap);let o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=pf(i,t.getCompare()):a=fa;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new Sr(c,u)}addToIndexes(t,n){const i=af(this.indexes_,(r,s)=>{const o=Ya(this.indexSet_,s);if(Pe(o,"Missing index implementation for "+s),r===fa)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(nt.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),pf(a,o.getCompare())}else return fa;else{const a=n.get(t.name);let l=r;return a&&(l=l.remove(new nt(t.name,a))),l.insert(t,t.node)}});return new Sr(i,this.indexSet_)}removeFromIndexes(t,n){const i=af(this.indexes_,r=>{if(r===fa)return r;{const s=n.get(t.name);return s?r.remove(new nt(t.name,s)):r}});return new Sr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl;class dt{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&zk(this.priorityNode_),this.children_.isEmpty()&&Pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xl||(Xl=new dt(new Qi(cy),null,Sr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xl}updatePriority(t){return this.children_.isEmpty()?this:new dt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Xl:n}}getChild(t){const n=tt(t);return n===null?this:this.getImmediateChild(n).getChild(Et(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Pe(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new nt(t,n);let r,s;n.isEmpty()?(r=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Xl:this.priorityNode_;return new dt(r,o,s)}}updateChild(t,n){const i=tt(t);if(i===null)return n;{Pe(tt(t)!==".priority"||Ss(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Et(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Rn,(o,a)=>{n[o]=a.val(t),i++,s&&dt.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!t&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+jk(this.getPriority().val())+":"),this.forEachChild(Rn,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":vk(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new nt(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new nt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new nt(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,nt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,nt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)>0;)r.getNext(),s=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Sc?-1:0}withIndex(t){if(t===Ha||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new dt(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Ha||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Rn),r=n.getIterator(Rn);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Ha?null:this.indexMap_.get(t.toString())}}dt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class U$ extends dt{constructor(){super(new Qi(cy),dt.EMPTY_NODE,Sr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return dt.EMPTY_NODE}isEmpty(){return!1}}const Sc=new U$;Object.defineProperties(nt,{MIN:{value:new nt(Ja,dt.EMPTY_NODE)},MAX:{value:new nt(Eo,Sc)}});Hk.__EMPTY_NODE=dt.EMPTY_NODE;tn.__childrenNodeConstructor=dt;O$(Sc);L$(Sc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=!0;function Pn(e,t=null){if(e===null)return dt.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Pe(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new tn(n,Pn(t))}if(!(e instanceof Array)&&H$){const n=[];let i=!1;if(Ii(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=Pn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new nt(o,l)))}}),n.length===0)return dt.EMPTY_NODE;const s=pf(n,N$,o=>o.name,cy);if(i){const o=pf(n,Rn.getCompare());return new dt(s,Pn(t),new Sr({".priority":o},{".priority":Rn}))}else return new dt(s,Pn(t),Sr.Default)}else{let n=dt.EMPTY_NODE;return Ii(e,(i,r)=>{if(Fr(e,i)&&i.substring(0,1)!=="."){const s=Pn(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Pn(t))}}M$(Pn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j$ extends hh{constructor(t){super(),this.indexPath_=t,Pe(!Qe(t)&&tt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?Il(t.name,n.name):s}makePost(t,n){const i=Pn(t),r=dt.EMPTY_NODE.updateChild(this.indexPath_,i);return new nt(n,r)}maxPost(){const t=dt.EMPTY_NODE.updateChild(this.indexPath_,Sc);return new nt(Eo,t)}toString(){return Fk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z$ extends hh{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Il(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(t,n){const i=Pn(t);return new nt(n,i)}toString(){return".value"}}const W$=new z$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(e){return{type:"value",snapshotNode:e}}function K$(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function q$(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function VI(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Y$(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ja}hasEnd(){return this.endSet_}getIndexEndValue(){return Pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Eo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Pe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rn}copy(){const t=new dy;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function DI(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Rn?n="$priority":e.index_===W$?n="$value":e.index_===Ha?n="$key":(Pe(e.index_ instanceof j$,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=pn(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=pn(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+pn(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=pn(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+pn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function NI(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Rn&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Ok{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=wc("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Pe(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=yf.getListenId_(t,i),a={};this.listens_[o]=a;const l=DI(t._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,i),Ya(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",r(h,null)}})}unlisten(t,n){const i=yf.getListenId_(t,n);delete this.listens_[i]}get(t){const n=DI(t._queryParams),i=t._path.toString(),r=new Bu;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+bl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=$u(a.responseText)}catch{ni("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&ni("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this.rootNode_=dt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){return{value:null,children:new Map}}function Kk(e,t,n){if(Qe(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=tt(t);e.children.has(i)||e.children.set(i,_f());const r=e.children.get(i);t=Et(t),Kk(r,t,n)}}function av(e,t,n){e.value!==null?n(t,e.value):X$(e,(i,r)=>{const s=new At(t.toString()+"/"+i);av(r,s,n)})}function X$(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ii(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=10*1e3,Z$=30*1e3,eU=5*60*1e3;class tU{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new J$(t);const i=OI+(Z$-OI)*Math.random();Su(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Ii(t,(r,s)=>{s>0&&Fr(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Su(this.reportStats_.bind(this),Math.floor(Math.random()*2*eU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xi;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xi||(Xi={}));function qk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qk(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Xi.ACK_USER_WRITE,this.source=qk()}operationForChild(t){if(Qe(this.path)){if(this.affectedTree.value!=null)return Pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new At(t));return new bf(vt(),n,this.revert)}}else return Pe(tt(this.path)===t,"operationForChild called for unrelated child."),new bf(Et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Xi.OVERWRITE}operationForChild(t){return Qe(this.path)?new To(this.source,vt(),this.snap.getImmediateChild(t)):new To(this.source,Et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Xi.MERGE}operationForChild(t){if(Qe(this.path)){const n=this.children.subtree(new At(t));return n.isEmpty()?null:n.value?new To(this.source,vt(),n.value):new Wu(this.source,vt(),n)}else return Pe(tt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Wu(this.source,Et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Qe(t))return this.isFullyInitialized()&&!this.filtered_;const n=tt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function nU(e,t,n,i){const r=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Y$(o.childName,o.snapshotNode))}),Jl(e,r,"child_removed",t,i,n),Jl(e,r,"child_added",t,i,n),Jl(e,r,"child_moved",s,i,n),Jl(e,r,"child_changed",t,i,n),Jl(e,r,"value",t,i,n),r}function Jl(e,t,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>rU(e,a,l)),o.forEach(a=>{const l=iU(e,a,s);r.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function iU(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function rU(e,t,n){if(t.childName==null||n.childName==null)throw _l("Should only compare child_ events.");const i=new nt(t.childName,t.snapshotNode),r=new nt(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(e,t){return{eventCache:e,serverCache:t}}function Eu(e,t,n,i){return Xk(new fy(t,n,i),e.serverCache)}function Jk(e,t,n,i){return Xk(e.eventCache,new fy(t,n,i))}function lv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Co(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm;const sU=()=>(Jm||(Jm=new Qi(z2)),Jm);class St{constructor(t,n=sU()){this.value=t,this.children=n}static fromObject(t){let n=new St(null);return Ii(t,(i,r)=>{n=n.set(new At(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:vt(),value:this.value};if(Qe(t))return null;{const i=tt(t),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Et(t),n);return s!=null?{path:on(new At(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Qe(t))return this;{const n=tt(t),i=this.children.get(n);return i!==null?i.subtree(Et(t)):new St(null)}}set(t,n){if(Qe(t))return new St(n,this.children);{const i=tt(t),s=(this.children.get(i)||new St(null)).set(Et(t),n),o=this.children.insert(i,s);return new St(this.value,o)}}remove(t){if(Qe(t))return this.children.isEmpty()?new St(null):new St(null,this.children);{const n=tt(t),i=this.children.get(n);if(i){const r=i.remove(Et(t));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new St(null):new St(this.value,s)}else return this}}get(t){if(Qe(t))return this.value;{const n=tt(t),i=this.children.get(n);return i?i.get(Et(t)):null}}setTree(t,n){if(Qe(t))return n;{const i=tt(t),s=(this.children.get(i)||new St(null)).setTree(Et(t),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new St(this.value,o)}}fold(t){return this.fold_(vt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(on(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,vt(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Qe(t))return null;{const s=tt(t),o=this.children.get(s);return o?o.findOnPath_(Et(t),on(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,vt(),n)}foreachOnPath_(t,n,i){if(Qe(t))return this;{this.value&&i(n,this.value);const r=tt(t),s=this.children.get(r);return s?s.foreachOnPath_(Et(t),on(n,r),i):new St(null)}}foreach(t){this.foreach_(vt(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(on(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.writeTree_=t}static empty(){return new Fi(new St(null))}}function Tu(e,t,n){if(Qe(t))return new Fi(new St(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let s=i.value;const o=yi(r,t);return s=s.updateChild(o,n),new Fi(e.writeTree_.set(r,s))}else{const r=new St(n),s=e.writeTree_.setTree(t,r);return new Fi(s)}}}function MI(e,t,n){let i=e;return Ii(n,(r,s)=>{i=Tu(i,on(t,r),s)}),i}function LI(e,t){if(Qe(t))return Fi.empty();{const n=e.writeTree_.setTree(t,new St(null));return new Fi(n)}}function uv(e,t){return Go(e,t)!=null}function Go(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(yi(n.path,t)):null}function FI(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Rn,(i,r)=>{t.push(new nt(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new nt(i,r.value))}),t}function _s(e,t){if(Qe(t))return e;{const n=Go(e,t);return n!=null?new Fi(new St(n)):new Fi(e.writeTree_.subtree(t))}}function cv(e){return e.writeTree_.isEmpty()}function Za(e,t){return Zk(vt(),e.writeTree_,t)}function Zk(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{r===".priority"?(Pe(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=Zk(on(e,r),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(on(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(e,t){return sA(t,e)}function oU(e,t,n,i,r){Pe(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Tu(e.visibleWrites,t,n)),e.lastWriteId=i}function aU(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function lU(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);Pe(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&uU(a,i.path)?r=!1:Ni(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return cU(e),!0;if(i.snap)e.visibleWrites=LI(e.visibleWrites,i.path);else{const a=i.children;Ii(a,l=>{e.visibleWrites=LI(e.visibleWrites,on(i.path,l))})}return!0}else return!1}function uU(e,t){if(e.snap)return Ni(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ni(on(e.path,n),t))return!0;return!1}function cU(e){e.visibleWrites=tA(e.allWrites,dU,vt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function dU(e){return e.visible}function tA(e,t,n){let i=Fi.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const o=s.path;let a;if(s.snap)Ni(n,o)?(a=yi(n,o),i=Tu(i,a,s.snap)):Ni(o,n)&&(a=yi(o,n),i=Tu(i,vt(),s.snap.getChild(a)));else if(s.children){if(Ni(n,o))a=yi(n,o),i=MI(i,a,s.children);else if(Ni(o,n))if(a=yi(o,n),Qe(a))i=MI(i,vt(),s.children);else{const l=Ya(s.children,tt(a));if(l){const u=l.getChild(Et(a));i=Tu(i,vt(),u)}}}else throw _l("WriteRecord should have .snap or .children")}}return i}function nA(e,t,n,i,r){if(!i&&!r){const s=Go(e.visibleWrites,t);if(s!=null)return s;{const o=_s(e.visibleWrites,t);if(cv(o))return n;if(n==null&&!uv(o,vt()))return null;{const a=n||dt.EMPTY_NODE;return Za(o,a)}}}else{const s=_s(e.visibleWrites,t);if(!r&&cv(s))return n;if(!r&&n==null&&!uv(s,vt()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Ni(u.path,t)||Ni(t,u.path))},a=tA(e.allWrites,o,t),l=n||dt.EMPTY_NODE;return Za(a,l)}}}function fU(e,t,n){let i=dt.EMPTY_NODE;const r=Go(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Rn,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=_s(e.visibleWrites,t);return n.forEachChild(Rn,(o,a)=>{const l=Za(_s(s,new At(o)),a);i=i.updateImmediateChild(o,l)}),FI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=_s(e.visibleWrites,t);return FI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function hU(e,t,n,i,r){Pe(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=on(t,n);if(uv(e.visibleWrites,s))return null;{const o=_s(e.visibleWrites,s);return cv(o)?r.getChild(n):Za(o,r.getChild(n))}}function mU(e,t,n,i){const r=on(t,n),s=Go(e.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=_s(e.visibleWrites,r);return Za(o,i.getNode().getImmediateChild(n))}else return null}function gU(e,t){return Go(e.visibleWrites,t)}function vU(e,t,n,i,r,s,o){let a;const l=_s(e.visibleWrites,t),u=Go(l,vt());if(u!=null)a=u;else if(n!=null)a=Za(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let m=h.getNext();for(;m&&c.length<r;)d(m,i)!==0&&c.push(m),m=h.getNext();return c}else return[]}function pU(){return{visibleWrites:Fi.empty(),allWrites:[],lastWriteId:-1}}function dv(e,t,n,i){return nA(e.writeTree,e.treePath,t,n,i)}function iA(e,t){return fU(e.writeTree,e.treePath,t)}function BI(e,t,n,i){return hU(e.writeTree,e.treePath,t,n,i)}function wf(e,t){return gU(e.writeTree,on(e.treePath,t))}function yU(e,t,n,i,r,s){return vU(e.writeTree,e.treePath,t,n,i,r,s)}function hy(e,t,n){return mU(e.writeTree,e.treePath,t,n)}function rA(e,t){return sA(on(e.treePath,t),e.writeTree)}function sA(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;Pe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Pe(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,VI(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,q$(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,K$(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,VI(i,t.snapshotNode,r.oldSnap));else throw _l("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const oA=new bU;class my{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new fy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hy(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Co(this.viewCache_),s=yU(this.writes_,r,n,1,i,t);return s.length===0?null:s[0]}}function wU(e,t){Pe(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Pe(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function IU(e,t,n,i,r){const s=new _U;let o,a;if(n.type===Xi.OVERWRITE){const u=n;u.source.fromUser?o=fv(e,t,u.path,u.snap,i,r,s):(Pe(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Qe(u.path),o=If(e,t,u.path,u.snap,i,r,a,s))}else if(n.type===Xi.MERGE){const u=n;u.source.fromUser?o=EU(e,t,u.path,u.children,i,r,s):(Pe(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=hv(e,t,u.path,u.children,i,r,a,s))}else if(n.type===Xi.ACK_USER_WRITE){const u=n;u.revert?o=kU(e,t,u.path,i,r,s):o=TU(e,t,u.path,u.affectedTree,i,r,s)}else if(n.type===Xi.LISTEN_COMPLETE)o=CU(e,t,n.path,i,s);else throw _l("Unknown operation type: "+n.type);const l=s.getChanges();return SU(t,o,l),{viewCache:o,changes:l}}function SU(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=lv(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(G$(lv(t)))}}function aA(e,t,n,i,r,s){const o=t.eventCache;if(wf(i,n)!=null)return t;{let a,l;if(Qe(n))if(Pe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Co(t),c=u instanceof dt?u:dt.EMPTY_NODE,d=iA(i,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=dv(i,Co(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=tt(n);if(u===".priority"){Pe(Ss(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=t.serverCache.getNode();const d=BI(i,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=o.getNode()}else{const c=Et(n);let d;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const h=BI(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=hy(i,u,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),u,d,c,r,s):a=o.getNode()}}return Eu(t,a,o.isFullyInitialized()||Qe(n),e.filter.filtersNodes())}}function If(e,t,n,i,r,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(Qe(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),m,null)}else{const m=tt(n);if(!l.isCompleteForPath(n)&&Ss(n)>1)return t;const p=Et(n),y=l.getNode().getImmediateChild(m).updateChild(p,i);m===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),m,y,p,oA,null)}const d=Jk(t,u,l.isFullyInitialized()||Qe(n),c.filtersNodes()),h=new my(r,d,s);return aA(e,d,n,r,h,a)}function fv(e,t,n,i,r,s,o){const a=t.eventCache;let l,u;const c=new my(r,t,s);if(Qe(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Eu(t,u,!0,e.filter.filtersNodes());else{const d=tt(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),i),l=Eu(t,u,a.isFullyInitialized(),a.isFiltered());else{const h=Et(n),m=a.getNode().getImmediateChild(d);let p;if(Qe(h))p=i;else{const v=c.getCompleteChild(d);v!=null?Lk(h)===".priority"&&v.getChild(Bk(h)).isEmpty()?p=v:p=v.updateChild(h,i):p=dt.EMPTY_NODE}if(m.equals(p))l=t;else{const v=e.filter.updateChild(a.getNode(),d,p,h,c,o);l=Eu(t,v,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function $I(e,t){return e.eventCache.isCompleteForChild(t)}function EU(e,t,n,i,r,s,o){let a=t;return i.foreach((l,u)=>{const c=on(n,l);$I(t,tt(c))&&(a=fv(e,a,c,u,r,s,o))}),i.foreach((l,u)=>{const c=on(n,l);$I(t,tt(c))||(a=fv(e,a,c,u,r,s,o))}),a}function UI(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function hv(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;Qe(n)?u=i:u=new St(null).setTree(n,i);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const m=t.serverCache.getNode().getImmediateChild(d),p=UI(e,m,h);l=If(e,l,new At(d),p,r,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const m=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!m){const p=t.serverCache.getNode().getImmediateChild(d),v=UI(e,p,h);l=If(e,l,new At(d),v,r,s,o,a)}}),l}function TU(e,t,n,i,r,s,o){if(wf(r,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(Qe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return If(e,t,n,l.getNode().getChild(n),r,s,a,o);if(Qe(n)){let u=new St(null);return l.getNode().forEachChild(Ha,(c,d)=>{u=u.set(new At(c),d)}),hv(e,t,n,u,r,s,a,o)}else return t}else{let u=new St(null);return i.foreach((c,d)=>{const h=on(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),hv(e,t,n,u,r,s,a,o)}}function CU(e,t,n,i,r){const s=t.serverCache,o=Jk(t,s.getNode(),s.isFullyInitialized()||Qe(n),s.isFiltered());return aA(e,o,n,i,oA,r)}function kU(e,t,n,i,r,s){let o;if(wf(i,n)!=null)return t;{const a=new my(i,t,r),l=t.eventCache.getNode();let u;if(Qe(n)||tt(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=dv(i,Co(t));else{const d=t.serverCache.getNode();Pe(d instanceof dt,"serverChildren would be complete if leaf node"),c=iA(i,d)}c=c,u=e.filter.updateFullNode(l,c,s)}else{const c=tt(n);let d=hy(i,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,Et(n),a,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,dt.EMPTY_NODE,Et(n),a,s):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=dv(i,Co(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||wf(i,vt())!=null,Eu(t,u,o,e.filter.filtersNodes())}}function AU(e,t){const n=Co(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Qe(t)&&!n.getImmediateChild(tt(t)).isEmpty())?n.getChild(t):null}function HI(e,t,n,i){t.type===Xi.MERGE&&t.source.queryId!==null&&(Pe(Co(e.viewCache_),"We should always have a full cache before handling merges"),Pe(lv(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=IU(e.processor_,r,t,n,i);return wU(e.processor_,s.viewCache),Pe(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,PU(e,s.changes,s.viewCache.eventCache.getNode())}function PU(e,t,n,i){const r=e.eventRegistrations_;return nU(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jI;function xU(e){Pe(!jI,"__referenceConstructor has already been defined"),jI=e}function gy(e,t,n,i){const r=t.source.queryId;if(r!==null){const s=e.views.get(r);return Pe(s!=null,"SyncTree gave us an op for an invalid query."),HI(s,t,n,i)}else{let s=[];for(const o of e.views.values())s=s.concat(HI(o,t,n,i));return s}}function vy(e,t){let n=null;for(const i of e.views.values())n=n||AU(i,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zI;function RU(e){Pe(!zI,"__referenceConstructor has already been defined"),zI=e}class WI{constructor(t){this.listenProvider_=t,this.syncPointTree_=new St(null),this.pendingWriteTree_=pU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function VU(e,t,n,i,r){return oU(e.pendingWriteTree_,t,n,i,r),r?gh(e,new To(qk(),t,n)):[]}function Pa(e,t,n=!1){const i=aU(e.pendingWriteTree_,t);if(lU(e.pendingWriteTree_,t)){let s=new St(null);return i.snap!=null?s=s.set(vt(),!0):Ii(i.children,o=>{s=s.set(new At(o),!0)}),gh(e,new bf(i.path,s,n))}else return[]}function mh(e,t,n){return gh(e,new To(Yk(),t,n))}function DU(e,t,n){const i=St.fromObject(n);return gh(e,new Wu(Yk(),t,i))}function NU(e,t,n,i){const r=dA(e,i);if(r!=null){const s=fA(r),o=s.path,a=s.queryId,l=yi(o,t),u=new To(Qk(a),l,n);return hA(e,o,u)}else return[]}function OU(e,t,n,i){const r=dA(e,i);if(r){const s=fA(r),o=s.path,a=s.queryId,l=yi(o,t),u=St.fromObject(n),c=new Wu(Qk(a),l,u);return hA(e,o,c)}else return[]}function lA(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=yi(o,t),u=vy(a,l);if(u)return u});return nA(r,t,s,n,!0)}function gh(e,t){return uA(t,e.syncPointTree_,null,eA(e.pendingWriteTree_,vt()))}function uA(e,t,n,i){if(Qe(e.path))return cA(e,t,n,i);{const r=t.get(vt());n==null&&r!=null&&(n=vy(r,vt()));let s=[];const o=tt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=rA(i,o);s=s.concat(uA(a,l,u,c))}return r&&(s=s.concat(gy(r,e,i,n))),s}}function cA(e,t,n,i){const r=t.get(vt());n==null&&r!=null&&(n=vy(r,vt()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=rA(i,o),c=e.operationForChild(o);c&&(s=s.concat(cA(c,a,l,u)))}),r&&(s=s.concat(gy(r,e,i,n))),s}function dA(e,t){return e.tagToQueryMap.get(t)}function fA(e){const t=e.indexOf("$");return Pe(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new At(e.substr(0,t))}}function hA(e,t,n){const i=e.syncPointTree_.get(t);Pe(i,"Missing sync point for query tag that we're tracking");const r=eA(e.pendingWriteTree_,t);return gy(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new py(n)}node(){return this.node_}}class yy{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=on(this.path_,t);return new yy(this.syncTree_,n)}node(){return lA(this.syncTree_,this.path_)}}const MU=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},GI=function(e,t,n){if(!e||typeof e!="object")return e;if(Pe(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return LU(e[".sv"],t,n);if(typeof e[".sv"]=="object")return FU(e[".sv"],t);Pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},LU=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Pe(!1,"Unexpected server value: "+e)}},FU=function(e,t,n){e.hasOwnProperty("increment")||Pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&Pe(!1,"Unexpected increment value: "+i);const r=t.node();if(Pe(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},BU=function(e,t,n,i){return _y(t,new yy(n,e),i)},$U=function(e,t,n){return _y(e,new py(t),n)};function _y(e,t,n){const i=e.getPriority().val(),r=GI(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=GI(o.getValue(),t,n);return a!==o.getValue()||r!==o.getPriority().val()?new tn(a,Pn(r)):e}else{const o=e;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new tn(r))),o.forEachChild(Rn,(a,l)=>{const u=_y(l,t.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function wy(e,t){let n=t instanceof At?t:new At(t),i=e,r=tt(n);for(;r!==null;){const s=Ya(i.node.children,r)||{children:{},childCount:0};i=new by(r,i,s),n=Et(n),r=tt(n)}return i}function Sl(e){return e.node.value}function mA(e,t){e.node.value=t,mv(e)}function gA(e){return e.node.childCount>0}function UU(e){return Sl(e)===void 0&&!gA(e)}function vh(e,t){Ii(e.node.children,(n,i)=>{t(new by(n,e,i))})}function vA(e,t,n,i){n&&!i&&t(e),vh(e,r=>{vA(r,t,!0,i)}),n&&i&&t(e)}function HU(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ec(e){return new At(e.parent===null?e.name:Ec(e.parent)+"/"+e.name)}function mv(e){e.parent!==null&&jU(e.parent,e.name,e)}function jU(e,t,n){const i=UU(n),r=Fr(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,mv(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,mv(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=/[\[\].#$\/\u0000-\u001F\u007F]/,WU=/[\[\].#$\u0000-\u001F\u007F]/,Zm=10*1024*1024,pA=function(e){return typeof e=="string"&&e.length!==0&&!zU.test(e)},GU=function(e){return typeof e=="string"&&e.length!==0&&!WU.test(e)},KU=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),GU(e)},yA=function(e,t,n){const i=n instanceof At?new C$(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Js(i));if(typeof t=="function")throw new Error(e+"contains a function "+Js(i)+" with contents = "+t.toString());if(pk(t))throw new Error(e+"contains "+t.toString()+" "+Js(i));if(typeof t=="string"&&t.length>Zm/3&&oh(t)>Zm)throw new Error(e+"contains a string greater than "+Zm+" utf8 bytes "+Js(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,s=!1;if(Ii(t,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!pA(o)))throw new Error(e+" contains an invalid key ("+o+") "+Js(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);k$(i,o),yA(e,a,i),A$(i)}),r&&s)throw new Error(e+' contains ".value" child '+Js(i)+" in addition to actual children.")}},qU=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!pA(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KU(n))throw new Error(kM(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function QU(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();n!==null&&!$k(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function Ko(e,t,n){QU(e,n),XU(e,i=>Ni(i,t)||Ni(t,i))}function XU(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const s=r.path;t(s)?(JU(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function JU(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Iu&&An("event: "+n.toString()),Ic(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="repo_interrupt",e4=25;class t4{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_f(),this.transactionQueueTree_=new by,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function n4(e,t,n){if(e.stats_=ay(e.repoInfo_),e.forceRestClient_||Q2())e.server_=new yf(e.repoInfo_,(i,r,s,o)=>{KI(e,i,r,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>qI(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new kr(e.repoInfo_,t,(i,r,s,o)=>{KI(e,i,r,s,o)},i=>{qI(e,i)},i=>{r4(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=n$(e.repoInfo_,()=>new tU(e.stats_,e.server_)),e.infoData_=new Q$,e.infoSyncTree_=new WI({startListening:(i,r,s,o)=>{let a=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=mh(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Iy(e,"connected",!1),e.serverSyncTree_=new WI({startListening:(i,r,s,o)=>(e.server_.listen(i,s,r,(a,l)=>{const u=o(a,l);Ko(e.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function i4(e){const n=e.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _A(e){return MU({timestamp:i4(e)})}function KI(e,t,n,i,r){e.dataUpdateCount++;const s=new At(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const l=af(n,u=>Pn(u));o=OU(e.serverSyncTree_,s,l,r)}else{const l=Pn(n);o=NU(e.serverSyncTree_,s,l,r)}else if(i){const l=af(n,u=>Pn(u));o=DU(e.serverSyncTree_,s,l)}else{const l=Pn(n);o=mh(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ey(e,s)),Ko(e.eventQueue_,a,o)}function qI(e,t){Iy(e,"connected",t),t===!1&&o4(e)}function r4(e,t){Ii(t,(n,i)=>{Iy(e,n,i)})}function Iy(e,t,n){const i=new At("/.info/"+t),r=Pn(n);e.infoData_.updateSnapshot(i,r);const s=mh(e.infoSyncTree_,i,r);Ko(e.eventQueue_,i,s)}function s4(e){return e.nextWriteId_++}function o4(e){bA(e,"onDisconnectEvents");const t=_A(e),n=_f();av(e.onDisconnect_,vt(),(r,s)=>{const o=BU(r,s,e.serverSyncTree_,t);Kk(n,r,o)});let i=[];av(n,vt(),(r,s)=>{i=i.concat(mh(e.serverSyncTree_,r,s));const o=c4(e,r);Ey(e,o)}),e.onDisconnect_=_f(),Ko(e.eventQueue_,vt(),i)}function a4(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ZU)}function bA(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),An(n,...t)}function wA(e,t,n){return lA(e.serverSyncTree_,t,n)||dt.EMPTY_NODE}function Sy(e,t=e.transactionQueueTree_){if(t||ph(e,t),Sl(t)){const n=SA(e,t);Pe(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&l4(e,Ec(t),n)}else gA(t)&&vh(t,n=>{Sy(e,n)})}function l4(e,t,n){const i=n.map(u=>u.currentWriteId),r=wA(e,t,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const c=n[u];Pe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=yi(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,u=>{bA(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Pa(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();ph(e,wy(e.transactionQueueTree_,t)),Sy(e,e.transactionQueueTree_),Ko(e.eventQueue_,t,c);for(let h=0;h<d.length;h++)Ic(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ni("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ey(e,t)}},o)}function Ey(e,t){const n=IA(e,t),i=Ec(n),r=SA(e,n);return u4(e,r,i),i}function u4(e,t,n){if(t.length===0)return;const i=[];let r=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=yi(n,l.path);let c=!1,d;if(Pe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,r=r.concat(Pa(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=e4)c=!0,d="maxretry",r=r.concat(Pa(e.serverSyncTree_,l.currentWriteId,!0));else{const h=wA(e,l.path,o);l.currentInputSnapshot=h;const m=t[a].update(h.val());if(m!==void 0){yA("transaction failed: Data returned ",m,l.path);let p=Pn(m);typeof m=="object"&&m!=null&&Fr(m,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,A=_A(e),P=$U(p,h,A);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=P,l.currentWriteId=s4(e),o.splice(o.indexOf(y),1),r=r.concat(VU(e.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),r=r.concat(Pa(e.serverSyncTree_,y,!0))}else c=!0,d="nodata",r=r.concat(Pa(e.serverSyncTree_,l.currentWriteId,!0))}Ko(e.eventQueue_,n,r),r=[],c&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}ph(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Ic(i[a]);Sy(e,e.transactionQueueTree_)}function IA(e,t){let n,i=e.transactionQueueTree_;for(n=tt(t);n!==null&&Sl(i)===void 0;)i=wy(i,n),t=Et(t),n=tt(t);return i}function SA(e,t){const n=[];return EA(e,t,n),n.sort((i,r)=>i.order-r.order),n}function EA(e,t,n){const i=Sl(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);vh(t,r=>{EA(e,r,n)})}function ph(e,t){const n=Sl(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,mA(t,n.length>0?n:void 0)}vh(t,i=>{ph(e,i)})}function c4(e,t){const n=Ec(IA(e,t)),i=wy(e.transactionQueueTree_,t);return HU(i,r=>{eg(e,r)}),eg(e,i),vA(i,r=>{eg(e,r)}),n}function eg(e,t){const n=Sl(t);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Pe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Pe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Pa(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?mA(t,void 0):n.length=s+1,Ko(e.eventQueue_,Ec(t),r);for(let o=0;o<i.length;o++)Ic(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function f4(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ni(`Invalid query segment '${n}' in query '${e}'`)}return t}const YI=function(e,t){const n=h4(e),i=n.namespace;n.domain==="firebase.com"&&So(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&So("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||H2();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Z2(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new At(n.pathString)}},h4=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(r=d4(e.substring(c,d)));const h=f4(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const m=t.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Qe(this._path)?null:Lk(this._path)}get ref(){return new El(this._repo,this._path)}get _queryIdentifier(){const t=NI(this._queryParams),n=sy(t);return n==="{}"?"default":n}get _queryObject(){return NI(this._queryParams)}isEqual(t){if(t=li(t),!(t instanceof Ty))return!1;const n=this._repo===t._repo,i=$k(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+T$(this._path)}}class El extends Ty{constructor(t,n){super(t,n,new dy,!1)}get parent(){const t=Bk(this._path);return t===null?null:new El(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}xU(El);RU(El);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="FIREBASE_DATABASE_EMULATOR_HOST",gv={};let g4=!1;function v4(e,t,n,i,r){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||So("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),An("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=YI(s,r),a=o.repoInfo,l;typeof process<"u"&&gI&&(l=gI[m4]),l?(s=`http://${l}?ns=${a.namespace}`,o=YI(s,r),a=o.repoInfo):o.repoInfo.secure;const u=new J2(e.name,e.options,t);qU("Invalid Firebase Database URL",o),Qe(o.path)||So("Database URL must point to the root of a Firebase Database (not including a child path).");const c=y4(a,e,u,new X2(e.name,n));return new _4(c,e)}function p4(e,t){const n=gv[t];(!n||n[e.key]!==e)&&So(`Database ${t}(${e.repoInfo_}) has already been deleted.`),a4(e),delete n[e.key]}function y4(e,t,n,i){let r=gv[t.name];r||(r={},gv[t.name]=r);let s=r[e.toURLString()];return s&&So("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new t4(e,g4,n,i),r[e.toURLString()]=s,s}class _4{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(n4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new El(this._repo,vt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(p4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&So("Cannot call "+t+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(e){M2(Ns),Un(new Nn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return v4(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Yt(vI,pI,e),Yt(vI,pI,"esm2017")}kr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};kr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};b4();var QI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,w){function _(){}_.prototype=w.prototype,S.D=w.prototype,S.prototype=new _,S.prototype.constructor=S,S.C=function(I,E,T){for(var x=Array(arguments.length-2),B=2;B<arguments.length;B++)x[B-2]=arguments[B];return w.prototype[E].apply(I,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,w,_){_||(_=0);var I=Array(16);if(typeof w=="string")for(var E=0;16>E;++E)I[E]=w.charCodeAt(_++)|w.charCodeAt(_++)<<8|w.charCodeAt(_++)<<16|w.charCodeAt(_++)<<24;else for(E=0;16>E;++E)I[E]=w[_++]|w[_++]<<8|w[_++]<<16|w[_++]<<24;w=S.g[0],_=S.g[1],E=S.g[2];var T=S.g[3],x=w+(T^_&(E^T))+I[0]+3614090360&4294967295;w=_+(x<<7&4294967295|x>>>25),x=T+(E^w&(_^E))+I[1]+3905402710&4294967295,T=w+(x<<12&4294967295|x>>>20),x=E+(_^T&(w^_))+I[2]+606105819&4294967295,E=T+(x<<17&4294967295|x>>>15),x=_+(w^E&(T^w))+I[3]+3250441966&4294967295,_=E+(x<<22&4294967295|x>>>10),x=w+(T^_&(E^T))+I[4]+4118548399&4294967295,w=_+(x<<7&4294967295|x>>>25),x=T+(E^w&(_^E))+I[5]+1200080426&4294967295,T=w+(x<<12&4294967295|x>>>20),x=E+(_^T&(w^_))+I[6]+2821735955&4294967295,E=T+(x<<17&4294967295|x>>>15),x=_+(w^E&(T^w))+I[7]+4249261313&4294967295,_=E+(x<<22&4294967295|x>>>10),x=w+(T^_&(E^T))+I[8]+1770035416&4294967295,w=_+(x<<7&4294967295|x>>>25),x=T+(E^w&(_^E))+I[9]+2336552879&4294967295,T=w+(x<<12&4294967295|x>>>20),x=E+(_^T&(w^_))+I[10]+4294925233&4294967295,E=T+(x<<17&4294967295|x>>>15),x=_+(w^E&(T^w))+I[11]+2304563134&4294967295,_=E+(x<<22&4294967295|x>>>10),x=w+(T^_&(E^T))+I[12]+1804603682&4294967295,w=_+(x<<7&4294967295|x>>>25),x=T+(E^w&(_^E))+I[13]+4254626195&4294967295,T=w+(x<<12&4294967295|x>>>20),x=E+(_^T&(w^_))+I[14]+2792965006&4294967295,E=T+(x<<17&4294967295|x>>>15),x=_+(w^E&(T^w))+I[15]+1236535329&4294967295,_=E+(x<<22&4294967295|x>>>10),x=w+(E^T&(_^E))+I[1]+4129170786&4294967295,w=_+(x<<5&4294967295|x>>>27),x=T+(_^E&(w^_))+I[6]+3225465664&4294967295,T=w+(x<<9&4294967295|x>>>23),x=E+(w^_&(T^w))+I[11]+643717713&4294967295,E=T+(x<<14&4294967295|x>>>18),x=_+(T^w&(E^T))+I[0]+3921069994&4294967295,_=E+(x<<20&4294967295|x>>>12),x=w+(E^T&(_^E))+I[5]+3593408605&4294967295,w=_+(x<<5&4294967295|x>>>27),x=T+(_^E&(w^_))+I[10]+38016083&4294967295,T=w+(x<<9&4294967295|x>>>23),x=E+(w^_&(T^w))+I[15]+3634488961&4294967295,E=T+(x<<14&4294967295|x>>>18),x=_+(T^w&(E^T))+I[4]+3889429448&4294967295,_=E+(x<<20&4294967295|x>>>12),x=w+(E^T&(_^E))+I[9]+568446438&4294967295,w=_+(x<<5&4294967295|x>>>27),x=T+(_^E&(w^_))+I[14]+3275163606&4294967295,T=w+(x<<9&4294967295|x>>>23),x=E+(w^_&(T^w))+I[3]+4107603335&4294967295,E=T+(x<<14&4294967295|x>>>18),x=_+(T^w&(E^T))+I[8]+1163531501&4294967295,_=E+(x<<20&4294967295|x>>>12),x=w+(E^T&(_^E))+I[13]+2850285829&4294967295,w=_+(x<<5&4294967295|x>>>27),x=T+(_^E&(w^_))+I[2]+4243563512&4294967295,T=w+(x<<9&4294967295|x>>>23),x=E+(w^_&(T^w))+I[7]+1735328473&4294967295,E=T+(x<<14&4294967295|x>>>18),x=_+(T^w&(E^T))+I[12]+2368359562&4294967295,_=E+(x<<20&4294967295|x>>>12),x=w+(_^E^T)+I[5]+4294588738&4294967295,w=_+(x<<4&4294967295|x>>>28),x=T+(w^_^E)+I[8]+2272392833&4294967295,T=w+(x<<11&4294967295|x>>>21),x=E+(T^w^_)+I[11]+1839030562&4294967295,E=T+(x<<16&4294967295|x>>>16),x=_+(E^T^w)+I[14]+4259657740&4294967295,_=E+(x<<23&4294967295|x>>>9),x=w+(_^E^T)+I[1]+2763975236&4294967295,w=_+(x<<4&4294967295|x>>>28),x=T+(w^_^E)+I[4]+1272893353&4294967295,T=w+(x<<11&4294967295|x>>>21),x=E+(T^w^_)+I[7]+4139469664&4294967295,E=T+(x<<16&4294967295|x>>>16),x=_+(E^T^w)+I[10]+3200236656&4294967295,_=E+(x<<23&4294967295|x>>>9),x=w+(_^E^T)+I[13]+681279174&4294967295,w=_+(x<<4&4294967295|x>>>28),x=T+(w^_^E)+I[0]+3936430074&4294967295,T=w+(x<<11&4294967295|x>>>21),x=E+(T^w^_)+I[3]+3572445317&4294967295,E=T+(x<<16&4294967295|x>>>16),x=_+(E^T^w)+I[6]+76029189&4294967295,_=E+(x<<23&4294967295|x>>>9),x=w+(_^E^T)+I[9]+3654602809&4294967295,w=_+(x<<4&4294967295|x>>>28),x=T+(w^_^E)+I[12]+3873151461&4294967295,T=w+(x<<11&4294967295|x>>>21),x=E+(T^w^_)+I[15]+530742520&4294967295,E=T+(x<<16&4294967295|x>>>16),x=_+(E^T^w)+I[2]+3299628645&4294967295,_=E+(x<<23&4294967295|x>>>9),x=w+(E^(_|~T))+I[0]+4096336452&4294967295,w=_+(x<<6&4294967295|x>>>26),x=T+(_^(w|~E))+I[7]+1126891415&4294967295,T=w+(x<<10&4294967295|x>>>22),x=E+(w^(T|~_))+I[14]+2878612391&4294967295,E=T+(x<<15&4294967295|x>>>17),x=_+(T^(E|~w))+I[5]+4237533241&4294967295,_=E+(x<<21&4294967295|x>>>11),x=w+(E^(_|~T))+I[12]+1700485571&4294967295,w=_+(x<<6&4294967295|x>>>26),x=T+(_^(w|~E))+I[3]+2399980690&4294967295,T=w+(x<<10&4294967295|x>>>22),x=E+(w^(T|~_))+I[10]+4293915773&4294967295,E=T+(x<<15&4294967295|x>>>17),x=_+(T^(E|~w))+I[1]+2240044497&4294967295,_=E+(x<<21&4294967295|x>>>11),x=w+(E^(_|~T))+I[8]+1873313359&4294967295,w=_+(x<<6&4294967295|x>>>26),x=T+(_^(w|~E))+I[15]+4264355552&4294967295,T=w+(x<<10&4294967295|x>>>22),x=E+(w^(T|~_))+I[6]+2734768916&4294967295,E=T+(x<<15&4294967295|x>>>17),x=_+(T^(E|~w))+I[13]+1309151649&4294967295,_=E+(x<<21&4294967295|x>>>11),x=w+(E^(_|~T))+I[4]+4149444226&4294967295,w=_+(x<<6&4294967295|x>>>26),x=T+(_^(w|~E))+I[11]+3174756917&4294967295,T=w+(x<<10&4294967295|x>>>22),x=E+(w^(T|~_))+I[2]+718787259&4294967295,E=T+(x<<15&4294967295|x>>>17),x=_+(T^(E|~w))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(E+(x<<21&4294967295|x>>>11))&4294967295,S.g[2]=S.g[2]+E&4294967295,S.g[3]=S.g[3]+T&4294967295}i.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var _=w-this.blockSize,I=this.B,E=this.h,T=0;T<w;){if(E==0)for(;T<=_;)r(this,S,T),T+=this.blockSize;if(typeof S=="string"){for(;T<w;)if(I[E++]=S.charCodeAt(T++),E==this.blockSize){r(this,I),E=0;break}}else for(;T<w;)if(I[E++]=S[T++],E==this.blockSize){r(this,I),E=0;break}}this.h=E,this.o+=w},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var _=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=_&255,_/=256;for(this.u(S),S=Array(16),w=_=0;4>w;++w)for(var I=0;32>I;I+=8)S[_++]=this.g[w]>>>I&255;return S};function s(S,w){var _=a;return Object.prototype.hasOwnProperty.call(_,S)?_[S]:_[S]=w(S)}function o(S,w){this.h=w;for(var _=[],I=!0,E=S.length-1;0<=E;E--){var T=S[E]|0;I&&T==w||(_[E]=T,I=!1)}this.g=_}var a={};function l(S){return-128<=S&&128>S?s(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return y(u(-S));for(var w=[],_=1,I=0;S>=_;I++)w[I]=S/_|0,_*=4294967296;return new o(w,0)}function c(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return y(c(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(w,8)),I=d,E=0;E<S.length;E+=8){var T=Math.min(8,S.length-E),x=parseInt(S.substring(E,E+T),w);8>T?(T=u(Math.pow(w,T)),I=I.j(T).add(u(x))):(I=I.j(_),I=I.add(u(x)))}return I}var d=l(0),h=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(v(this))return-y(this).m();for(var S=0,w=1,_=0;_<this.g.length;_++){var I=this.i(_);S+=(0<=I?I:4294967296+I)*w,w*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(p(this))return"0";if(v(this))return"-"+y(this).toString(S);for(var w=u(Math.pow(S,6)),_=this,I="";;){var E=N(_,w).g;_=A(_,E.j(w));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(S);if(_=E,p(_))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function p(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function v(S){return S.h==-1}e.l=function(S){return S=A(this,S),v(S)?-1:p(S)?0:1};function y(S){for(var w=S.g.length,_=[],I=0;I<w;I++)_[I]=~S.g[I];return new o(_,~S.h).add(h)}e.abs=function(){return v(this)?y(this):this},e.add=function(S){for(var w=Math.max(this.g.length,S.g.length),_=[],I=0,E=0;E<=w;E++){var T=I+(this.i(E)&65535)+(S.i(E)&65535),x=(T>>>16)+(this.i(E)>>>16)+(S.i(E)>>>16);I=x>>>16,T&=65535,x&=65535,_[E]=x<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function A(S,w){return S.add(y(w))}e.j=function(S){if(p(this)||p(S))return d;if(v(this))return v(S)?y(this).j(y(S)):y(y(this).j(S));if(v(S))return y(this.j(y(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var w=this.g.length+S.g.length,_=[],I=0;I<2*w;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var E=0;E<S.g.length;E++){var T=this.i(I)>>>16,x=this.i(I)&65535,B=S.i(E)>>>16,U=S.i(E)&65535;_[2*I+2*E]+=x*U,P(_,2*I+2*E),_[2*I+2*E+1]+=T*U,P(_,2*I+2*E+1),_[2*I+2*E+1]+=x*B,P(_,2*I+2*E+1),_[2*I+2*E+2]+=T*B,P(_,2*I+2*E+2)}for(I=0;I<w;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=w;I<2*w;I++)_[I]=0;return new o(_,0)};function P(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function D(S,w){this.g=S,this.h=w}function N(S,w){if(p(w))throw Error("division by zero");if(p(S))return new D(d,d);if(v(S))return w=N(y(S),w),new D(y(w.g),y(w.h));if(v(w))return w=N(S,y(w)),new D(y(w.g),w.h);if(30<S.g.length){if(v(S)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var _=h,I=w;0>=I.l(S);)_=R(_),I=R(I);var E=V(_,1),T=V(I,1);for(I=V(I,2),_=V(_,2);!p(I);){var x=T.add(I);0>=x.l(S)&&(E=E.add(_),T=x),I=V(I,1),_=V(_,1)}return w=A(S,E.j(w)),new D(E,w)}for(E=d;0<=S.l(w);){for(_=Math.max(1,Math.floor(S.m()/w.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=u(_),x=T.j(w);v(x)||0<x.l(S);)_-=I,T=u(_),x=T.j(w);p(T)&&(T=h),E=E.add(T),S=A(S,x)}return new D(E,S)}e.A=function(S){return N(this,S).h},e.and=function(S){for(var w=Math.max(this.g.length,S.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)&S.i(I);return new o(_,this.h&S.h)},e.or=function(S){for(var w=Math.max(this.g.length,S.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)|S.i(I);return new o(_,this.h|S.h)},e.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)^S.i(I);return new o(_,this.h^S.h)};function R(S){for(var w=S.g.length+1,_=[],I=0;I<w;I++)_[I]=S.i(I)<<1|S.i(I-1)>>>31;return new o(_,S.h)}function V(S,w){var _=w>>5;w%=32;for(var I=S.g.length-_,E=[],T=0;T<I;T++)E[T]=0<w?S.i(T+_)>>>w|S.i(T+_+1)<<32-w:S.i(T+_);return new o(E,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,TA=o}).apply(typeof QI<"u"?QI:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CA,kA,fu,AA,Hd,vv,PA,xA,RA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,k){return f==Array.prototype||f==Object.prototype||(f[b]=k.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var i=n(this);function r(f,b){if(b)e:{var k=i;f=f.split(".");for(var M=0;M<f.length-1;M++){var Y=f[M];if(!(Y in k))break e;k=k[Y]}f=f[f.length-1],M=k[f],b=b(M),b!=M&&b!=null&&t(k,f,{configurable:!0,writable:!0,value:b})}}function s(f,b){f instanceof String&&(f+="");var k=0,M=!1,Y={next:function(){if(!M&&k<f.length){var ie=k++;return{value:b(ie,f[ie]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}r("Array.prototype.values",function(f){return f||function(){return s(this,function(b,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,k){return f.call.apply(f.bind,arguments)}function d(f,b,k){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,M),f.apply(b,Y)}}return function(){return f.apply(b,arguments)}}function h(f,b,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function m(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var M=k.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function p(f,b){function k(){}k.prototype=b.prototype,f.aa=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(M,Y,ie){for(var Te=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)Te[yt-2]=arguments[yt];return b.prototype[Y].apply(M,Te)}}function v(f){const b=f.length;if(0<b){const k=Array(b);for(let M=0;M<b;M++)k[M]=f[M];return k}return[]}function y(f,b){for(let k=1;k<arguments.length;k++){const M=arguments[k];if(l(M)){const Y=f.length||0,ie=M.length||0;f.length=Y+ie;for(let Te=0;Te<ie;Te++)f[Y+Te]=M[Te]}else f.push(M)}}class A{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(f){return/^[\s\xa0]*$/.test(f)}function D(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function N(f){return N[" "](f),f}N[" "]=function(){};var R=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function V(f,b,k){for(const M in f)b.call(k,f[M],M,f)}function S(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function w(f){const b={};for(const k in f)b[k]=f[k];return b}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,b){let k,M;for(let Y=1;Y<arguments.length;Y++){M=arguments[Y];for(k in M)f[k]=M[k];for(let ie=0;ie<_.length;ie++)k=_[ie],Object.prototype.hasOwnProperty.call(M,k)&&(f[k]=M[k])}}function E(f){var b=1;f=f.split(":");const k=[];for(;0<b&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function T(f){a.setTimeout(()=>{throw f},0)}function x(){var f=q;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,k){const M=U.get();M.set(b,k),this.h?this.h.next=M:this.g=M,this.h=M}}var U=new A(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,q=new B,H=()=>{const f=a.Promise.resolve(void 0);K=()=>{f.then(G)}};var G=()=>{for(var f;f=x();){try{f.h.call(f.g)}catch(k){T(k)}var b=U;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}F=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};a.addEventListener("test",k,b),a.removeEventListener("test",k,b)}catch{}return f}();function he(f,b){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(R){e:{try{N(b.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(b=null)}}else k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement);this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:oe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}p(he,ce);var oe={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),ue=0;function de(f,b,k,M,Y){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!M,this.ha=Y,this.key=++ue,this.da=this.fa=!1}function Z(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ve(f){this.src=f,this.g={},this.h=0}ve.prototype.add=function(f,b,k,M,Y){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var Te=O(f,b,M,Y);return-1<Te?(b=f[Te],k||(b.fa=!1)):(b=new de(b,this.src,ie,!!M,Y),b.fa=k,f.push(b)),b};function re(f,b){var k=b.type;if(k in f.g){var M=f.g[k],Y=Array.prototype.indexOf.call(M,b,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(M,Y,1),ie&&(Z(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function O(f,b,k,M){for(var Y=0;Y<f.length;++Y){var ie=f[Y];if(!ie.da&&ie.listener==b&&ie.capture==!!k&&ie.ha==M)return Y}return-1}var L="closure_lm_"+(1e6*Math.random()|0),z={};function X(f,b,k,M,Y){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)X(f,b[ie],k,M,Y);return null}return k=Re(k),f&&f[j]?f.K(b,k,u(M)?!!M.capture:!!M,Y):ee(f,b,k,!1,M,Y)}function ee(f,b,k,M,Y,ie){if(!b)throw Error("Invalid event type");var Te=u(Y)?!!Y.capture:!!Y,yt=ke(f);if(yt||(f[L]=yt=new ve(f)),k=yt.add(b,k,M,Te,ie),k.proxy)return k;if(M=fe(),k.proxy=M,M.src=f,M.listener=k,f.addEventListener)Se||(Y=Te),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),M,Y);else if(f.attachEvent)f.attachEvent(pe(b.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return k}function fe(){function f(k){return b.call(f.src,f.listener,k)}const b=ge;return f}function me(f,b,k,M,Y){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)me(f,b[ie],k,M,Y);else M=u(M)?!!M.capture:!!M,k=Re(k),f&&f[j]?(f=f.i,b=String(b).toString(),b in f.g&&(ie=f.g[b],k=O(ie,k,M,Y),-1<k&&(Z(ie[k]),Array.prototype.splice.call(ie,k,1),ie.length==0&&(delete f.g[b],f.h--)))):f&&(f=ke(f))&&(b=f.g[b.toString()],f=-1,b&&(f=O(b,k,M,Y)),(k=-1<f?b[f]:null)&&be(k))}function be(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[j])re(b.i,f);else{var k=f.type,M=f.proxy;b.removeEventListener?b.removeEventListener(k,M,f.capture):b.detachEvent?b.detachEvent(pe(k),M):b.addListener&&b.removeListener&&b.removeListener(M),(k=ke(b))?(re(k,f),k.h==0&&(k.src=null,b[L]=null)):Z(f)}}}function pe(f){return f in z?z[f]:z[f]="on"+f}function ge(f,b){if(f.da)f=!0;else{b=new he(b,this);var k=f.listener,M=f.ha||f.src;f.fa&&be(f),f=k.call(M,b)}return f}function ke(f){return f=f[L],f instanceof ve?f:null}var Ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(f){return typeof f=="function"?f:(f[Ve]||(f[Ve]=function(b){return f.handleEvent(b)}),f[Ve])}function De(){te.call(this),this.i=new ve(this),this.M=this,this.F=null}p(De,te),De.prototype[j]=!0,De.prototype.removeEventListener=function(f,b,k,M){me(this,f,b,k,M)};function Me(f,b){var k,M=f.F;if(M)for(k=[];M;M=M.F)k.push(M);if(f=f.M,M=b.type||b,typeof b=="string")b=new ce(b,f);else if(b instanceof ce)b.target=b.target||f;else{var Y=b;b=new ce(M,f),I(b,Y)}if(Y=!0,k)for(var ie=k.length-1;0<=ie;ie--){var Te=b.g=k[ie];Y=ct(Te,M,!0,b)&&Y}if(Te=b.g=f,Y=ct(Te,M,!0,b)&&Y,Y=ct(Te,M,!1,b)&&Y,k)for(ie=0;ie<k.length;ie++)Te=b.g=k[ie],Y=ct(Te,M,!1,b)&&Y}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var k=f.g[b],M=0;M<k.length;M++)Z(k[M]);delete f.g[b],f.h--}}this.F=null},De.prototype.K=function(f,b,k,M){return this.i.add(String(f),b,!1,k,M)},De.prototype.L=function(f,b,k,M){return this.i.add(String(f),b,!0,k,M)};function ct(f,b,k,M){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,ie=0;ie<b.length;++ie){var Te=b[ie];if(Te&&!Te.da&&Te.capture==k){var yt=Te.listener,fn=Te.ha||Te.src;Te.fa&&re(f.i,Te),Y=yt.call(fn,M)!==!1&&Y}}return Y&&!M.defaultPrevented}function ot(f,b,k){if(typeof f=="function")k&&(f=h(f,k));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(f,b||0)}function Bt(f){f.g=ot(()=>{f.g=null,f.i&&(f.i=!1,Bt(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Yn extends te{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(f){te.call(this),this.h=f,this.g={}}p(fi,te);var Dl=[];function zr(f){V(f.g,function(b,k){this.g.hasOwnProperty(k)&&be(b)},f),f.g={}}fi.prototype.N=function(){fi.aa.N.call(this),zr(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sa=a.JSON.stringify,Mn=a.JSON.parse,hi=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function oa(){}oa.prototype.h=null;function Q_(f){return f.h||(f.h=f.i())}function X_(){}var Nl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gm(){ce.call(this,"d")}p(gm,ce);function vm(){ce.call(this,"c")}p(vm,ce);var $s={},J_=null;function Uc(){return J_=J_||new De}$s.La="serverreachability";function Z_(f){ce.call(this,$s.La,f)}p(Z_,ce);function Ol(f){const b=Uc();Me(b,new Z_(b))}$s.STAT_EVENT="statevent";function eb(f,b){ce.call(this,$s.STAT_EVENT,f),this.stat=b}p(eb,ce);function Ln(f){const b=Uc();Me(b,new eb(b,f))}$s.Ma="timingevent";function tb(f,b){ce.call(this,$s.Ma,f),this.size=b}p(tb,ce);function Ml(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function Ll(){this.g=!0}Ll.prototype.xa=function(){this.g=!1};function eD(f,b,k,M,Y,ie){f.info(function(){if(f.g)if(ie)for(var Te="",yt=ie.split("&"),fn=0;fn<yt.length;fn++){var ut=yt[fn].split("=");if(1<ut.length){var En=ut[0];ut=ut[1];var Tn=En.split("_");Te=2<=Tn.length&&Tn[1]=="type"?Te+(En+"="+ut+"&"):Te+(En+"=redacted&")}}else Te=null;else Te=ie;return"XMLHTTP REQ ("+M+") [attempt "+Y+"]: "+b+`
`+k+`
`+Te})}function tD(f,b,k,M,Y,ie,Te){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Y+"]: "+b+`
`+k+`
`+ie+" "+Te})}function aa(f,b,k,M){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+iD(f,k)+(M?" "+M:"")})}function nD(f,b){f.info(function(){return"TIMEOUT: "+b})}Ll.prototype.info=function(){};function iD(f,b){if(!f.g)return b;if(!b)return null;try{var k=JSON.parse(b);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var M=k[f];if(!(2>M.length)){var Y=M[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Te=1;Te<Y.length;Te++)Y[Te]=""}}}}return sa(k)}catch{return b}}var Hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pm;function jc(){}p(jc,oa),jc.prototype.g=function(){return new XMLHttpRequest},jc.prototype.i=function(){return{}},pm=new jc;function Wr(f,b,k,M){this.j=f,this.i=b,this.l=k,this.R=M||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ib}function ib(){this.i=null,this.g="",this.h=!1}var rb={},ym={};function _m(f,b,k){f.L=1,f.v=Kc(mr(b)),f.m=k,f.P=!0,sb(f,null)}function sb(f,b){f.F=Date.now(),zc(f),f.A=mr(f.v);var k=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),_b(k.i,"t",M),f.C=0,k=f.j.J,f.h=new ib,f.g=Lb(f.j,k?b:null,!f.m),0<f.O&&(f.M=new Yn(h(f.Y,f,f.g),f.O)),b=f.U,k=f.g,M=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Dl[0]=Y.toString()),Y=Dl);for(var ie=0;ie<Y.length;ie++){var Te=X(k,Y[ie],M||b.handleEvent,!1,b.h||b);if(!Te)break;b.g[Te.key]=Te}b=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Ol(),eD(f.i,f.u,f.A,f.l,f.R,f.m)}Wr.prototype.ca=function(f){f=f.target;const b=this.M;b&&gr(f)==3?b.j():this.Y(f)},Wr.prototype.Y=function(f){try{if(f==this.g)e:{const Tn=gr(this.g);var b=this.g.Ba();const ca=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||Cb(this.g)))){this.J||Tn!=4||b==7||(b==8||0>=ca?Ol(3):Ol(2)),bm(this);var k=this.g.Z();this.X=k;t:if(ob(this)){var M=Cb(this.g);f="";var Y=M.length,ie=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),Fl(this);var Te="";break t}this.h.i=new a.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,f+=this.h.i.decode(M[b],{stream:!(ie&&b==Y-1)});M.length=0,this.h.g+=f,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=k==200,tD(this.i,this.u,this.A,this.l,this.R,Tn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,fn=this.g;if((yt=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(yt)){var ut=yt;break t}}ut=null}if(k=ut)aa(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wm(this,k);else{this.o=!1,this.s=3,Ln(12),Us(this),Fl(this);break e}}if(this.P){k=!0;let Pi;for(;!this.J&&this.C<Te.length;)if(Pi=rD(this,Te),Pi==ym){Tn==4&&(this.s=4,Ln(14),k=!1),aa(this.i,this.l,null,"[Incomplete Response]");break}else if(Pi==rb){this.s=4,Ln(15),aa(this.i,this.l,Te,"[Invalid Chunk]"),k=!1;break}else aa(this.i,this.l,Pi,null),wm(this,Pi);if(ob(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||Te.length!=0||this.h.h||(this.s=1,Ln(16),k=!1),this.o=this.o&&k,!k)aa(this.i,this.l,Te,"[Invalid Chunked Response]"),Us(this),Fl(this);else if(0<Te.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),km(En),En.M=!0,Ln(11))}}else aa(this.i,this.l,Te,null),wm(this,Te);Tn==4&&Us(this),this.o&&!this.J&&(Tn==4?Db(this.j,this):(this.o=!1,zc(this)))}else wD(this.g),k==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Ln(12)):(this.s=0,Ln(13)),Us(this),Fl(this)}}}catch{}finally{}};function ob(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function rD(f,b){var k=f.C,M=b.indexOf(`
`,k);return M==-1?ym:(k=Number(b.substring(k,M)),isNaN(k)?rb:(M+=1,M+k>b.length?ym:(b=b.slice(M,M+k),f.C=M+k,b)))}Wr.prototype.cancel=function(){this.J=!0,Us(this)};function zc(f){f.S=Date.now()+f.I,ab(f,f.I)}function ab(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ml(h(f.ba,f),b)}function bm(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Wr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(nD(this.i,this.A),this.L!=2&&(Ol(),Ln(17)),Us(this),this.s=2,Fl(this)):ab(this,this.S-f)};function Fl(f){f.j.G==0||f.J||Db(f.j,f)}function Us(f){bm(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,zr(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function wm(f,b){try{var k=f.j;if(k.G!=0&&(k.g==f||Im(k.h,f))){if(!f.K&&Im(k.h,f)&&k.G==3){try{var M=k.Da.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Y=M;if(Y[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)Jc(k),Qc(k);else break e;Cm(k),Ln(18)}}else k.za=Y[1],0<k.za-k.T&&37500>Y[2]&&k.F&&k.v==0&&!k.C&&(k.C=Ml(h(k.Za,k),6e3));if(1>=cb(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else js(k,11)}else if((f.K||k.g==f)&&Jc(k),!P(b))for(Y=k.Da.g.parse(b),b=0;b<Y.length;b++){let ut=Y[b];if(k.T=ut[0],ut=ut[1],k.G==2)if(ut[0]=="c"){k.K=ut[1],k.ia=ut[2];const En=ut[3];En!=null&&(k.la=En,k.j.info("VER="+k.la));const Tn=ut[4];Tn!=null&&(k.Aa=Tn,k.j.info("SVER="+k.Aa));const ca=ut[5];ca!=null&&typeof ca=="number"&&0<ca&&(M=1.5*ca,k.L=M,k.j.info("backChannelRequestTimeoutMs_="+M)),M=k;const Pi=f.g;if(Pi){const ed=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ed){var ie=M.h;ie.g||ed.indexOf("spdy")==-1&&ed.indexOf("quic")==-1&&ed.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Sm(ie,ie.h),ie.h=null))}if(M.D){const Am=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Am&&(M.ya=Am,It(M.I,M.D,Am))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),M=k;var Te=f;if(M.qa=Mb(M,M.J?M.ia:null,M.W),Te.K){db(M.h,Te);var yt=Te,fn=M.L;fn&&(yt.I=fn),yt.B&&(bm(yt),zc(yt)),M.g=Te}else Rb(M);0<k.i.length&&Xc(k)}else ut[0]!="stop"&&ut[0]!="close"||js(k,7);else k.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?js(k,7):Tm(k):ut[0]!="noop"&&k.l&&k.l.ta(ut),k.v=0)}}Ol(4)}catch{}}var sD=class{constructor(f,b){this.g=f,this.map=b}};function lb(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ub(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function cb(f){return f.h?1:f.g?f.g.size:0}function Im(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Sm(f,b){f.g?f.g.add(b):f.h=b}function db(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}lb.prototype.cancel=function(){if(this.i=fb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fb(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.D);return b}return v(f.i)}function oD(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var b=[],k=f.length,M=0;M<k;M++)b.push(f[M]);return b}b=[],k=0;for(M in f)b[k++]=f[M];return b}function aD(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var b=[];f=f.length;for(var k=0;k<f;k++)b.push(k);return b}b=[],k=0;for(const M in f)b[k++]=M;return b}}}function hb(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var k=aD(f),M=oD(f),Y=M.length,ie=0;ie<Y;ie++)b.call(void 0,M[ie],k&&k[ie],f)}var mb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lD(f,b){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var M=f[k].indexOf("="),Y=null;if(0<=M){var ie=f[k].substring(0,M);Y=f[k].substring(M+1)}else ie=f[k];b(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Hs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Hs){this.h=f.h,Wc(this,f.j),this.o=f.o,this.g=f.g,Gc(this,f.s),this.l=f.l;var b=f.i,k=new Ul;k.i=b.i,b.g&&(k.g=new Map(b.g),k.h=b.h),gb(this,k),this.m=f.m}else f&&(b=String(f).match(mb))?(this.h=!1,Wc(this,b[1]||"",!0),this.o=Bl(b[2]||""),this.g=Bl(b[3]||"",!0),Gc(this,b[4]),this.l=Bl(b[5]||"",!0),gb(this,b[6]||"",!0),this.m=Bl(b[7]||"")):(this.h=!1,this.i=new Ul(null,this.h))}Hs.prototype.toString=function(){var f=[],b=this.j;b&&f.push($l(b,vb,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push($l(b,vb,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push($l(k,k.charAt(0)=="/"?dD:cD,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",$l(k,hD)),f.join("")};function mr(f){return new Hs(f)}function Wc(f,b,k){f.j=k?Bl(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Gc(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function gb(f,b,k){b instanceof Ul?(f.i=b,mD(f.i,f.h)):(k||(b=$l(b,fD)),f.i=new Ul(b,f.h))}function It(f,b,k){f.i.set(b,k)}function Kc(f){return It(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Bl(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function $l(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,uD),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function uD(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vb=/[#\/\?@]/g,cD=/[#\?:]/g,dD=/[#\?]/g,fD=/[#\?@]/g,hD=/#/g;function Ul(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Gr(f){f.g||(f.g=new Map,f.h=0,f.i&&lD(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}e=Ul.prototype,e.add=function(f,b){Gr(this),this.i=null,f=la(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function pb(f,b){Gr(f),b=la(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function yb(f,b){return Gr(f),b=la(f,b),f.g.has(b)}e.forEach=function(f,b){Gr(this),this.g.forEach(function(k,M){k.forEach(function(Y){f.call(b,Y,M,this)},this)},this)},e.na=function(){Gr(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),k=[];for(let M=0;M<b.length;M++){const Y=f[M];for(let ie=0;ie<Y.length;ie++)k.push(b[M])}return k},e.V=function(f){Gr(this);let b=[];if(typeof f=="string")yb(this,f)&&(b=b.concat(this.g.get(la(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)b=b.concat(f[k])}return b},e.set=function(f,b){return Gr(this),this.i=null,f=la(this,f),yb(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},e.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function _b(f,b,k){pb(f,b),0<k.length&&(f.i=null,f.g.set(la(f,b),v(k)),f.h+=k.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var k=0;k<b.length;k++){var M=b[k];const ie=encodeURIComponent(String(M)),Te=this.V(M);for(M=0;M<Te.length;M++){var Y=ie;Te[M]!==""&&(Y+="="+encodeURIComponent(String(Te[M]))),f.push(Y)}}return this.i=f.join("&")};function la(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function mD(f,b){b&&!f.j&&(Gr(f),f.i=null,f.g.forEach(function(k,M){var Y=M.toLowerCase();M!=Y&&(pb(this,M),_b(this,Y,k))},f)),f.j=b}function gD(f,b){const k=new Ll;if(a.Image){const M=new Image;M.onload=m(Kr,k,"TestLoadImage: loaded",!0,b,M),M.onerror=m(Kr,k,"TestLoadImage: error",!1,b,M),M.onabort=m(Kr,k,"TestLoadImage: abort",!1,b,M),M.ontimeout=m(Kr,k,"TestLoadImage: timeout",!1,b,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else b(!1)}function vD(f,b){const k=new Ll,M=new AbortController,Y=setTimeout(()=>{M.abort(),Kr(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:M.signal}).then(ie=>{clearTimeout(Y),ie.ok?Kr(k,"TestPingServer: ok",!0,b):Kr(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),Kr(k,"TestPingServer: error",!1,b)})}function Kr(f,b,k,M,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),M(k)}catch{}}function pD(){this.g=new hi}function yD(f,b,k){const M=k||"";try{hb(f,function(Y,ie){let Te=Y;u(Y)&&(Te=sa(Y)),b.push(M+ie+"="+encodeURIComponent(Te))})}catch(Y){throw b.push(M+"type="+encodeURIComponent("_badmap")),Y}}function Hl(f){this.l=f.Ub||null,this.j=f.eb||!1}p(Hl,oa),Hl.prototype.g=function(){return new qc(this.l,this.j)},Hl.prototype.i=function(f){return function(){return f}}({});function qc(f,b){De.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(qc,De),e=qc.prototype,e.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,zl(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jl(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bb(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function bb(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?jl(this):zl(this),this.readyState==3&&bb(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,jl(this))},e.Qa=function(f){this.g&&(this.response=f,jl(this))},e.ga=function(){this.g&&jl(this)};function jl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,zl(f)}e.setRequestHeader=function(f,b){this.u.append(f,b)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function zl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wb(f){let b="";return V(f,function(k,M){b+=M,b+=":",b+=k,b+=`\r
`}),b}function Em(f,b,k){e:{for(M in k){var M=!1;break e}M=!0}M||(k=wb(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):It(f,b,k))}function Lt(f){De.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Lt,De);var _D=/^https?$/i,bD=["POST","PUT"];e=Lt.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,b,k,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pm.g(),this.v=this.o?Q_(this.o):Q_(pm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ie){Ib(this,ie);return}if(f=k||"",k=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Y in M)k.set(Y,M[Y]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ie of M.keys())k.set(ie,M.get(ie));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(k.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bD,b,void 0))||M||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Te]of k)this.g.setRequestHeader(ie,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tb(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Ib(this,ie)}};function Ib(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Sb(f),Yc(f)}function Sb(f){f.A||(f.A=!0,Me(f,"complete"),Me(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Me(this,"complete"),Me(this,"abort"),Yc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yc(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Eb(this):this.bb())},e.bb=function(){Eb(this)};function Eb(f){if(f.h&&typeof o<"u"&&(!f.v[1]||gr(f)!=4||f.Z()!=2)){if(f.u&&gr(f)==4)ot(f.Ea,0,f);else if(Me(f,"readystatechange"),gr(f)==4){f.h=!1;try{const Te=f.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var M;if(M=Te===0){var Y=String(f.D).match(mb)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),M=!_D.test(Y?Y.toLowerCase():"")}k=M}if(k)Me(f,"complete"),Me(f,"success");else{f.m=6;try{var ie=2<gr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",Sb(f)}}finally{Yc(f)}}}}function Yc(f,b){if(f.g){Tb(f);const k=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||Me(f,"ready");try{k.onreadystatechange=M}catch{}}}function Tb(f){f.I&&(a.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function gr(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Mn(b)}};function Cb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wD(f){const b={};f=(f.g&&2<=gr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(P(f[M]))continue;var k=E(f[M]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ie=b[Y]||[];b[Y]=ie,ie.push(k)}S(b,function(M){return M.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wl(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function kb(f){this.Aa=0,this.i=[],this.j=new Ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wl("baseRetryDelayMs",5e3,f),this.cb=Wl("retryDelaySeedMs",1e4,f),this.Wa=Wl("forwardChannelMaxRetries",2,f),this.wa=Wl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new lb(f&&f.concurrentRequestLimit),this.Da=new pD,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=kb.prototype,e.la=8,e.G=1,e.connect=function(f,b,k,M){Ln(0),this.W=f,this.H=b||{},k&&M!==void 0&&(this.H.OSID=k,this.H.OAID=M),this.F=this.X,this.I=Mb(this,null,this.W),Xc(this)};function Tm(f){if(Ab(f),f.G==3){var b=f.U++,k=mr(f.I);if(It(k,"SID",f.K),It(k,"RID",b),It(k,"TYPE","terminate"),Gl(f,k),b=new Wr(f,f.j,b),b.L=2,b.v=Kc(mr(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=b.v,k=!0),k||(b.g=Lb(b.j,null),b.g.ea(b.v)),b.F=Date.now(),zc(b)}Ob(f)}function Qc(f){f.g&&(km(f),f.g.cancel(),f.g=null)}function Ab(f){Qc(f),f.u&&(a.clearTimeout(f.u),f.u=null),Jc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Xc(f){if(!ub(f.h)&&!f.s){f.s=!0;var b=f.Ga;K||H(),F||(K(),F=!0),q.add(b,f),f.B=0}}function ID(f,b){return cb(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ml(h(f.Ga,f,b),Nb(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new Wr(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=w(ie),I(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var M=this.i[k];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(b+=M,4096<b){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=xb(this,Y,b),k=mr(this.I),It(k,"RID",f),It(k,"CVER",22),this.D&&It(k,"X-HTTP-Session-Id",this.D),Gl(this,k),ie&&(this.O?b="headers="+encodeURIComponent(String(wb(ie)))+"&"+b:this.m&&Em(k,this.m,ie)),Sm(this.h,Y),this.Ua&&It(k,"TYPE","init"),this.P?(It(k,"$req",b),It(k,"SID","null"),Y.T=!0,_m(Y,k,null)):_m(Y,k,b),this.G=2}}else this.G==3&&(f?Pb(this,f):this.i.length==0||ub(this.h)||Pb(this))};function Pb(f,b){var k;b?k=b.l:k=f.U++;const M=mr(f.I);It(M,"SID",f.K),It(M,"RID",k),It(M,"AID",f.T),Gl(f,M),f.m&&f.o&&Em(M,f.m,f.o),k=new Wr(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),b&&(f.i=b.D.concat(f.i)),b=xb(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Sm(f.h,k),_m(k,M,b)}function Gl(f,b){f.H&&V(f.H,function(k,M){It(b,M,k)}),f.l&&hb({},function(k,M){It(b,M,k)})}function xb(f,b,k){k=Math.min(f.i.length,k);var M=f.l?h(f.l.Na,f.l,f):null;e:{var Y=f.i;let ie=-1;for(;;){const Te=["count="+k];ie==-1?0<k?(ie=Y[0].g,Te.push("ofs="+ie)):ie=0:Te.push("ofs="+ie);let yt=!0;for(let fn=0;fn<k;fn++){let ut=Y[fn].g;const En=Y[fn].map;if(ut-=ie,0>ut)ie=Math.max(0,Y[fn].g-100),yt=!1;else try{yD(En,Te,"req"+ut+"_")}catch{M&&M(En)}}if(yt){M=Te.join("&");break e}}}return f=f.i.splice(0,k),b.D=f,M}function Rb(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;K||H(),F||(K(),F=!0),q.add(b,f),f.v=0}}function Cm(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ml(h(f.Fa,f),Nb(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,Vb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ml(h(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ln(10),Qc(this),Vb(this))};function km(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function Vb(f){f.g=new Wr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=mr(f.qa);It(b,"RID","rpc"),It(b,"SID",f.K),It(b,"AID",f.T),It(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&It(b,"TO",f.ja),It(b,"TYPE","xmlhttp"),Gl(f,b),f.m&&f.o&&Em(b,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=Kc(mr(b)),k.m=null,k.P=!0,sb(k,f)}e.Za=function(){this.C!=null&&(this.C=null,Qc(this),Cm(this),Ln(19))};function Jc(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function Db(f,b){var k=null;if(f.g==b){Jc(f),km(f),f.g=null;var M=2}else if(Im(f.h,b))k=b.D,db(f.h,b),M=1;else return;if(f.G!=0){if(b.o)if(M==1){k=b.m?b.m.length:0,b=Date.now()-b.F;var Y=f.B;M=Uc(),Me(M,new tb(M,k)),Xc(f)}else Rb(f);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(M==1&&ID(f,b)||M==2&&Cm(f)))switch(k&&0<k.length&&(b=f.h,b.i=b.i.concat(k)),Y){case 1:js(f,5);break;case 4:js(f,10);break;case 3:js(f,6);break;default:js(f,2)}}}function Nb(f,b){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*b}function js(f,b){if(f.j.info("Error code "+b),b==2){var k=h(f.fb,f),M=f.Xa;const Y=!M;M=new Hs(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wc(M,"https"),Kc(M),Y?gD(M.toString(),k):vD(M.toString(),k)}else Ln(2);f.G=0,f.l&&f.l.sa(b),Ob(f),Ab(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))};function Ob(f){if(f.G=0,f.ka=[],f.l){const b=fb(f.h);(b.length!=0||f.i.length!=0)&&(y(f.ka,b),y(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function Mb(f,b,k){var M=k instanceof Hs?mr(k):new Hs(k);if(M.g!="")b&&(M.g=b+"."+M.g),Gc(M,M.s);else{var Y=a.location;M=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new Hs(null);M&&Wc(ie,M),b&&(ie.g=b),Y&&Gc(ie,Y),k&&(ie.l=k),M=ie}return k=f.D,b=f.ya,k&&b&&It(M,k,b),It(M,"VER",f.la),Gl(f,M),M}function Lb(f,b,k){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new Lt(new Hl({eb:k})):new Lt(f.pa),b.Ha(f.J),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fb(){}e=Fb.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Zc(){}Zc.prototype.g=function(f,b){return new Qn(f,b)};function Qn(f,b){De.call(this),this.g=new kb(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!P(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ua(this)}p(Qn,De),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Tm(this.g)},Qn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=sa(f),f=k);b.i.push(new sD(b.Ya++,f)),b.G==3&&Xc(b)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Tm(this.g),delete this.g,Qn.aa.N.call(this)};function Bb(f){gm.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}p(Bb,gm);function $b(){vm.call(this),this.status=1}p($b,vm);function ua(f){this.g=f}p(ua,Fb),ua.prototype.ua=function(){Me(this.g,"a")},ua.prototype.ta=function(f){Me(this.g,new Bb(f))},ua.prototype.sa=function(f){Me(this.g,new $b)},ua.prototype.ra=function(){Me(this.g,"b")},Zc.prototype.createWebChannel=Zc.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,RA=function(){return new Zc},xA=function(){return Uc()},PA=$s,vv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hc.NO_ERROR=0,Hc.TIMEOUT=8,Hc.HTTP_ERROR=6,Hd=Hc,nb.COMPLETE="complete",AA=nb,X_.EventType=Nl,Nl.OPEN="a",Nl.CLOSE="b",Nl.ERROR="c",Nl.MESSAGE="d",De.prototype.listen=De.prototype.K,fu=X_,kA=Hl,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,CA=Lt}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const XI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new zo("@firebase/firestore");function Ia(){return ko.logLevel}function Ce(e,...t){if(ko.logLevel<=qe.DEBUG){const n=t.map(Cy);ko.debug(`Firestore (${Tl}): ${e}`,...n)}}function Zn(e,...t){if(ko.logLevel<=qe.ERROR){const n=t.map(Cy);ko.error(`Firestore (${Tl}): ${e}`,...n)}}function JI(e,...t){if(ko.logLevel<=qe.WARN){const n=t.map(Cy);ko.warn(`Firestore (${Tl}): ${e}`,...n)}}function Cy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(e="Unexpected state"){const t=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+e;throw Zn(t),new Error(t)}function ze(e,t){e||Fe()}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Ei{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class I4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class S4{constructor(t){this.t=t,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mo,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mo)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new w4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ze(t===null||typeof t=="string"),new Bn(t)}}class E4{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class T4{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new E4(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C4{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k4{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new C4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=A4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function Ze(e,t){return e<t?-1:e>t?1:0}function el(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}function VA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new je(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new je(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new je(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yn.fromMillis(Date.now())}static fromDate(t){return yn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new yn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ze(this.nanoseconds,t.nanoseconds):Ze(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new et(t)}static min(){return new et(new yn(0,0))}static max(){return new et(new yn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n,i){n===void 0?n=0:n>t.length&&Fe(),i===void 0?i=t.length-n:i>t.length-n&&Fe(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Gu.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Gu?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Dt extends Gu{construct(t,n,i){return new Dt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new je(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const x4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Gu{construct(t,n,i){return new jt(t,n,i)}static isValidIdentifier(t){return x4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new je(we.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new je(we.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new je(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new je(we.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.path=t}static fromPath(t){return new Ne(Dt.fromString(t))}static fromName(t){return new Ne(Dt.fromString(t).popFirst(5))}static empty(){return new Ne(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ne(new Dt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,n,i,r){this.indexId=t,this.collectionGroup=n,this.fields=i,this.indexState=r}}function pv(e){return e.fields.find(t=>t.kind===2)}function Zs(e){return e.fields.filter(t=>t.kind!==2)}Sf.UNKNOWN_ID=-1;class jd{constructor(t,n){this.fieldPath=t,this.kind=n}}class Ku{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new Ku(0,oi.min())}}function R4(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=et.fromTimestamp(i===1e9?new yn(n+1,0):new yn(n,i));return new oi(r,Ne.empty(),t)}function DA(e){return new oi(e.readTime,e.key,-1)}class oi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new oi(et.min(),Ne.empty(),-1)}static max(){return new oi(et.max(),Ne.empty(),-1)}}function ky(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ne.comparator(e.documentKey,t.documentKey),n!==0?n:Ze(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(e){if(e.code!==we.FAILED_PRECONDITION||e.message!==NA)throw e;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,i)=>{n(t)})}static reject(t){return new J((n,i)=>{i(t)})}static waitFor(t){return new J((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=J.resolve(!1);for(const i of t)n=n.next(r=>r?J.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new J((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(t,n){return new J((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new mo,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Cu(t,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=Ay(i.target.error);this.V.reject(new Cu(t,r))}}static open(t,n,i,r){try{return new _h(n,t.transaction(r,i))}catch(s){throw new Cu(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ce("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new D4(n)}}class bs{constructor(t,n,i){this.name=t,this.version=n,this.p=i,bs.S(Wt())===12.2&&Zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ce("SimpleDb","Removing database:",t),to(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!vc())return!1;if(bs.C())return!0;const t=Wt(),n=bs.S(t),i=0<n&&n<10,r=MA(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.v)==="YES"}static F(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}async M(t){return this.db||(Ce("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{const o=s.target.result;n(o)},r.onblocked=()=>{i(new Cu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{const o=s.target.error;o.name==="VersionError"?i(new je(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new je(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new Cu(t,o))},r.onupgradeneeded=s=>{Ce("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,r.transaction,s.oldVersion,this.version).next(()=>{Ce("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(t){this.N=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,i,r){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(t);const a=_h.open(this.db,t,s?"readonly":"readwrite",i),l=r(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),J.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(Ce("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function MA(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class V4{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return to(this.B.delete())}}class Cu extends je{constructor(t,n){super(we.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function qo(e){return e.name==="IndexedDbTransactionError"}class D4{constructor(t){this.store=t}put(t,n){let i;return n!==void 0?(Ce("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),to(i)}add(t){return Ce("SimpleDb","ADD",this.store.name,t,t),to(this.store.add(t))}get(t){return to(this.store.get(t)).next(n=>(n===void 0&&(n=null),Ce("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return Ce("SimpleDb","DELETE",this.store.name,t),to(this.store.delete(t))}count(){return Ce("SimpleDb","COUNT",this.store.name),to(this.store.count())}U(t,n){const i=this.options(t,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){const s=r.getAll(i.range);return new J((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(t,n){const i=this.store.getAll(t,n===null?void 0:n);return new J((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(t,n){Ce("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,n);i.H=!1;const r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(t,n){let i;n?i=t:(i={},n=t);const r=this.cursor(i);return this.W(r,n)}Y(t){const n=this.cursor({});return new J((i,r)=>{n.onerror=s=>{const o=Ay(s.target.error);r(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(t,n){const i=[];return new J((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new V4(a),u=n(a.primaryKey,a.value,l);if(u instanceof J){const c=u.catch(d=>(l.done(),J.reject(d)));i.push(c)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>J.waitFor(i))}options(t,n){let i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function to(e){return new J((t,n)=>{e.onsuccess=i=>{const r=i.target.result;t(r)},e.onerror=i=>{const r=Ay(i.target.error);n(r)}})}let ZI=!1;function Ay(e){const t=bs.S(Wt());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const i=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZI||(ZI=!0,setTimeout(()=>{throw i},0)),i}}return e}class N4{constructor(t,n){this.asyncQueue=t,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(t){Ce("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{Ce("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){qo(n)?Ce("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await yh(n)}await this.X(6e4)})}}class O4{constructor(t,n){this.localStore=t,this.persistence=n}async ee(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,t))}te(t,n){const i=new Set;let r=n,s=!0;return J.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(o!==null&&!i.has(o))return Ce("IndexBackfiller",`Processing collection: ${o}`),this.ne(t,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>n-r)}ne(t,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next(r=>this.localStore.localDocuments.getNextDocuments(t,n,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.re(r,s)).next(a=>(Ce("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,n,a))).next(()=>o.size)}))}re(t,n){let i=t;return n.changes.forEach((r,s)=>{const o=DA(s);ky(o,i)>0&&(i=o)}),new oi(i.readTime,i.documentKey,Math.max(n.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Oi.oe=-1;function bh(e){return e==null}function Ef(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=eS(t)),t=M4(e.get(n),t);return eS(t)}function M4(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function eS(e){return e+""}function Ji(e){const t=e.length;if(ze(t>=2),t===2)return ze(e.charAt(0)===""&&e.charAt(1)===""),Dt.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const o=e.indexOf("",s);switch((o<0||o>n)&&Fe(),e.charAt(o+1)){case"":const a=e.substring(s,o);let l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=e.substring(s,o),r+="\0";break;case"":r+=e.substring(s,o+1);break;default:Fe()}s=o+2}return new Dt(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(e,t){return[e,$n(t)]}function LA(e,t,n){return[e,$n(t),n]}const L4={},F4=["prefixPath","collectionGroup","readTime","documentId"],B4=["prefixPath","collectionGroup","documentId"],$4=["collectionGroup","readTime","prefixPath","documentId"],U4=["canonicalId","targetId"],H4=["targetId","path"],j4=["path","targetId"],z4=["collectionId","parent"],W4=["indexId","uid"],G4=["uid","sequenceNumber"],K4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q4=["indexId","uid","orderedDocumentKey"],Y4=["userId","collectionPath","documentId"],Q4=["userId","collectionPath","largestBatchId"],X4=["userId","collectionGroup","largestBatchId"],FA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J4=[...FA,"documentOverlays"],BA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$A=BA,UA=[...$A,"indexConfiguration","indexState","indexEntries"],Z4=UA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends OA{constructor(t,n){super(),this._e=t,this.currentSequenceNumber=n}}function un(e,t){const n=xt(e);return bs.F(n._e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Py(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,n){this.comparator=t,this.root=n||hn.EMPTY}insert(t,n){return new qn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(t){return new qn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _d(this.root,t,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _d(this.root,t,this.comparator,!0)}}class _d{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hn{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??hn.RED,this.left=r??hn.EMPTY,this.right=s??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new hn(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return hn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const t=this.left.check();if(t!==this.right.check())throw Fe();return t+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(t,n,i,r,s){return this}insert(t,n,i){return new hn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.comparator=t,this.data=new qn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new iS(this.data.getIterator())}getIteratorFrom(t){return new iS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof _t)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new _t(this.comparator);return n.data=t,n}}class iS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ha(e){return e.hasNext()?e.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.fields=t,t.sort(jt.comparator)}static empty(){return new Er([])}unionWith(t){let n=new _t(jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Er(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return el(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tH("Invalid base64 string: "+s):s}}(t);return new Rr(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Rr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ze(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const nH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(e){if(ze(!!e),typeof e=="string"){let t=0;const n=nH.exec(e);if(ze(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Kt(e.seconds),nanos:Kt(e.nanos)}}function Kt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function tl(e){return typeof e=="string"?Rr.fromBase64String(e):Rr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HA(e){const t=e.mapValue.fields.__previous_value__;return xy(t)?HA(t):t}function Tf(e){const t=Es(e.mapValue.fields.__local_write_time__.timestampValue);return new yn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(t,n,i,r,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class nl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof nl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wd={nullValue:"NULL_VALUE"};function il(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xy(e)?4:jA(e)?9007199254740991:10:Fe()}function rr(e,t){if(e===t)return!0;const n=il(e);if(n!==il(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tf(e).isEqual(Tf(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Es(r.timestampValue),a=Es(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return tl(r.bytesValue).isEqual(tl(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Kt(r.geoPointValue.latitude)===Kt(s.geoPointValue.latitude)&&Kt(r.geoPointValue.longitude)===Kt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Kt(r.integerValue)===Kt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Kt(r.doubleValue),a=Kt(s.doubleValue);return o===a?Ef(o)===Ef(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return el(e.arrayValue.values||[],t.arrayValue.values||[],rr);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(nS(o)!==nS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!rr(o[l],a[l])))return!1;return!0}(e,t);default:return Fe()}}function qu(e,t){return(e.values||[]).find(n=>rr(n,t))!==void 0}function Ts(e,t){if(e===t)return 0;const n=il(e),i=il(t);if(n!==i)return Ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Kt(s.integerValue||s.doubleValue),l=Kt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return rS(e.timestampValue,t.timestampValue);case 4:return rS(Tf(e),Tf(t));case 5:return Ze(e.stringValue,t.stringValue);case 6:return function(s,o){const a=tl(s),l=tl(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ze(a[u],l[u]);if(c!==0)return c}return Ze(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ze(Kt(s.latitude),Kt(o.latitude));return a!==0?a:Ze(Kt(s.longitude),Kt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ts(a[u],l[u]);if(c)return c}return Ze(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===hs.mapValue&&o===hs.mapValue)return 0;if(s===hs.mapValue)return 1;if(o===hs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ze(l[d],c[d]);if(h!==0)return h;const m=Ts(a[l[d]],u[c[d]]);if(m!==0)return m}return Ze(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Fe()}}function rS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ze(e,t);const n=Es(e),i=Es(t),r=Ze(n.seconds,i.seconds);return r!==0?r:Ze(n.nanos,i.nanos)}function rl(e){return _v(e)}function _v(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Es(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return tl(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ne.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=_v(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${_v(n.fields[o])}`;return r+"}"}(e.mapValue):Fe()}function Ry(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function bv(e){return!!e&&"integerValue"in e}function Yu(e){return!!e&&"arrayValue"in e}function sS(e){return!!e&&"nullValue"in e}function oS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tg(e){return!!e&&"mapValue"in e}function ku(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Py(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ku(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ku(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jA(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function rH(e){return"nullValue"in e?Wd:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ry(nl.empty(),Ne.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Fe()}function sH(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ry(nl.empty(),Ne.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?hs:Fe()}function aS(e,t){const n=Ts(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function lS(e,t){const n=Ts(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.value=t}static empty(){return new Di({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!tg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ku(n)}setAll(t){let n=jt.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=ku(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return rr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];tg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Py(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Di(ku(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new mn(t,0,et.min(),et.min(),et.min(),Di.empty(),0)}static newFoundDocument(t,n,i,r){return new mn(t,1,n,et.min(),i,r,0)}static newNoDocument(t,n){return new mn(t,2,n,et.min(),et.min(),Di.empty(),0)}static newUnknownDocument(t,n){return new mn(t,3,n,et.min(),et.min(),Di.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Di.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n){this.position=t,this.inclusive=n}}function uS(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=Ne.comparator(Ne.fromName(o.referenceValue),n.key):i=Ts(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function cS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,n="asc"){this.field=t,this.dir=n}}function oH(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{}class Xe extends zA{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new aH(t,n,i):n==="array-contains"?new cH(t,i):n==="in"?new QA(t,i):n==="not-in"?new dH(t,i):n==="array-contains-any"?new fH(t,i):new Xe(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new lH(t,i):new uH(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&il(this.value)===il(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pt extends zA{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new pt(t,n)}matches(t){return ol(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ol(e){return e.op==="and"}function wv(e){return e.op==="or"}function Vy(e){return WA(e)&&ol(e)}function WA(e){for(const t of e.filters)if(t instanceof pt)return!1;return!0}function Iv(e){if(e instanceof Xe)return e.field.canonicalString()+e.op.toString()+rl(e.value);if(Vy(e))return e.filters.map(t=>Iv(t)).join(",");{const t=e.filters.map(n=>Iv(n)).join(",");return`${e.op}(${t})`}}function GA(e,t){return e instanceof Xe?function(i,r){return r instanceof Xe&&i.op===r.op&&i.field.isEqual(r.field)&&rr(i.value,r.value)}(e,t):e instanceof pt?function(i,r){return r instanceof pt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&GA(o,r.filters[a]),!0):!1}(e,t):void Fe()}function KA(e,t){const n=e.filters.concat(t);return pt.create(n,e.op)}function qA(e){return e instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(e):e instanceof pt?function(n){return n.op.toString()+" {"+n.getFilters().map(qA).join(" ,")+"}"}(e):"Filter"}class aH extends Xe{constructor(t,n,i){super(t,n,i),this.key=Ne.fromName(i.referenceValue)}matches(t){const n=Ne.comparator(t.key,this.key);return this.matchesComparison(n)}}class lH extends Xe{constructor(t,n){super(t,"in",n),this.keys=YA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class uH extends Xe{constructor(t,n){super(t,"not-in",n),this.keys=YA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function YA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class cH extends Xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Yu(n)&&qu(n.arrayValue,this.value)}}class QA extends Xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class dH extends Xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!qu(this.value.arrayValue,n)}}class fH extends Xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Yu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>qu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Sv(e,t=null,n=[],i=[],r=null,s=null,o=null){return new hH(e,t,n,i,r,s,o)}function Ao(e){const t=xt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Iv(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),bh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>rl(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>rl(i)).join(",")),t.ue=n}return t.ue}function Tc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!oH(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!GA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cS(e.startAt,t.startAt)&&cS(e.endAt,t.endAt)}function mH(e){return Ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function kf(e,t){return e.filters.filter(n=>n instanceof Xe&&n.field.isEqual(t))}function dS(e,t,n){let i=Wd,r=!0;for(const s of kf(e,t)){let o=Wd,a=!0;switch(s.op){case"<":case"<=":o=rH(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Wd}aS({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(n!==null){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];aS({value:i,inclusive:r},{value:o,inclusive:n.inclusive})<0&&(i=o,r=n.inclusive);break}}return{value:i,inclusive:r}}function fS(e,t,n){let i=hs,r=!0;for(const s of kf(e,t)){let o=hs,a=!0;switch(s.op){case">=":case">":o=sH(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=hs}lS({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(n!==null){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];lS({value:i,inclusive:r},{value:o,inclusive:n.inclusive})>0&&(i=o,r=n.inclusive);break}}return{value:i,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gH(e,t,n,i,r,s,o,a){return new wh(e,t,n,i,r,s,o,a)}function vH(e){return new wh(e)}function hS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pH(e){return e.collectionGroup!==null}function Au(e){const t=xt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Cf(s,i))}),n.has(jt.keyField().canonicalString())||t.ce.push(new Cf(jt.keyField(),i))}return t.ce}function Ar(e){const t=xt(e);return t.le||(t.le=yH(t,Au(e))),t.le}function yH(e,t){if(e.limitType==="F")return Sv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Cf(r.field,s)});const n=e.endAt?new sl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new sl(e.startAt.position,e.startAt.inclusive):null;return Sv(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Ev(e,t,n){return new wh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function XA(e,t){return Tc(Ar(e),Ar(t))&&e.limitType===t.limitType}function JA(e){return`${Ao(Ar(e))}|lt:${e.limitType}`}function Zl(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>qA(r)).join(", ")}]`),bh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>rl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>rl(r)).join(",")),`Target(${i})`}(Ar(e))}; limitType=${e.limitType})`}function Ih(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ne.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Au(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=uS(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Au(i),r)||i.endAt&&!function(o,a,l){const u=uS(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Au(i),r))}(e,t)}function _H(e){return(t,n)=>{let i=!1;for(const r of Au(e)){const s=bH(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function bH(e,t,n){const i=e.field.isKeyField()?Ne.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ts(l,u):Fe()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Py(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return eH(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=new qn(Ne.comparator);function oo(){return wH}const ZA=new qn(Ne.comparator);function bd(...e){let t=ZA;for(const n of e)t=t.insert(n.key,n);return t}function IH(e){let t=ZA;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Zi(){return Pu()}function eP(){return Pu()}function Pu(){return new Ms(e=>e.toString(),(e,t)=>e.isEqual(t))}const SH=new qn(Ne.comparator),EH=new _t(Ne.comparator);function gn(...e){let t=EH;for(const n of e)t=t.add(n);return t}const TH=new _t(Ze);function CH(){return TH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(t)?"-0":t}}function AH(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function PH(e,t,n){return e instanceof Qu?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&xy(s)&&(s=HA(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof al?tP(e,t):e instanceof ll?nP(e,t):function(r,s){const o=RH(r,s),a=mS(o)+mS(r.Pe);return bv(o)&&bv(r.Pe)?AH(a):kH(r.serializer,a)}(e,t)}function xH(e,t,n){return e instanceof al?tP(e,t):e instanceof ll?nP(e,t):n}function RH(e,t){return e instanceof Xu?function(i){return bv(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Qu extends Sh{}class al extends Sh{constructor(t){super(),this.elements=t}}function tP(e,t){const n=iP(t);for(const i of e.elements)n.some(r=>rr(r,i))||n.push(i);return{arrayValue:{values:n}}}class ll extends Sh{constructor(t){super(),this.elements=t}}function nP(e,t){let n=iP(t);for(const i of e.elements)n=n.filter(r=>!rr(r,i));return{arrayValue:{values:n}}}class Xu extends Sh{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function mS(e){return Kt(e.integerValue||e.doubleValue)}function iP(e){return Yu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(t,n){this.field=t,this.transform=n}}function DH(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof al&&r instanceof al||i instanceof ll&&r instanceof ll?el(i.elements,r.elements,rr):i instanceof Xu&&r instanceof Xu?rr(i.Pe,r.Pe):i instanceof Qu&&r instanceof Qu}(e.transform,t.transform)}class NH{constructor(t,n){this.version=t,this.transformResults=n}}class Mi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Eh{}function rP(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Dy(e.key,Mi.none()):new Cc(e.key,e.data,Mi.none());{const n=e.data,i=Di.empty();let r=new _t(jt.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Cl(e.key,i,new Er(r.toArray()),Mi.none())}}function OH(e,t,n){e instanceof Cc?function(r,s,o){const a=r.value.clone(),l=vS(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Cl?function(r,s,o){if(!Gd(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vS(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sP(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function xu(e,t,n,i){return e instanceof Cc?function(s,o,a,l){if(!Gd(s.precondition,o))return a;const u=s.value.clone(),c=pS(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof Cl?function(s,o,a,l){if(!Gd(s.precondition,o))return a;const u=pS(s.fieldTransforms,l,o),c=o.data;return c.setAll(sP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,i):function(s,o,a){return Gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function gS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&el(i,r,(s,o)=>DH(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cc extends Eh{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cl extends Eh{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sP(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function vS(e,t,n){const i=new Map;ze(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,xH(o,a,n[r]))}return i}function pS(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,PH(s,o,t))}return i}class Dy extends Eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oP extends Eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&OH(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=xu(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=xu(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=eP();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=rP(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(et.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),gn())}isEqual(t){return this.batchId===t.batchId&&el(this.mutations,t.mutations,(n,i)=>gS(n,i))&&el(this.baseMutations,t.baseMutations,(n,i)=>gS(n,i))}}class Oy{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){ze(t.mutations.length===i.length);let r=function(){return SH}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Oy(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Je;function MH(e){switch(e){default:return Fe();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function LH(e){if(e===void 0)return Zn("GRPC error has no .code"),we.UNKNOWN;switch(e){case Ht.OK:return we.OK;case Ht.CANCELLED:return we.CANCELLED;case Ht.UNKNOWN:return we.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return we.INTERNAL;case Ht.UNAVAILABLE:return we.UNAVAILABLE;case Ht.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ht.NOT_FOUND:return we.NOT_FOUND;case Ht.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ht.ABORTED:return we.ABORTED;case Ht.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ht.DATA_LOSS:return we.DATA_LOSS;default:return Fe()}}(Je=Ht||(Ht={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new TA([4294967295,4294967295],0);const FH={asc:"ASCENDING",desc:"DESCENDING"},BH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$H={and:"AND",or:"OR"};class UH{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function HH(e,t){return e.useProto3Json||bh(t)?t:{value:t}}function Tv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jH(e,t){return Tv(e,t.toTimestamp())}function Bi(e){return ze(!!e),et.fromTimestamp(function(n){const i=Es(n);return new yn(i.seconds,i.nanos)}(e))}function aP(e,t){return Cv(e,t).canonicalString()}function Cv(e,t){const n=function(r){return new Dt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function lP(e){const t=Dt.fromString(e);return ze(ZH(t)),t}function Af(e,t){return aP(e.databaseId,t.path)}function Kd(e,t){const n=lP(t);if(n.get(1)!==e.databaseId.projectId)throw new je(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new je(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ne(dP(n))}function uP(e,t){return aP(e.databaseId,t)}function cP(e){const t=lP(e);return t.length===4?Dt.emptyPath():dP(t)}function zH(e){return new Dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dP(e){return ze(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function yS(e,t,n){return{name:Af(e,t),fields:n.value.mapValue.fields}}function WH(e,t,n){const i=Kd(e,t.name),r=Bi(t.updateTime),s=t.createTime?Bi(t.createTime):et.min(),o=new Di({mapValue:{fields:t.fields}}),a=mn.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Pf(e,t){let n;if(t instanceof Cc)n={update:yS(e,t.key,t.value)};else if(t instanceof Dy)n={delete:Af(e,t.key)};else if(t instanceof Cl)n={update:yS(e,t.key,t.data),updateMask:JH(t.fieldMask)};else{if(!(t instanceof oP))return Fe();n={verify:Af(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Qu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Fe()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:jH(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Fe()}(e,t.precondition)),n}function kv(e,t){const n=t.currentDocument?function(s){return s.updateTime!==void 0?Mi.updateTime(Bi(s.updateTime)):s.exists!==void 0?Mi.exists(s.exists):Mi.none()}(t.currentDocument):Mi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let l=null;if("setToServerValue"in a)ze(a.setToServerValue==="REQUEST_TIME"),l=new Qu;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new al(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new ll(c)}else"increment"in a?l=new Xu(o,a.increment):Fe();const u=jt.fromServerFormat(a.fieldPath);return new VH(u,l)}(e,r)):[];if(t.update){t.update.name;const r=Kd(e,t.update.name),s=new Di({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Er(u.map(c=>jt.fromServerFormat(c)))}(t.updateMask);return new Cl(r,s,o,n,i)}return new Cc(r,s,n,i)}if(t.delete){const r=Kd(e,t.delete);return new Dy(r,n)}if(t.verify){const r=Kd(e,t.verify);return new oP(r,n)}return Fe()}function GH(e,t){return e&&e.length>0?(ze(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?Bi(r.updateTime):Bi(s);return o.isEqual(et.min())&&(o=Bi(s)),new NH(o,r.transformResults||[])}(n,t))):[]}function KH(e,t){return{documents:[uP(e,t.path)]}}function qH(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uP(e,r);const s=function(u){if(u.length!==0)return mP(pt.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Sa(h.field),direction:YH(h.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=HH(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:r}}function fP(e){let t=cP(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ze(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=hP(d);return h instanceof pt&&Vy(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new Cf(Ea(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,bh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new sl(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new sl(m,h)}(n.endAt)),gH(t,r,o,s,a,"F",l,u)}function hP(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ea(n.unaryFilter.field);return Xe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ea(n.unaryFilter.field);return Xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ea(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ea(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(e):e.fieldFilter!==void 0?function(n){return Xe.create(Ea(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return pt.create(n.compositeFilter.filters.map(i=>hP(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Fe()}}(n.compositeFilter.op))}(e):Fe()}function YH(e){return FH[e]}function QH(e){return BH[e]}function XH(e){return $H[e]}function Sa(e){return{fieldPath:e.canonicalString()}}function Ea(e){return jt.fromServerFormat(e.fieldPath)}function mP(e){return e instanceof Xe?function(n){if(n.op==="=="){if(oS(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NAN"}};if(sS(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oS(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NAN"}};if(sS(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(n.field),op:QH(n.op),value:n.value}}}(e):e instanceof pt?function(n){const i=n.getFilters().map(r=>mP(r));return i.length===1?i[0]:{compositeFilter:{op:XH(n.op),filters:i}}}(e):Fe()}function JH(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function ZH(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n,i,r,s=et.min(),o=et.min(),a=Rr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new xa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t){this.ct=t}}function e5(e,t){let n;if(t.document)n=WH(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ne.fromSegments(t.noDocument.path),r=xo(t.noDocument.readTime);n=mn.newNoDocument(i,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Fe();{const i=Ne.fromSegments(t.unknownDocument.path),r=xo(t.unknownDocument.version);n=mn.newUnknownDocument(i,r)}}return t.readTime&&n.setReadTime(function(r){const s=new yn(r[0],r[1]);return et.fromTimestamp(s)}(t.readTime)),n}function _S(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(s,o){return{name:Af(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Tv(s,o.version.toTimestamp()),createTime:Tv(s,o.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Po(t.version)};else{if(!t.isUnknownDocument())return Fe();i.unknownDocument={path:n.path.toArray(),version:Po(t.version)}}return i}function xf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Po(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function xo(e){const t=new yn(e.seconds,e.nanoseconds);return et.fromTimestamp(t)}function no(e,t){const n=(t.baseMutations||[]).map(s=>kv(e.ct,s));for(let s=0;s<t.mutations.length-1;++s){const o=t.mutations[s];if(s+1<t.mutations.length&&t.mutations[s+1].transform!==void 0){const a=t.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const i=t.mutations.map(s=>kv(e.ct,s)),r=yn.fromMillis(t.localWriteTimeMs);return new Ny(t.batchId,r,n,i)}function hu(e){const t=xo(e.readTime),n=e.lastLimboFreeSnapshotVersion!==void 0?xo(e.lastLimboFreeSnapshotVersion):et.min();let i;return i=function(s){return s.documents!==void 0}(e.query)?function(s){return ze(s.documents.length===1),Ar(vH(cP(s.documents[0])))}(e.query):function(s){return Ar(fP(s))}(e.query),new xa(i,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Rr.fromBase64String(e.resumeToken))}function vP(e,t){const n=Po(t.snapshotVersion),i=Po(t.lastLimboFreeSnapshotVersion);let r;r=mH(t.target)?KH(e.ct,t.target):qH(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ao(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function pP(e){const t=fP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ev(t,t.limit,"L"):t}function ng(e,t){return new My(t.largestBatchId,kv(e.ct,t.overlayMutation))}function bS(e,t){const n=t.path.lastSegment();return[e,$n(t.path.popLast()),n]}function wS(e,t,n,i){return{indexId:e,uid:t,sequenceNumber:n,readTime:Po(i.readTime),documentKey:$n(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{getBundleMetadata(t,n){return IS(t).get(n).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:xo(s.createTime),version:s.version}}(i)})}saveBundleMetadata(t,n){return IS(t).put(function(r){return{bundleId:r.id,createTime:Po(Bi(r.createTime)),version:r.version}}(n))}getNamedQuery(t,n){return SS(t).get(n).next(i=>{if(i)return function(s){return{name:s.name,query:pP(s.bundledQuery),readTime:xo(s.readTime)}}(i)})}saveNamedQuery(t,n){return SS(t).put(function(r){return{name:r.name,readTime:Po(Bi(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function IS(e){return un(e,"bundles")}function SS(e){return un(e,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n){this.serializer=t,this.userId=n}static lt(t,n){const i=n.uid||"";return new Th(t,i)}getOverlay(t,n){return eu(t).get(bS(this.userId,n)).next(i=>i?ng(this.serializer,i):null)}getOverlays(t,n){const i=Zi();return J.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){const r=[];return i.forEach((s,o)=>{const a=new My(n,o);r.push(this.ht(t,a))}),J.waitFor(r)}removeOverlaysForBatchId(t,n,i){const r=new Set;n.forEach(o=>r.add($n(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(eu(t).j("collectionPathOverlayIndex",a))}),J.waitFor(s)}getOverlaysForCollection(t,n,i){const r=Zi(),s=$n(n),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return eu(t).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=ng(this.serializer,l);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(t,n,i,r){const s=Zi();let o;const a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return eu(t).J({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=ng(this.serializer,u);s.size()<r||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}ht(t,n){return eu(t).put(function(r,s,o){const[a,l,u]=bS(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Pf(r.ct,o.mutation)}}(this.serializer,this.userId,n))}}function eu(e){return un(e,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){}Pt(t,n){this.It(t,n),n.Tt()}It(t,n){if("nullValue"in t)this.Et(n,5);else if("booleanValue"in t)this.Et(n,10),n.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(n,15),n.dt(Kt(t.integerValue));else if("doubleValue"in t){const i=Kt(t.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Ef(i)?n.dt(0):n.dt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Et(n,20),typeof i=="string"&&(i=Es(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,n),this.Vt(n);else if("bytesValue"in t)this.Et(n,30),n.ft(tl(t.bytesValue)),this.Vt(n);else if("referenceValue"in t)this.gt(t.referenceValue,n);else if("geoPointValue"in t){const i=t.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in t?jA(t)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,n),this.Vt(n)):"arrayValue"in t?(this.wt(t.arrayValue,n),this.Vt(n)):Fe()}Rt(t,n){this.Et(n,25),this.St(t,n)}St(t,n){n.At(t)}yt(t,n){const i=t.fields||{};this.Et(n,55);for(const r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(t,n){const i=t.values||[];this.Et(n,50);for(const r of i)this.It(r,n)}gt(t,n){this.Et(n,37),Ne.fromName(t).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(t,n){t.dt(n)}Vt(t){t.dt(2)}}io.bt=new io;function n5(e){if(e===0)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function ES(e){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=n5(255&i[s]);if(r+=o,o!==8)break}return r}(e);return Math.ceil(t/8)}class i5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){const n=t[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Ct(i.value),i=n.next();this.vt()}Ft(t){const n=t[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Mt(i.value),i=n.next();this.xt()}Ot(t){for(const n of t){const i=n.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{const r=n.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(t){for(const n of t){const i=n.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{const r=n.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(t){const n=this.Bt(t),i=ES(n);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}qt(t){const n=this.Bt(t),i=ES(n);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Bt(t){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ct(t){const n=255&t;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(t){const n=255&t;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){const n=t+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class r5{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Lt(t)}Tt(){this.Gt.Qt()}}class s5{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}}class tu{constructor(){this.Gt=new i5,this.zt=new r5(this.Gt),this.jt=new s5(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return t===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n,i,r){this.indexId=t,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Jt(){const t=this.directionalValue.length,n=t===0||this.directionalValue[t-1]===255?t+1:t,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ro(this.indexId,this.documentKey,this.arrayValue,i)}}function Xr(e,t){let n=e.indexId-t.indexId;return n!==0?n:(n=TS(e.arrayValue,t.arrayValue),n!==0?n:(n=TS(e.directionalValue,t.directionalValue),n!==0?n:Ne.comparator(e.documentKey,t.documentKey)))}function TS(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(i!==0)return i}return e.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t){this.Yt=new _t((n,i)=>jt.comparator(n.field,i.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(const n of t.filters){const i=n;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(t){if(ze(t.collectionGroup===this.collectionId),this.en)return!1;const n=pv(t);if(n!==void 0&&!this.nn(n))return!1;const i=Zs(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.nn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<i.length;++s){const a=i[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let t=new _t(jt.comparator);const n=[];for(const i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new jd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new jd(i.field,0))}for(const i of this.Zt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),n.push(new jd(i.field,i.dir==="asc"?0:1)));return new Sf(Sf.UNKNOWN_ID,this.collectionId,n,Ku.empty())}nn(t){for(const n of this.Xt)if(this.rn(n,t))return!0;return!1}rn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===i}sn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(e){var t,n;if(ze(e instanceof Xe||e instanceof pt),e instanceof Xe){if(e instanceof QA){const r=((n=(t=e.value.arrayValue)===null||t===void 0?void 0:t.values)===null||n===void 0?void 0:n.map(s=>Xe.create(e.field,"==",s)))||[];return pt.create(r,"or")}return e}const i=e.filters.map(r=>yP(r));return pt.create(i,e.op)}function o5(e){if(e.getFilters().length===0)return[];const t=xv(yP(e));return ze(_P(t)),Av(t)||Pv(t)?[t]:t.getFilters()}function Av(e){return e instanceof Xe}function Pv(e){return e instanceof pt&&Vy(e)}function _P(e){return Av(e)||Pv(e)||function(n){if(n instanceof pt&&wv(n)){for(const i of n.getFilters())if(!Av(i)&&!Pv(i))return!1;return!0}return!1}(e)}function xv(e){if(ze(e instanceof Xe||e instanceof pt),e instanceof Xe)return e;if(e.filters.length===1)return xv(e.filters[0]);const t=e.filters.map(i=>xv(i));let n=pt.create(t,e.op);return n=Rf(n),_P(n)?n:(ze(n instanceof pt),ze(ol(n)),ze(n.filters.length>1),n.filters.reduce((i,r)=>Ly(i,r)))}function Ly(e,t){let n;return ze(e instanceof Xe||e instanceof pt),ze(t instanceof Xe||t instanceof pt),n=e instanceof Xe?t instanceof Xe?function(r,s){return pt.create([r,s],"and")}(e,t):kS(e,t):t instanceof Xe?kS(t,e):function(r,s){if(ze(r.filters.length>0&&s.filters.length>0),ol(r)&&ol(s))return KA(r,s.getFilters());const o=wv(r)?r:s,a=wv(r)?s:r,l=o.filters.map(u=>Ly(u,a));return pt.create(l,"or")}(e,t),Rf(n)}function kS(e,t){if(ol(t))return KA(t,e.getFilters());{const n=t.filters.map(i=>Ly(e,i));return pt.create(n,"or")}}function Rf(e){if(ze(e instanceof Xe||e instanceof pt),e instanceof Xe)return e;const t=e.getFilters();if(t.length===1)return Rf(t[0]);if(WA(e))return e;const n=t.map(r=>Rf(r)),i=[];return n.forEach(r=>{r instanceof Xe?i.push(r):r instanceof pt&&(r.op===e.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:pt.create(i,e.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this._n=new Fy}addToCollectionParentIndex(t,n){return this._n.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(oi.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(oi.min())}updateCollectionGroup(t,n,i){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class Fy{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new _t(Dt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new _t(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Uint8Array(0);class l5{constructor(t,n){this.databaseId=n,this.an=new Fy,this.un=new Ms(i=>Ao(i),(i,r)=>Tc(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.an.has(n)){const i=n.lastSegment(),r=n.popLast();t.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:i,parent:$n(r)};return AS(t).put(s)}return J.resolve()}getCollectionParents(t,n){const i=[],r=IDBKeyRange.bound([n,""],[VA(n),""],!1,!0);return AS(t).U(r).next(s=>{for(const o of s){if(o.collectionId!==n)break;i.push(Ji(o.parent))}return i})}addFieldIndex(t,n){const i=nu(t),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete r.indexId;const s=i.add(r);if(n.indexState){const o=ga(t);return s.next(a=>{o.put(wS(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(t,n){const i=nu(t),r=ga(t),s=ma(t);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const n=nu(t),i=ma(t),r=ga(t);return n.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,n){return J.forEach(this.cn(n),i=>this.getIndexType(t,i).next(r=>{if(r===0||r===1){const s=new CS(i).on();if(s!=null)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,n){const i=ma(t);let r=!0;const s=new Map;return J.forEach(this.cn(n),o=>this.ln(t,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=gn();const a=[];return J.forEach(s,(l,u)=>{Ce("IndexedDbIndexManager",`Using index ${function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(N=>`${N.fieldPath}:${N.kind}`).join(",")}`}(l)} to execute ${Ao(n)}`);const c=function(D,N){const R=pv(N);if(R===void 0)return null;for(const V of kf(D,R.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null}(u,l),d=function(D,N){const R=new Map;for(const V of Zs(N))for(const S of kf(D,V.fieldPath))switch(S.op){case"==":case"in":R.set(V.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return R.set(V.fieldPath.canonicalString(),S.value),Array.from(R.values())}return null}(u,l),h=function(D,N){const R=[];let V=!0;for(const S of Zs(N)){const w=S.kind===0?dS(D,S.fieldPath,D.startAt):fS(D,S.fieldPath,D.startAt);R.push(w.value),V&&(V=w.inclusive)}return new sl(R,V)}(u,l),m=function(D,N){const R=[];let V=!0;for(const S of Zs(N)){const w=S.kind===0?fS(D,S.fieldPath,D.endAt):dS(D,S.fieldPath,D.endAt);R.push(w.value),V&&(V=w.inclusive)}return new sl(R,V)}(u,l),p=this.hn(l,u,h),v=this.hn(l,u,m),y=this.Pn(l,u,d),A=this.In(l.indexId,c,p,h.inclusive,v,m.inclusive,y);return J.forEach(A,P=>i.G(P,n.limit).next(D=>{D.forEach(N=>{const R=Ne.fromSegments(N.documentKey);o.has(R)||(o=o.add(R),a.push(R))})}))}).next(()=>a)}return J.resolve(null)})}cn(t){let n=this.un.get(t);return n||(t.filters.length===0?n=[t]:n=o5(pt.create(t.filters,"and")).map(i=>Sv(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,n),n)}In(t,n,i,r,s,o,a){const l=(n!=null?n.length:1)*Math.max(i.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.Tn(n[d/u]):wd,m=this.En(t,h,i[d%u],r),p=this.dn(t,h,s[d%u],o),v=a.map(y=>this.En(t,h,y,!0));c.push(...this.createRange(m,p,v))}return c}En(t,n,i,r){const s=new ro(t,Ne.empty(),n,i);return r?s:s.Jt()}dn(t,n,i,r){const s=new ro(t,Ne.empty(),n,i);return r?s.Jt():s}ln(t,n){const i=new CS(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const a of s)i.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,n){let i=2;const r=this.cn(n);return J.forEach(r,s=>this.ln(t,s).next(o=>{o?i!==0&&o.fields.length<function(l){let u=new _t(jt.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(n)&&r.length>1&&i===2?1:i)}An(t,n){const i=new tu;for(const r of Zs(t)){const s=n.data.field(r.fieldPath);if(s==null)return null;const o=i.Ht(r.kind);io.bt.Pt(s,o)}return i.Wt()}Tn(t){const n=new tu;return io.bt.Pt(t,n.Ht(0)),n.Wt()}Rn(t,n){const i=new tu;return io.bt.Pt(Ry(this.databaseId,n),i.Ht(function(s){const o=Zs(s);return o.length===0?0:o[o.length-1].kind}(t))),i.Wt()}Pn(t,n,i){if(i===null)return[];let r=[];r.push(new tu);let s=0;for(const o of Zs(t)){const a=i[s++];for(const l of r)if(this.Vn(n,o.fieldPath)&&Yu(a))r=this.mn(r,o,a);else{const u=l.Ht(o.kind);io.bt.Pt(a,u)}}return this.fn(r)}hn(t,n,i){return this.Pn(t,n,i.position)}fn(t){const n=[];for(let i=0;i<t.length;++i)n[i]=t[i].Wt();return n}mn(t,n,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const a of r){const l=new tu;l.seed(a.Wt()),io.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(t,n){return!!t.filters.find(i=>i instanceof Xe&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(t,n){const i=nu(t),r=ga(t);return(n?i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.U()).next(s=>{const o=[];return J.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new Ku(d.sequenceNumber,new oi(xo(d.readTime),new Ne(Ji(d.documentKey)),d.largestBatchId)):Ku.empty(),m=c.fields.map(([p,v])=>new jd(jt.fromServerFormat(p),v));return new Sf(c.indexId,c.collectionGroup,m,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(n=>n.length===0?null:(n.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:Ze(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(t,n,i){const r=nu(t),s=ga(t);return this.gn(t).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>J.forEach(a,l=>s.put(wS(l.indexId,this.uid,o,i)))))}updateIndexEntries(t,n){const i=new Map;return J.forEach(n,(r,s)=>{const o=i.get(r.collectionGroup);return(o?J.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),J.forEach(a,l=>this.pn(t,r,l).next(u=>{const c=this.yn(s,l);return u.isEqual(c)?J.resolve():this.wn(t,s,l,u,c)}))))})}Sn(t,n,i,r){return ma(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,n.key),documentKey:n.key.path.toArray()})}bn(t,n,i,r){return ma(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,n.key),n.key.path.toArray()])}pn(t,n,i){const r=ma(t);let s=new _t(Xr);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,n)])},(o,a)=>{s=s.add(new ro(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(t,n){let i=new _t(Xr);const r=this.An(n,t);if(r==null)return i;const s=pv(n);if(s!=null){const o=t.data.field(s.fieldPath);if(Yu(o))for(const a of o.arrayValue.values||[])i=i.add(new ro(n.indexId,t.key,this.Tn(a),r))}else i=i.add(new ro(n.indexId,t.key,wd,r));return i}wn(t,n,i,r,s){Ce("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const m=l.getIterator(),p=u.getIterator();let v=ha(m),y=ha(p);for(;v||y;){let A=!1,P=!1;if(v&&y){const D=c(v,y);D<0?P=!0:D>0&&(A=!0)}else v!=null?P=!0:A=!0;A?(d(y),y=ha(p)):P?(h(v),v=ha(m)):(v=ha(m),y=ha(p))}}(r,s,Xr,a=>{o.push(this.Sn(t,n,i,a))},a=>{o.push(this.bn(t,n,i,a))}),J.waitFor(o)}gn(t){let n=1;return ga(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(t,n,i){i=i.sort((o,a)=>Xr(o,a)).filter((o,a,l)=>!a||Xr(o,l[a-1])!==0);const r=[];r.push(t);for(const o of i){const a=Xr(o,t),l=Xr(o,n);if(a===0)r[0]=t.Jt();else if(a>0&&l<0)r.push(o),r.push(o.Jt());else if(l>0)break}r.push(n);const s=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,wd,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,wd,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(t,n){return Xr(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(PS)}getMinOffset(t,n){return J.mapArray(this.cn(n),i=>this.ln(t,i).next(r=>r||Fe())).next(PS)}}function AS(e){return un(e,"collectionParents")}function ma(e){return un(e,"indexEntries")}function nu(e){return un(e,"indexConfiguration")}function ga(e){return un(e,"indexState")}function PS(e){ze(e.length!==0);let t=e[0].indexState.offset,n=t.largestBatchId;for(let i=1;i<e.length;i++){const r=e[i].indexState.offset;ky(r,t)<0&&(t=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new oi(t.readTime,t.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jn{constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new jn(t,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(e,t,n){const i=e.store("mutations"),r=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.J({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{ze(a===1)}));const u=[];for(const c of n.mutations){const d=LA(t,c.key.path,n.batchId);s.push(r.delete(d)),u.push(c.key)}return J.waitFor(s).next(()=>u)}function Vf(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fe();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Ch{constructor(t,n,i,r){this.userId=t,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(t,n,i,r){ze(t.uid!=="");const s=t.isAuthenticated()?t.uid:"";return new Ch(s,n,i,r)}checkEmpty(t){let n=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jr(t).J({index:"userMutationsIndex",range:i},(r,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(t,n,i,r){const s=Ta(t),o=Jr(t);return o.add({}).next(a=>{ze(typeof a=="number");const l=new Ny(a,n,i,r),u=function(m,p,v){const y=v.baseMutations.map(P=>Pf(m.ct,P)),A=v.mutations.map(P=>Pf(m.ct,P));return{userId:p,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:y,mutations:A}}(this.serializer,this.userId,l),c=[];let d=new _t((h,m)=>Ze(h.canonicalString(),m.canonicalString()));for(const h of r){const m=LA(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(m,L4))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(t,h))}),t.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),J.waitFor(c).next(()=>l)})}lookupMutationBatch(t,n){return Jr(t).get(n).next(i=>i?(ze(i.userId===this.userId),no(this.serializer,i)):null)}vn(t,n){return this.Cn[n]?J.resolve(this.Cn[n]):this.lookupMutationBatch(t,n).next(i=>{if(i){const r=i.keys();return this.Cn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Jr(t).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(ze(a.batchId>=i),s=no(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Jr(t).J({index:"userMutationsIndex",range:n,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jr(t).U("userMutationsIndex",n).next(i=>i.map(r=>no(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,n){const i=zd(this.userId,n.path),r=IDBKeyRange.lowerBound(i),s=[];return Ta(t).J({range:r},(o,a,l)=>{const[u,c,d]=o,h=Ji(c);if(u===this.userId&&n.path.isEqual(h))return Jr(t).get(d).next(m=>{if(!m)throw Fe();ze(m.userId===this.userId),s.push(no(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new _t(Ze);const r=[];return n.forEach(s=>{const o=zd(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ta(t).J({range:a},(u,c,d)=>{const[h,m,p]=u,v=Ji(m);h===this.userId&&s.path.isEqual(v)?i=i.add(p):d.done()});r.push(l)}),J.waitFor(r).next(()=>this.Fn(t,i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1,s=zd(this.userId,i),o=IDBKeyRange.lowerBound(s);let a=new _t(Ze);return Ta(t).J({range:o},(l,u,c)=>{const[d,h,m]=l,p=Ji(h);d===this.userId&&i.isPrefixOf(p)?p.length===r&&(a=a.add(m)):c.done()}).next(()=>this.Fn(t,a))}Fn(t,n){const i=[],r=[];return n.forEach(s=>{r.push(Jr(t).get(s).next(o=>{if(o===null)throw Fe();ze(o.userId===this.userId),i.push(no(this.serializer,o))}))}),J.waitFor(r).next(()=>i)}removeMutationBatch(t,n){return bP(t._e,this.userId,n).next(i=>(t.addOnCommittedListener(()=>{this.Mn(n.batchId)}),J.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(n=>{if(!n)return J.resolve();const i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return Ta(t).J({range:i},(s,o,a)=>{if(s[0]===this.userId){const l=Ji(s[1]);r.push(l)}else a.done()}).next(()=>{ze(r.length===0)})})}containsKey(t,n){return wP(t,this.userId,n)}xn(t){return IP(t).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wP(e,t,n){const i=zd(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Ta(e).J({range:s,H:!0},(a,l,u)=>{const[c,d,h]=a;c===t&&d===r&&(o=!0),u.done()}).next(()=>o)}function Jr(e){return un(e,"mutations")}function Ta(e){return un(e,"documentMutations")}function IP(e){return un(e,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Ro(0)}static Ln(){return new Ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.Bn(t).next(n=>{const i=new Ro(n.highestTargetId);return n.highestTargetId=i.next(),this.kn(t,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(n=>et.fromTimestamp(new yn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(t,n,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.kn(t,r)))}addTargetData(t,n){return this.qn(t,n).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.Qn(n,i),this.kn(t,i))))}updateTargetData(t,n){return this.qn(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next(()=>va(t).delete(n.targetId)).next(()=>this.Bn(t)).next(i=>(ze(i.targetCount>0),i.targetCount-=1,this.kn(t,i)))}removeTargets(t,n,i){let r=0;const s=[];return va(t).J((o,a)=>{const l=hu(a);l.sequenceNumber<=n&&i.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(t,l)))}).next(()=>J.waitFor(s)).next(()=>r)}forEachTarget(t,n){return va(t).J((i,r)=>{const s=hu(r);n(s)})}Bn(t){return RS(t).get("targetGlobalKey").next(n=>(ze(n!==null),n))}kn(t,n){return RS(t).put("targetGlobalKey",n)}qn(t,n){return va(t).put(vP(this.serializer,n))}Qn(t,n){let i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(n=>n.targetCount)}getTargetData(t,n){const i=Ao(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return va(t).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const u=hu(a);Tc(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(t,n,i){const r=[],s=ds(t);return n.forEach(o=>{const a=$n(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,o))}),J.waitFor(r)}removeMatchingKeys(t,n,i){const r=ds(t);return J.forEach(n,s=>{const o=$n(s.path);return J.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,n){const i=ds(t),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,n){const i=IDBKeyRange.bound([n],[n+1],!1,!0),r=ds(t);let s=gn();return r.J({range:i,H:!0},(o,a,l)=>{const u=Ji(o[1]),c=new Ne(u);s=s.add(c)}).next(()=>s)}containsKey(t,n){const i=$n(n.path),r=IDBKeyRange.bound([i],[VA(i)],!1,!0);let s=0;return ds(t).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(t,n){return va(t).get(n).next(i=>i?hu(i):null)}}function va(e){return un(e,"targets")}function RS(e){return un(e,"targetGlobal")}function ds(e){return un(e,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS([e,t],[n,i]){const r=Ze(e,n);return r===0?Ze(t,i):r}class c5{constructor(t){this.Kn=t,this.buffer=new _t(VS),this.$n=0}Un(){return++this.$n}Wn(t){const n=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();VS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d5{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(t){Ce("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await yh(n)}await this.zn(3e5)})}}class f5{constructor(t,n){this.jn=t,this.params=n}calculateTargetCount(t,n){return this.jn.Hn(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Oi.oe);const i=new c5(n);return this.jn.forEachTarget(t,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(t,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.jn.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.jn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(xS)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xS):this.Yn(t,n))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,n){let i,r,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(t,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(t,i,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(d=>(u=Date.now(),Ia()<=qe.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}function h5(e,t){return new f5(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(t,n){this.db=t,this.garbageCollector=h5(this,n)}Hn(t){const n=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}Zn(t){let n=0;return this.Jn(t,i=>{n++}).next(()=>n)}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}Jn(t,n){return this.Xn(t,(i,r)=>n(r))}addReference(t,n,i){return Id(t,i)}removeReference(t,n,i){return Id(t,i)}removeTargets(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)}markPotentiallyOrphaned(t,n){return Id(t,n)}er(t,n){return function(r,s){let o=!1;return IP(r).Y(a=>wP(r,a,s).next(l=>(l&&(o=!0),J.resolve(!l)))).next(()=>o)}(t,n)}removeOrphanedDocuments(t,n){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Xn(t,(o,a)=>{if(a<=n){const l=this.er(t,o).next(u=>{if(!u)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,et.min()),ds(t).delete(function(d){return[0,$n(d.path)]}(o))))});r.push(l)}}).next(()=>J.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,n){return Id(t,n)}Xn(t,n){const i=ds(t);let r,s=Oi.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Oi.oe&&n(new Ne(Ji(r)),s),s=u,r=l):s=Oi.oe}).next(()=>{s!==Oi.oe&&n(new Ne(Ji(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Id(e,t){return ds(e).put(function(i,r){return{targetId:0,path:$n(i.path),sequenceNumber:r}}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.changes=new Ms(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?J.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,i){return Ks(t).put(i)}removeEntry(t,n,i){return Ks(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],xf(o),a[a.length-1]]}(n,i))}updateMetadata(t,n){return this.getMetadata(t).next(i=>(i.byteSize+=n,this.tr(t,i)))}getEntry(t,n){let i=mn.newInvalidDocument(n);return Ks(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(iu(n))},(r,s)=>{i=this.nr(n,s)}).next(()=>i)}rr(t,n){let i={size:0,document:mn.newInvalidDocument(n)};return Ks(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(iu(n))},(r,s)=>{i={document:this.nr(n,s),size:Vf(s)}}).next(()=>i)}getEntries(t,n){let i=oo();return this.ir(t,n,(r,s)=>{const o=this.nr(r,s);i=i.insert(r,o)}).next(()=>i)}sr(t,n){let i=oo(),r=new qn(Ne.comparator);return this.ir(t,n,(s,o)=>{const a=this.nr(s,o);i=i.insert(s,a),r=r.insert(s,Vf(o))}).next(()=>({documents:i,_r:r}))}ir(t,n,i){if(n.isEmpty())return J.resolve();let r=new _t(OS);n.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(iu(r.first()),iu(r.last())),o=r.getIterator();let a=o.getNext();return Ks(t).J({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=Ne.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&OS(a,d)<0;)i(a,null),a=o.getNext();a&&a.isEqual(d)&&(i(a,u),a=o.hasNext()?o.getNext():null),a?c.$(iu(a)):c.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,n,i,r,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),xf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ks(t).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=oo();for(const d of u){const h=this.nr(Ne.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Ih(n,h)||r.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(t,n,i,r){let s=oo();const o=NS(n,i),a=NS(n,oi.max());return Ks(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.nr(Ne.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===r&&c.done()}).next(()=>s)}newChangeBuffer(t){return new v5(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(n=>n.byteSize)}getMetadata(t){return DS(t).get("remoteDocumentGlobalKey").next(n=>(ze(!!n),n))}tr(t,n){return DS(t).put("remoteDocumentGlobalKey",n)}nr(t,n){if(n){const i=e5(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(et.min())))return i}return mn.newInvalidDocument(t)}}function EP(e){return new g5(e)}class v5 extends SP{constructor(t,n){super(),this.ar=t,this.trackRemovals=n,this.ur=new Ms(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const n=[];let i=0,r=new _t((s,o)=>Ze(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(t,s,a.readTime)),o.isValidDocument()){const l=_S(this.ar.serializer,o);r=r.add(s.path.popLast());const u=Vf(l);i+=u-a.size,n.push(this.ar.addEntry(t,s,l))}else if(i-=a.size,this.trackRemovals){const l=_S(this.ar.serializer,o.convertToNoDocument(et.min()));n.push(this.ar.addEntry(t,s,l))}}),r.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(t,s))}),n.push(this.ar.updateMetadata(t,i)),J.waitFor(n)}getFromCache(t,n){return this.ar.rr(t,n).next(i=>(this.ur.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,n){return this.ar.sr(t,n).next(({documents:i,_r:r})=>(r.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function DS(e){return un(e,"remoteDocumentGlobal")}function Ks(e){return un(e,"remoteDocumentsV14")}function iu(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function NS(e,t){const n=t.documentKey.path.toArray();return[e,xf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function OS(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=Ze(n[s],i[s]),r)return r;return r=Ze(n.length,i.length),r||(r=Ze(n[n.length-2],i[i.length-2]),r||Ze(n[n.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&xu(i.mutation,r,Er.empty(),yn.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,gn()).next(()=>i))}getLocalViewOfDocuments(t,n,i=gn()){const r=Zi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=bd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Zi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,gn()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=oo();const o=Pu(),a=function(){return Pu()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Cl)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),xu(c.mutation,u,c.mutation.getFieldMask(),yn.now())):o.set(u.key,Er.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new p5(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const i=Pu();let r=new qn((o,a)=>o-a),s=gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||Er.empty();c=a.applyToLocalView(u,c),i.set(l,c);const d=(r.get(a.batchId)||gn()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=eP();c.forEach(h=>{if(!s.has(h)){const m=rP(n.get(h),i.get(h));m!==null&&d.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return J.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pH(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):J.resolve(Zi());let a=-1,l=s;return o.next(u=>J.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?J.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,gn())).next(c=>({batchId:a,changes:IH(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ne(n)).next(i=>{let r=bd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=bd();return this.indexManager.getCollectionParents(t,s).next(a=>J.forEach(a,l=>{const u=function(d,h){return new wh(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,mn.newInvalidDocument(c)))});let a=bd();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&xu(c.mutation,u,Er.empty(),yn.now()),Ih(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return J.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Bi(r.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(r){return{name:r.name,query:pP(r.bundledQuery),readTime:Bi(r.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.overlays=new qn(Ne.comparator),this.hr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Zi();return J.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.ht(t,n,s)}),J.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),J.resolve()}getOverlaysForCollection(t,n,i){const r=Zi(),s=n.length+1,o=new Ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return J.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new qn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=Zi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Zi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return J.resolve(a)}ht(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new My(n,i));let s=this.hr.get(n);s===void 0&&(s=gn(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Pr=new _t(nn.Ir),this.Tr=new _t(nn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const i=new nn(t,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Ar(new nn(t,n))}Rr(t,n){t.forEach(i=>this.removeReference(i,n))}Vr(t){const n=new Ne(new Dt([])),i=new nn(n,t),r=new nn(n,t+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new Ne(new Dt([])),i=new nn(n,t),r=new nn(n,t+1);let s=gn();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new nn(t,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class nn{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return Ne.comparator(t.key,n.key)||Ze(t.pr,n.pr)}static Er(t,n){return Ze(t.pr,n.pr)||Ne.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new _t(nn.Ir)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ny(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.wr=this.wr.add(new nn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return J.resolve(o)}lookupMutationBatch(t,n){return J.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.br(i),s=r<0?0:r;return J.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new nn(n,0),r=new nn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{const a=this.Sr(o.pr);s.push(a)}),J.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new _t(Ze);return n.forEach(r=>{const s=new nn(r,0),o=new nn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),J.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Ne.isDocumentKey(s)||(s=s.child(""));const o=new nn(new Ne(s),0);let a=new _t(Ze);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.pr)),!0)},o),J.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){ze(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return J.forEach(n.mutations,r=>{const s=new nn(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,n){const i=new nn(n,0),r=this.wr.firstAfterOrEqual(i);return J.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(t){this.vr=t,this.docs=function(){return new qn(Ne.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return J.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(t,n){let i=oo();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mn.newInvalidDocument(r))}),J.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=oo();const o=n.path,a=new Ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ky(DA(c),i)<=0||(r.has(c.key)||Ih(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return J.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Fe()}Fr(t,n){return J.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new I5(this)}getSize(t){return J.resolve(this.size)}}class I5 extends SP{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(t,r)):this.ar.removeEntry(i)}),J.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(t){this.persistence=t,this.Mr=new Ms(n=>Ao(n),Tc),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Or=0,this.Nr=new By,this.targetCount=0,this.Lr=Ro.Nn()}forEachTarget(t,n){return this.Mr.forEach((i,r)=>n(r)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),J.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Ro(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.qn(n),J.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),J.waitFor(s).next(()=>r)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const i=this.Mr.get(n)||null;return J.resolve(i)}addMatchingKeys(t,n,i){return this.Nr.dr(n,i),J.resolve()}removeMatchingKeys(t,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),J.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Nr.gr(n);return J.resolve(i)}containsKey(t,n){return J.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t,n){this.Br={},this.overlays={},this.kr=new Oi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new S5(this),this.indexManager=new a5,this.remoteDocumentCache=function(r){return new w5(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new gP(n),this.$r=new y5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _5,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Br[t.toKey()];return i||(i=new b5(n,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,i){Ce("MemoryPersistence","Starting transaction:",t);const r=new E5(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(t,n){return J.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,n)))}}class E5 extends OA{constructor(t){super(),this.currentSequenceNumber=t}}class kh{constructor(t){this.persistence=t,this.zr=new By,this.jr=null}static Hr(t){return new kh(t)}get Jr(){if(this.jr)return this.jr;throw Fe()}addReference(t,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),J.resolve()}removeReference(t,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),J.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Jr,i=>{const r=Ne.fromPath(i);return this.Yr(t,r).next(s=>{s||n.removeEntry(r,et.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return J.or([()=>J.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(t){this.serializer=t}O(t,n,i,r){const s=new _h("createOrUpgrade",n);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(t),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tS,{unique:!0}),l.createObjectStore("documentMutations")}(t),MS(t),function(l){l.createObjectStore("remoteDocuments")}(t));let o=J.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),MS(t)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:et.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),i<4&&r>=4&&(i!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tS,{unique:!0});const d=u.store("mutations"),h=c.map(m=>d.put(m));return J.waitFor(h)})}(t,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),i<5&&r>=5&&(o=o.next(()=>this.Xr(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.ei(s)))),i<7&&r>=7&&(o=o.next(()=>this.ti(s))),i<8&&r>=8&&(o=o.next(()=>this.ni(t,s))),i<9&&r>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t)})),i<10&&r>=10&&(o=o.next(()=>this.ri(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Y4});u.createIndex("collectionPathOverlayIndex",Q4,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",X4,{unique:!1})})(t)})),i<13&&r>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:F4});u.createIndex("documentKeyIndex",B4),u.createIndex("collectionGroupIndex",$4)}(t)).next(()=>this.ii(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.si(t,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:W4}).createIndex("sequenceNumberIndex",G4,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:K4}).createIndex("documentKeyIndex",q4,{unique:!1})}(t))),i<16&&r>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(t){let n=0;return t.store("remoteDocuments").J((i,r)=>{n+=Vf(r)}).next(()=>{const i={byteSize:n};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(t){const n=t.store("mutationQueues"),i=t.store("mutations");return n.U().next(r=>J.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>J.forEach(a,l=>{ze(l.userId===s.userId);const u=no(this.serializer,l);return bP(t,s.userId,u).next(()=>{})}))}))}ti(t){const n=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((o,a)=>{const l=new Dt(o),u=function(d){return[0,$n(d)]}(l);s.push(n.get(u).next(c=>c?J.resolve():(d=>n.put({targetId:0,path:$n(d),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>J.waitFor(s))})}ni(t,n){t.createObjectStore("collectionParents",{keyPath:z4});const i=n.store("collectionParents"),r=new Fy,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:$n(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Dt(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const c=Ji(a);return s(c.popLast())}))}ri(t){const n=t.store("targets");return n.J((i,r)=>{const s=hu(r),o=vP(this.serializer,s);return n.put(o)})}ii(t,n){const i=n.store("remoteDocuments"),r=[];return i.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Ne(Dt.fromString(d.document.name).popFirst(5)):d.noDocument?Ne.fromSegments(d.noDocument.path):d.unknownDocument?Ne.fromSegments(d.unknownDocument.path):Fe()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(u))}).next(()=>J.waitFor(r))}si(t,n){const i=n.store("mutations"),r=EP(this.serializer),s=new CP(kh.Hr,this.serializer.ct);return i.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:gn();no(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),J.forEach(a,(l,u)=>{const c=new Bn(u),d=Th.lt(this.serializer,c),h=s.getIndexManager(c),m=Ch.lt(c,this.serializer,h,s.referenceDelegate);return new TP(r,m,d,h).recalculateAndSaveOverlaysForDocumentKeys(new yv(n,Oi.oe),l).next()})})}}function MS(e){e.createObjectStore("targetDocuments",{keyPath:H4}).createIndex("documentTargetsIndex",j4,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",U4,{unique:!0}),e.createObjectStore("targetGlobal")}const ig="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $y{constructor(t,n,i,r,s,o,a,l,u,c,d=16){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.oi=s,this.window=o,this.document=a,this._i=u,this.ai=c,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!$y.D())throw new je(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new m5(this,r),this.Ti=n+"main",this.serializer=new gP(l),this.Ei=new bs(this.Ti,this.ui,new T5(this.serializer)),this.Qr=new u5(this.referenceDelegate,this.serializer),this.remoteDocumentCache=EP(this.serializer),this.$r=new t5,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,c===!1&&Zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(we.FAILED_PRECONDITION,ig);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new Oi(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){return this.Ii=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(async n=>{n.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Sd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(n=>this.isPrimary&&!n?this.yi(t).next(()=>!1):!!n&&this.wi(t).next(()=>!0))).catch(t=>{if(qo(t))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return ru(t).get("owner").next(n=>J.resolve(this.Si(n)))}bi(t){return Sd(t).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const i=un(n,"clientMetadata");return i.U().next(r=>{const s=this.vi(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return J.forEach(o,a=>i.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of t)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?J.resolve(!0):ru(t).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new je(we.FAILED_PRECONDITION,ig);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sd(t).U().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Ce("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new yv(t,Oi.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(t,n){return t.filter(i=>this.Ci(i.updateTimeMs,n)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>Sd(t).U().next(n=>this.vi(n,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(t,n){return Ch.lt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new l5(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Th.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,n,i){Ce("IndexedDbPersistence","Starting transaction:",t);const r=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?Z4:l===15?UA:l===14?$A:l===13?BA:l===12?J4:l===11?FA:void Fe()}(this.ui);let o;return this.Ei.runTransaction(t,r,s,a=>(o=new yv(a,this.kr?this.kr.next():Oi.oe),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw Zn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new je(we.FAILED_PRECONDITION,NA);return i(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(t){return ru(t).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new je(we.FAILED_PRECONDITION,ig)})}wi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ru(t).put("owner",n)}static D(){return bs.D()}yi(t){const n=ru(t);return n.get("owner").next(i=>this.Si(i)?(Ce("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):J.resolve())}Ci(t,n){const i=Date.now();return!(t<i-n)&&(!(t>i)||(Zn(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;pC()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var n;try{const i=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(t)))!==null;return Ce("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Zn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){Zn("Failed to set zombie client id.",t)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ru(e){return un(e,"owner")}function Sd(e){return un(e,"clientMetadata")}function C5(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(t,n){let i=gn(),r=gn();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Uy(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return pC()?8:MA(Wt())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new k5;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,i,r){return i.documentReadCount<this.Wi?(Ia()<=qe.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),J.resolve()):(Ia()<=qe.DEBUG&&Ce("QueryEngine","Query:",Zl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Ia()<=qe.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ar(n))):J.resolve())}ji(t,n){if(hS(n))return J.resolve(null);let i=Ar(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ev(n,null,"F"),i=Ar(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=gn(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(t,Ev(n,null,"F")):this.es(t,u,n,l)}))})))}Hi(t,n,i,r){return hS(n)||r.isEqual(et.min())?J.resolve(null):this.zi.getDocuments(t,i).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,i,r)?J.resolve(null):(Ia()<=qe.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zl(n)),this.es(t,o,n,R4(r,-1)).next(a=>a))})}Zi(t,n){let i=new _t(_H(t));return n.forEach((r,s)=>{Ih(t,s)&&(i=i.add(s))}),i}Xi(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(t,n,i){return Ia()<=qe.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Zl(n)),this.zi.getDocumentsMatchingQuery(t,n,oi.min(),i)}es(t,n,i,r){return this.zi.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(t,n,i,r){this.persistence=t,this.ts=n,this.serializer=r,this.ns=new qn(Ze),this.rs=new Ms(s=>Ao(s),Tc),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TP(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function AP(e,t,n,i){return new A5(e,t,n,i)}async function P5(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=gn();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function x5(e,t){const n=xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let m=J.resolve();return h.forEach(p=>{m=m.next(()=>c.getEntry(l,p)).next(v=>{const y=u.docVersions.get(p);ze(y!==null),v.version.compareTo(y)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=gn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function R5(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function V5(e,t){const n=xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}class LS{constructor(){this.activeTargetIds=CH()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PP{constructor(){this.no=new LS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,i){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new LS,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed=null;function rg(){return Ed===null?Ed=function(){return 268435456+Math.round(2147483648*Math.random())}():Ed++,"0x"+Ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class M5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){const a=rg(),l=this.vo(n,i.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,r).then(c=>(Ce("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw JI("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){const r=N5[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,n,i,r){const s=rg();return new Promise((o,a)=>{const l=new CA;l.setWithCredentials(!0),l.listenOnce(AA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hd.NO_ERROR:const c=l.getResponseJson();Ce(Cn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Hd.TIMEOUT:Ce(Cn,`RPC '${t}' ${s} timed out`),a(new je(we.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const d=l.getStatus();if(Ce(Cn,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const p=function(y){const A=y.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(A)>=0?A:we.UNKNOWN}(m.status);a(new je(p,m.message))}else a(new je(we.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(we.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Ce(Cn,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(r);Ce(Cn,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Oo(t,n,i){const r=rg(),s=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=RA(),a=xA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new kA({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");Ce(Cn,`Creating RPC '${t}' stream ${r}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,m=!1;const p=new O5({lo:y=>{m?Ce(Cn,`Not sending because RPC '${t}' stream ${r} is closed:`,y):(h||(Ce(Cn,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),Ce(Cn,`RPC '${t}' stream ${r} sending:`,y),d.send(y))},ho:()=>d.close()}),v=(y,A,P)=>{y.listen(A,D=>{try{P(D)}catch(N){setTimeout(()=>{throw N},0)}})};return v(d,fu.EventType.OPEN,()=>{m||(Ce(Cn,`RPC '${t}' stream ${r} transport opened.`),p.mo())}),v(d,fu.EventType.CLOSE,()=>{m||(m=!0,Ce(Cn,`RPC '${t}' stream ${r} transport closed`),p.po())}),v(d,fu.EventType.ERROR,y=>{m||(m=!0,JI(Cn,`RPC '${t}' stream ${r} transport errored:`,y),p.po(new je(we.UNAVAILABLE,"The operation could not be completed")))}),v(d,fu.EventType.MESSAGE,y=>{var A;if(!m){const P=y.data[0];ze(!!P);const D=P,N=D.error||((A=D[0])===null||A===void 0?void 0:A.error);if(N){Ce(Cn,`RPC '${t}' stream ${r} received error:`,N);const R=N.status;let V=function(_){const I=Ht[_];if(I!==void 0)return LH(I)}(R),S=N.message;V===void 0&&(V=we.INTERNAL,S="Unknown error status: "+R+" with message "+N.message),m=!0,p.po(new je(V,S)),d.close()}else Ce(Cn,`RPC '${t}' stream ${r} received:`,P),p.yo(P)}}),v(a,PA.STAT_EVENT,y=>{y.stat===vv.PROXY?Ce(Cn,`RPC '${t}' stream ${r} detected buffering proxy`):y.stat===vv.NOPROXY&&Ce(Cn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){return typeof window<"u"?window:null}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(e){return new UH(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t,n,i=1e3,r=1.5,s=6e4){this.oi=t,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&Ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(t,n,i,r,s,o,a,l){this.oi=t,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new RP(t,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(n)}__(){}auth(){this.state=1;const t=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{t(()=>{const r=new je(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(t,n){const i=this.a_(this.jo);this.stream=this.l_(t,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(t){return Ce("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return n=>{this.oi.enqueueAndForget(()=>this.jo===t?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B5 extends F5{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,n){return this.connection.Oo("Write",t,n)}onMessage(t){if(ze(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const n=GH(t.writeResults,t.commitTime),i=Bi(t.commitTime);return this.listener.A_(i,n)}return ze(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=zH(this.serializer),this.i_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Pf(this.serializer,i))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5 extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new je(we.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,Cv(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(we.UNKNOWN,s.toString())})}xo(t,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(t,Cv(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(we.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class U5{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Zn(n),this.y_=!1):Ce("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(async()=>{Ph(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xt(l);u.M_.add(4),await Ah(u),u.N_.set("Unknown"),u.M_.delete(4),await Hy(u)}(this))})}),this.N_=new U5(i,r)}}async function Hy(e){if(Ph(e))for(const t of e.x_)await t(!0)}async function Ah(e){for(const t of e.x_)await t(!1)}function Ph(e){return xt(e).M_.size===0}async function VP(e,t,n){if(!qo(t))throw t;e.M_.add(1),await Ah(e),e.N_.set("Offline"),n||(n=()=>R5(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Hy(e)})}function DP(e,t){return t().catch(n=>VP(e,n,t))}async function xh(e){const t=xt(e),n=Cs(t);let i=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;j5(t);)try{const r=await V5(t.localStore,i);if(r===null){t.v_.length===0&&n.n_();break}i=r.batchId,z5(t,r)}catch(r){await VP(t,r)}NP(t)&&OP(t)}function j5(e){return Ph(e)&&e.v_.length<10}function z5(e,t){e.v_.push(t);const n=Cs(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function NP(e){return Ph(e)&&!Cs(e).Zo()&&e.v_.length>0}function OP(e){Cs(e).start()}async function W5(e){Cs(e).V_()}async function G5(e){const t=Cs(e);for(const n of e.v_)t.d_(n.mutations)}async function K5(e,t,n){const i=e.v_.shift(),r=Oy.from(i,t,n);await DP(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await xh(e)}async function q5(e,t){t&&Cs(e).E_&&await async function(i,r){if(function(o){return MH(o)&&o!==we.ABORTED}(r.code)){const s=i.v_.shift();Cs(i).t_(),await DP(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await xh(i)}}(e,t),NP(e)&&OP(e)}async function Y5(e,t){const n=xt(e);t?(n.M_.delete(2),await Hy(n)):t||(n.M_.add(2),await Ah(n),n.N_.set("Unknown"))}function Cs(e){return e.k_||(e.k_=function(n,i,r){const s=xt(n);return s.f_(),new B5(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:W5.bind(null,e),Ao:q5.bind(null,e),R_:G5.bind(null,e),A_:K5.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.t_(),await xh(e)):(await e.k_.stop(),e.v_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new jy(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q5(e,t){if(Zn("AsyncQueue",`${t}: ${e}`),qo(e))return new je(we.UNAVAILABLE,`${t}: ${e}`);throw e}class X5{constructor(){this.queries=new Ms(t=>JA(t),XA),this.onlineState="Unknown",this.z_=new Set}}function J5(e){e.z_.forEach(t=>{t.next()})}var BS,$S;($S=BS||(BS={})).J_="default",$S.Cache="cache";class Z5{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Ms(a=>JA(a),XA),this.Da=new Map,this.Ca=new Set,this.va=new qn(Ne.comparator),this.Fa=new Map,this.Ma=new By,this.xa={},this.Oa=new Map,this.Na=Ro.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}function US(e,t,n){const i=xt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ba.forEach((s,o)=>{const a=o.view.j_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=xt(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.U_)h.j_(a)&&(u=!0)}),u&&J5(l)}(i.eventManager,t),r.length&&i.Sa.h_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ej(e,t){const n=xt(e),i=t.batch.batchId;try{const r=await x5(n.localStore,t);LP(n,i,null),MP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zy(n,r)}catch(r){await yh(r)}}async function tj(e,t,n){const i=xt(e);try{const r=await function(o,a){const l=xt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ze(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,t);LP(i,t,n),MP(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await zy(i,r)}catch(r){await yh(r)}}function MP(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function LP(e,t,n){const i=xt(e);let r=i.xa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.xa[i.currentUser.toKey()]=r}}async function zy(e,t,n){const i=xt(e),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,t,n).then(u=>{var c;if((u||n)&&i.isPrimaryClient){const d=u?!u.fromCache:(c=void 0)===null||c===void 0?void 0:c.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){r.push(u);const d=Uy.Ki(l.targetId,u);s.push(d)}}))}),await Promise.all(o),i.Sa.h_(r),await async function(l,u){const c=xt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>J.forEach(u,h=>J.forEach(h.qi,m=>c.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>J.forEach(h.Qi,m=>c.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!qo(d))throw d;Ce("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const m=c.ns.get(h),p=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(h,v)}}}(i.localStore,s))}async function nj(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){Ce("SyncEngine","User change. New user:",t.toKey());const i=await P5(n.localStore,t);n.currentUser=t,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new je(we.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await zy(n,i.us)}}function ij(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ej.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tj.bind(null,t),t}class rj{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=xP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return AP(this.persistence,new kP,t.initialUser,this.serializer)}createPersistence(t){return new CP(kh.Hr,this.serializer)}createSharedClientState(t){return new PP}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sj extends rj{constructor(t,n,i){super(),this.Qa=t,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Qa.initialize(this,t),await ij(this.Qa.syncEngine),await xh(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(t){return AP(this.persistence,new kP,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,n){const i=this.persistence.referenceDelegate.garbageCollector;return new d5(i,t.asyncQueue,n)}createIndexBackfillerScheduler(t,n){const i=new O4(n,this.persistence);return new N4(t.asyncQueue,i)}createPersistence(t){const n=C5(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new $y(this.synchronizeTabs,n,t.clientId,i,t.asyncQueue,L5(),qd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new PP}}class oj{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>US(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=nj.bind(null,this.syncEngine),await Y5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new X5}()}createDatastore(t){const n=xP(t.databaseInfo.databaseId),i=function(s){return new M5(s)}(t.databaseInfo);return function(s,o,a,l){return new $5(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new H5(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>US(this.syncEngine,n,0),function(){return FS.D()?new FS:new D5}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,c){const d=new Z5(r,s,o,a,l,u);return c&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(i){const r=xt(i);Ce("RemoteStore","RemoteStore shutting down."),r.M_.add(5),await Ah(r),r.O_.shutdown(),r.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Bn.UNAUTHENTICATED,this.clientId=P4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{Ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Q5(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Map;function lj(e,t,n,i){if(t===!0&&i===!0)throw new je(we.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new je(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new je(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FP((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new je(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new je(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new je(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uj{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new je(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jS(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new I4;switch(i.type){case"firstParty":return new T4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new je(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=HS.get(n);i&&(Ce("ComponentProvider","Removing Datastore"),HS.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new RP(this,"async_queue_retry"),this.hu=()=>{const n=qd();n&&Ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const t=qd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new mo;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!qo(t))throw t;Ce("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(i=>{this.au=i,this.uu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Zn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(t,n,i){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const r=jy.createAndSchedule(this,t,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&Fe()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class dj extends uj{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=function(){return new cj}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hj(this),this._firestoreClient.terminate()}}function fj(e,t,n){n||(n="(default)");const i=Ds(e,"firestore");if(i.isInitialized(n)){const r=i.getImmediate({identifier:n}),s=i.getOptions(n);if(Qa(s,t))return r;throw new je(we.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new je(we.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new je(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:n})}function hj(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,u,c){return new iH(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,FP(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new aj(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class mj{constructor(t){let n;this.kind="persistent",t!=null&&t.tabManager?(t.tabManager._initialize(t),n=t.tabManager):(n=pj(),n._initialize(t)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function gj(e){return new mj(e)}class vj{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=new oj,this._offlineComponentProvider=new sj(this._onlineComponentProvider,t==null?void 0:t.cacheSizeBytes,this.forceOwnership)}}function pj(e){return new vj(void 0)}(function(t,n=!0){(function(r){Tl=r})(Ns),Un(new Nn("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new dj(new S4(i.getProvider("auth-internal")),new k4(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new je(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Yt(XI,"4.6.4",t),Yt(XI,"4.6.4","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="firebasestorage.googleapis.com",yj="storageBucket",_j=2*60*1e3,bj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Ei{constructor(t,n,i=0){super(sg(t),`Firebase Storage: ${n} (${sg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return sg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var sr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(sr||(sr={}));function sg(e){return"storage/"+e}function wj(){const e="An unknown error occurred, please check the error payload for server response.";return new ur(sr.UNKNOWN,e)}function Ij(){return new ur(sr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sj(){return new ur(sr.CANCELED,"User canceled the upload/download.")}function Ej(e){return new ur(sr.INVALID_URL,"Invalid URL '"+e+"'.")}function Tj(e){return new ur(sr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function zS(e){return new ur(sr.INVALID_ARGUMENT,e)}function $P(){return new ur(sr.APP_DELETED,"The Firebase app was deleted.")}function Cj(e){return new ur(sr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Li.makeFromUrl(t,n)}catch{return new Li(t,"")}if(i.path==="")return i;throw Tj(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${c}/b/${r}/o${h}`,"i"),p={bucket:1,path:3},v=n===BP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",A=new RegExp(`^https?://${v}/${r}/${y}`,"i"),D=[{regex:a,indices:l,postModify:s},{regex:m,indices:p,postModify:u},{regex:A,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<D.length;N++){const R=D[N],V=R.regex.exec(t);if(V){const S=V[R.indices.bucket];let w=V[R.indices.path];w||(w=""),i=new Li(S,w),R.postModify(i);break}}if(i==null)throw Ej(t);return i}}class kj{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,t.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,e(m,l())},y)}function h(){s&&clearTimeout(s)}function m(y,...A){if(u){h();return}if(y){h(),c.call(null,y,...A);return}if(l()||o){h(),c.call(null,y,...A);return}i<64&&(i*=2);let D;a===1?(a=2,D=0):D=(i+Math.random())*1e3,d(D)}let p=!1;function v(y){p||(p=!0,h(),!u&&(r!==null?(y||(a=2),clearTimeout(r),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function Pj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(e){return e!==void 0}function WS(e,t,n,i){if(i<t)throw zS(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw zS(`Invalid value for '${e}'. Expected ${n} or less.`)}function Rj(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Df;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Df||(Df={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(t,n,i,r,s,o,a,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Td(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Df.NO_ERROR,l=s.getStatus();if(!a||Vj(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Df.ABORT;i(!1,new Td(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new Td(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());xj(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=wj();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?$P():Sj();o(l)}else{const l=Ij();o(l)}};this.canceled_?n(!1,new Td(!1,null,!0)):this.backoffId_=Aj(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Pj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Td{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function Nj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Oj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Mj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Lj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Fj(e,t,n,i,r,s,o=!0){const a=Rj(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return Mj(u,t),Nj(u,n),Oj(u,s),Lj(u,i),new Dj(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function $j(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,n){this._service=t,n instanceof Li?this._location=n:this._location=Li.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Nf(t,n)}get root(){const t=new Li(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $j(this._location.path)}get storage(){return this._service}get parent(){const t=Bj(this._location.path);if(t===null)return null;const n=new Li(this._location.bucket,t);return new Nf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Cj(t)}}function GS(e,t){const n=t==null?void 0:t[yj];return n==null?null:Li.makeFromBucketSpec(n,e)}class Uj{constructor(t,n,i,r,s){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=BP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_j,this._maxUploadRetryTime=bj,this._requests=new Set,r!=null?this._bucket=Li.makeFromBucketSpec(r,this._host):this._bucket=GS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Li.makeFromBucketSpec(this._url,t):this._bucket=GS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){WS("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){WS("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Nf(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new kj($P());{const o=Fj(t,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const KS="@firebase/storage",qS="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="storage";function jj(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new Uj(n,i,r,t,Ns)}function zj(){Un(new Nn(Hj,jj,"PUBLIC").setMultipleInstances(!0)),Yt(KS,qS,""),Yt(KS,qS,"esm2017")}zj();function Wj(e){return Kj({initialUser:e,dependencies:{popupRedirectResolver:ak,persistence:[rk,JC,ny]}})}const Gj=Symbol("VueFireAuth");function Kj({dependencies:e,initialUser:t}){return(n,i)=>{const[r,s]=qj(n,i,t,e);O2(r,s)}}function qj(e,t,n,i,r=zC(e,i)){const s=V2(e,t).run(()=>le(n));return D2.set(e,s),t.provide(Gj,r),[s,r]}function Yj(e,{firebaseApp:t,modules:n=[]}){e.provide(hk,t);for(const i of n)i(t,e)}const UP="@firebase/installations",Wy="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=1e4,jP=`w:${Wy}`,zP="FIS_v2",Qj="https://firebaseinstallations.googleapis.com/v1",Xj=60*60*1e3,Jj="installations",Zj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vo=new Lr(Jj,Zj,e6);function WP(e){return e instanceof Ei&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP({projectId:e}){return`${Qj}/projects/${e}/installations`}function KP(e){return{token:e.token,requestStatus:2,expiresIn:n6(e.expiresIn),creationTime:Date.now()}}async function qP(e,t){const i=(await t.json()).error;return Vo.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function YP({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function t6(e,{refreshToken:t}){const n=YP(e);return n.append("Authorization",i6(t)),n}async function QP(e){const t=await e();return t.status>=500&&t.status<600?e():t}function n6(e){return Number(e.replace("s","000"))}function i6(e){return`${zP} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=GP(e),r=YP(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={fid:n,authVersion:zP,appId:e.appId,sdkVersion:jP},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await QP(()=>fetch(i,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:KP(u.authToken)}}else throw await qP("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=/^[cdef][\w-]{21}$/,Rv="";function a6(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=l6(e);return o6.test(n)?n:Rv}catch{return Rv}}function l6(e){return s6(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Map;function ZP(e,t){const n=Rh(e);ex(n,t),u6(n,t)}function ex(e,t){const n=JP.get(e);if(n)for(const i of n)i(t)}function u6(e,t){const n=c6();n&&n.postMessage({key:e,fid:t}),d6()}let ao=null;function c6(){return!ao&&"BroadcastChannel"in self&&(ao=new BroadcastChannel("[Firebase] FID Change"),ao.onmessage=e=>{ex(e.data.key,e.data.fid)}),ao}function d6(){JP.size===0&&ao&&(ao.close(),ao=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="firebase-installations-database",h6=1,Do="firebase-installations-store";let og=null;function Gy(){return og||(og=IC(f6,h6,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Do)}}})),og}async function Of(e,t){const n=Rh(e),r=(await Gy()).transaction(Do,"readwrite"),s=r.objectStore(Do),o=await s.get(n);return await s.put(t,n),await r.done,(!o||o.fid!==t.fid)&&ZP(e,t.fid),t}async function tx(e){const t=Rh(e),i=(await Gy()).transaction(Do,"readwrite");await i.objectStore(Do).delete(t),await i.done}async function Vh(e,t){const n=Rh(e),r=(await Gy()).transaction(Do,"readwrite"),s=r.objectStore(Do),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&ZP(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ky(e){let t;const n=await Vh(e.appConfig,i=>{const r=m6(i),s=g6(e,r);return t=s.registrationPromise,s.installationEntry});return n.fid===Rv?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function m6(e){const t=e||{fid:a6(),registrationStatus:0};return nx(t)}function g6(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Vo.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=v6(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:p6(e)}:{installationEntry:t}}async function v6(e,t){try{const n=await r6(e,t);return Of(e.appConfig,n)}catch(n){throw WP(n)&&n.customData.serverCode===409?await tx(e.appConfig):await Of(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function p6(e){let t=await YS(e.appConfig);for(;t.registrationStatus===1;)await XP(100),t=await YS(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ky(e);return i||n}return t}function YS(e){return Vh(e,t=>{if(!t)throw Vo.create("installation-not-found");return nx(t)})}function nx(e){return y6(e)?{fid:e.fid,registrationStatus:0}:e}function y6(e){return e.registrationStatus===1&&e.registrationTime+HP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6({appConfig:e,heartbeatServiceProvider:t},n){const i=b6(e,n),r=t6(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={installation:{sdkVersion:jP,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await QP(()=>fetch(i,a));if(l.ok){const u=await l.json();return KP(u)}else throw await qP("Generate Auth Token",l)}function b6(e,{fid:t}){return`${GP(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qy(e,t=!1){let n;const i=await Vh(e.appConfig,s=>{if(!ix(s))throw Vo.create("not-registered");const o=s.authToken;if(!t&&S6(o))return s;if(o.requestStatus===1)return n=w6(e,t),s;{if(!navigator.onLine)throw Vo.create("app-offline");const a=T6(s);return n=I6(e,a),a}});return n?await n:i.authToken}async function w6(e,t){let n=await QS(e.appConfig);for(;n.authToken.requestStatus===1;)await XP(100),n=await QS(e.appConfig);const i=n.authToken;return i.requestStatus===0?qy(e,t):i}function QS(e){return Vh(e,t=>{if(!ix(t))throw Vo.create("not-registered");const n=t.authToken;return C6(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function I6(e,t){try{const n=await _6(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Of(e.appConfig,i),n}catch(n){if(WP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await tx(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Of(e.appConfig,i)}throw n}}function ix(e){return e!==void 0&&e.registrationStatus===2}function S6(e){return e.requestStatus===2&&!E6(e)}function E6(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Xj}function T6(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function C6(e){return e.requestStatus===1&&e.requestTime+HP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(e){const t=e,{installationEntry:n,registrationPromise:i}=await Ky(t);return i?i.catch(console.error):qy(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(e,t=!1){const n=e;return await P6(n),(await qy(n,t)).token}async function P6(e){const{registrationPromise:t}=await Ky(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(e){if(!e||!e.options)throw ag("App Configuration");if(!e.name)throw ag("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ag(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ag(e){return Vo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="installations",R6="installations-internal",V6=e=>{const t=e.getProvider("app").getImmediate(),n=x6(t),i=Ds(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},D6=e=>{const t=e.getProvider("app").getImmediate(),n=Ds(t,rx).getImmediate();return{getId:()=>k6(n),getToken:r=>A6(n,r)}};function N6(){Un(new Nn(rx,V6,"PUBLIC")),Un(new Nn(R6,D6,"PRIVATE"))}N6();Yt(UP,Wy);Yt(UP,Wy,"esm2017");const XS="@firebase/performance",Vv="0.6.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=Vv,O6="FB-PERF-TRACE-START",M6="FB-PERF-TRACE-STOP",Dv="FB-PERF-TRACE-MEASURE",ox="_wt_",ax="_fp",lx="_fcp",ux="_fid",cx="@firebase/performance/config",dx="@firebase/performance/configexpire",L6="performance",fx="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},kn=new Lr(L6,fx,F6);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new zo(fx);or.logLevel=qe.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg,hx;class an{constructor(t){if(this.window=t,!t)throw kn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,n,i){!this.performance||!this.performance.measure||this.performance.measure(t,n,i)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!yC()?(or.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):vc()?!0:(or.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(r=>{for(const s of r.getEntries())n(s)}).observe({entryTypes:[t]})}static getInstance(){return lg===void 0&&(lg=new an(hx)),lg}}function B6(e){hx=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mx;function $6(e){const t=e.getId();return t.then(n=>{mx=n}),t}function Yy(){return mx}function U6(e){const t=e.getToken();return t.then(n=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e,t){const n=e.length-t.length;if(n<0||n>1)throw kn.create("invalid String merger input");const i=[];for(let r=0;r<e.length;r++)i.push(e.charAt(r)),t.length>r&&i.push(t.charAt(r));return i.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug;class ti{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=JS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=JS("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return ug===void 0&&(ug=new ti),ug}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ja;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(ja||(ja={}));const H6=["firebase_","google_","ga_"],j6=new RegExp("^[a-zA-Z]\\w*$"),z6=40,W6=100;function G6(){const e=an.getInstance().navigator;return e!=null&&e.serviceWorker?e.serviceWorker.controller?2:3:1}function gx(){switch(an.getInstance().document.visibilityState){case"visible":return ja.VISIBLE;case"hidden":return ja.HIDDEN;default:return ja.UNKNOWN}}function K6(){const t=an.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function q6(e){return e.length===0||e.length>z6?!1:!H6.some(n=>e.startsWith(n))&&!!e.match(j6)}function Y6(e){return e.length!==0&&e.length<=W6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(e){var t;const n=(t=e.options)===null||t===void 0?void 0:t.appId;if(!n)throw kn.create("no app id");return n}function Q6(e){var t;const n=(t=e.options)===null||t===void 0?void 0:t.projectId;if(!n)throw kn.create("no project id");return n}function X6(e){var t;const n=(t=e.options)===null||t===void 0?void 0:t.apiKey;if(!n)throw kn.create("no api key");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="0.0.1",xi={loggingEnabled:!0},Z6="FIREBASE_INSTALLATIONS_AUTH";function ez(e,t){const n=tz();return n?(ZS(n),Promise.resolve()):rz(e,t).then(ZS).then(i=>nz(i),()=>{})}function tz(){const e=an.getInstance().localStorage;if(!e)return;const t=e.getItem(dx);if(!t||!sz(t))return;const n=e.getItem(cx);if(n)try{return JSON.parse(n)}catch{return}}function nz(e){const t=an.getInstance().localStorage;!e||!t||(t.setItem(cx,JSON.stringify(e)),t.setItem(dx,String(Date.now()+ti.getInstance().configTimeToLive*60*60*1e3)))}const iz="Could not fetch config, will use default configs";function rz(e,t){return U6(e.installations).then(n=>{const i=Q6(e.app),r=X6(e.app),s=`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,o=new Request(s,{method:"POST",headers:{Authorization:`${Z6} ${n}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:vx(e.app),app_version:sx,sdk_version:J6})});return fetch(o).then(a=>{if(a.ok)return a.json();throw kn.create("RC response not ok")})}).catch(()=>{or.info(iz)})}function ZS(e){if(!e)return e;const t=ti.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=xi.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):xi.logSource&&(t.logSource=xi.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:xi.logEndPointUrl&&(t.logEndPointUrl=xi.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:xi.transportKey&&(t.transportKey=xi.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):xi.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=xi.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):xi.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=xi.tracesSamplingRate),t.logTraceAfterSampling=e0(t.tracesSamplingRate),t.logNetworkAfterSampling=e0(t.networkRequestsSamplingRate),e}function sz(e){return Number(e)>Date.now()}function e0(e){return Math.random()<=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qy=1,cg;function px(e){return Qy=2,cg=cg||az(e),cg}function oz(){return Qy===3}function az(e){return lz().then(()=>$6(e.installations)).then(t=>ez(e,t)).then(()=>t0(),()=>t0())}function lz(){const e=an.getInstance().document;return new Promise(t=>{if(e&&e.readyState!=="complete"){const n=()=>{e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function t0(){Qy=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=10*1e3,uz=5.5*1e3,yx=3,cz=1e3;let Mf=yx,ws=[],n0=!1;function dz(){n0||(Dh(uz),n0=!0)}function Dh(e){setTimeout(()=>{if(Mf!==0){if(!ws.length)return Dh(Xy);fz()}},e)}function fz(){const e=ws.splice(0,cz),t=e.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ti.getInstance().logSource,log_event:t};hz(n,e).catch(()=>{ws=[...e,...ws],Mf--,or.info(`Tries left: ${Mf}.`),Dh(Xy)})}function hz(e,t){return mz(e).then(n=>(n.ok||or.info("Call to Firebase backend failed."),n.json())).then(n=>{const i=Number(n.nextRequestWaitMillis);let r=Xy;isNaN(i)||(r=Math.max(i,r));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ws=[...t,...ws],or.info("Retry transport request later.")),Mf=yx,Dh(r)})}function mz(e){const t=ti.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function gz(e){if(!e.eventTime||!e.message)throw kn.create("invalid cc log");ws=[...ws,e]}function vz(e){return(...t)=>{const n=e(...t);gz({message:n,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg;function _x(e,t){dg||(dg=vz(yz)),dg(e,t)}function Cd(e){const t=ti.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||an.getInstance().requiredApisAvailable()&&(e.isAuto&&gx()!==ja.VISIBLE||(oz()?fg(e):px(e.performanceController).then(()=>fg(e),()=>fg(e))))}function fg(e){if(!Yy())return;const t=ti.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(()=>_x(e,1),0)}function pz(e){const t=ti.getInstance();if(!t.instrumentationEnabled)return;const n=e.url,i=t.logEndPointUrl.split("?")[0],r=t.flTransportEndpointUrl.split("?")[0];n===i||n===r||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(()=>_x(e,0),0)}function yz(e,t){return t===0?_z(e):bz(e)}function _z(e){const t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:bx(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}function bz(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);const n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);const i={application_info:bx(e.performanceController.app),trace_metric:t};return JSON.stringify(i)}function bx(e){return{google_app_id:vx(e),app_instance_id:Yy(),web_app_info:{sdk_version:sx,page_url:an.getInstance().getUrl(),service_worker_status:G6(),visibility_state:gx(),effective_connection_type:K6()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=100,Iz="_",Sz=[ax,lx,ux];function Ez(e,t){return e.length===0||e.length>wz?!1:t&&t.startsWith(ox)&&Sz.indexOf(e)>-1||!e.startsWith(Iz)}function Tz(e){const t=Math.floor(e);return t<e&&or.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,n,i=!1,r){this.performanceController=t,this.name=n,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=an.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${O6}-${this.randomId}-${this.name}`,this.traceStopMark=`${M6}-${this.randomId}-${this.name}`,this.traceMeasure=r||`${Dv}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw kn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw kn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Cd(this)}record(t,n,i){if(t<=0)throw kn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw kn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));Cd(this)}incrementMetric(t,n=1){this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)}putMetric(t,n){if(Ez(t,this.name))this.counters[t]=Tz(n??0);else throw kn.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,n){const i=q6(t),r=Y6(n);if(i&&r){this.customAttributes[t]=n;return}if(!i)throw kn.create("invalid attribute name",{attributeName:t});if(!r)throw kn.create("invalid attribute value",{attributeValue:n})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,n,i,r){const s=an.getInstance().getUrl();if(!s)return;const o=new go(t,ox+s,!0),a=Math.floor(an.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),n&&n[0]&&(o.setDuration(Math.floor(n[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const l="first-paint",u="first-contentful-paint";if(i){const c=i.find(h=>h.name===l);c&&c.startTime&&o.putMetric(ax,Math.floor(c.startTime*1e3));const d=i.find(h=>h.name===u);d&&d.startTime&&o.putMetric(lx,Math.floor(d.startTime*1e3)),r&&o.putMetric(ux,Math.floor(r*1e3))}Cd(o)}static createUserTimingTrace(t,n){const i=new go(t,n,!1,n);Cd(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(e,t){const n=t;if(!n||n.responseStart===void 0)return;const i=an.getInstance().getTimeOrigin(),r=Math.floor((n.startTime+i)*1e3),s=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,o=Math.floor((n.responseEnd-n.startTime)*1e3),a=n.name&&n.name.split("?")[0],l={performanceController:e,url:a,responsePayloadBytes:n.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o};pz(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=5e3;function r0(e){Yy()&&(setTimeout(()=>Az(e),0),setTimeout(()=>kz(e),0),setTimeout(()=>Pz(e),0))}function kz(e){const t=an.getInstance(),n=t.getEntriesByType("resource");for(const i of n)i0(e,i);t.setupObserver("resource",i=>i0(e,i))}function Az(e){const t=an.getInstance(),n=t.getEntriesByType("navigation"),i=t.getEntriesByType("paint");if(t.onFirstInputDelay){let r=setTimeout(()=>{go.createOobTrace(e,n,i),r=void 0},Cz);t.onFirstInputDelay(s=>{r&&(clearTimeout(r),go.createOobTrace(e,n,i,s))})}else go.createOobTrace(e,n,i)}function Pz(e){const t=an.getInstance(),n=t.getEntriesByType("measure");for(const i of n)s0(e,i);t.setupObserver("measure",i=>s0(e,i))}function s0(e,t){const n=t.name;n.substring(0,Dv.length)!==Dv&&go.createUserTimingTrace(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(t,n){this.app=t,this.installations=n,this.initialized=!1}_init(t){this.initialized||((t==null?void 0:t.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),(t==null?void 0:t.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),an.getInstance().requiredApisAvailable()?Kp().then(n=>{n&&(dz(),px(this).then(()=>r0(this),()=>r0(this)),this.initialized=!0)}).catch(n=>{or.info(`Environment doesn't support IndexedDB: ${n}`)}):or.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){ti.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return ti.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){ti.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return ti.getInstance().dataCollectionEnabled}}const Rz="[DEFAULT]";function Vz(e=ah()){return e=li(e),Ds(e,"performance").getImmediate()}const Dz=(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(n.name!==Rz)throw kn.create("FB not default");if(typeof window>"u")throw kn.create("no window");B6(window);const r=new xz(n,i);return r._init(t),r};function Nz(){Un(new Nn("performance",Dz,"PUBLIC")),Yt(XS,Vv),Yt(XS,Vv,"esm2017")}Nz();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="analytics",Oz="firebase_id",Mz="origin",Lz=60*1e3,Fz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bz="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new zo("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function $z(e,t){const n=document.createElement("script"),i=e2`https://www.googletagmanager.com/gtag/js?l=${e}&id=${t}`;r2(n,i),n.async=!0,document.head.appendChild(n)}function Uz(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Hz(e,t,n,i,r,s){const o=i[r];try{if(o)await t[o];else{const l=(await wx(n)).find(u=>u.measurementId===r);l&&await t[l.appId]}}catch(a){ii.error(a)}e("config",r,s)}async function jz(e,t,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await wx(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",i,r||{})}catch(s){ii.error(s)}}function zz(e,t,n,i){async function r(s,...o){try{if(s==="event"){const[a,l]=o;await jz(e,t,n,a,l)}else if(s==="config"){const[a,l]=o;await Hz(e,t,n,i,a,l)}else if(s==="consent"){const[a,l]=o;e("consent",a,l)}else if(s==="get"){const[a,l,u]=o;e("get",a,l,u)}else if(s==="set"){const[a]=o;e("set",a)}else e(s,...o)}catch(a){ii.error(a)}}return r}function Wz(e,t,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=zz(s,e,t,n),{gtagCore:s,wrappedGtag:window[r]}}function Gz(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Bz)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wi=new Lr("analytics","Analytics",Kz);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=30,Yz=1e3;class Qz{constructor(t={},n=Yz){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Ix=new Qz;function Xz(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Jz(e){var t;const{appId:n,apiKey:i}=e,r={method:"GET",headers:Xz(i)},s=Fz.replace("{app-id}",n),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw wi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Zz(e,t=Ix,n){const{appId:i,apiKey:r,measurementId:s}=e.options;if(!i)throw wi.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw wi.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new n9;return setTimeout(async()=>{a.abort()},Lz),Sx({appId:i,apiKey:r,measurementId:s},o,a,t)}async function Sx(e,{throttleEndTimeMillis:t,backoffCount:n},i,r=Ix){var s;const{appId:o,measurementId:a}=e;try{await e9(i,t)}catch(l){if(a)return ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Jz(e);return r.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!t9(u)){if(r.deleteThrottleMetadata(o),a)return ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Ow(n,r.intervalMillis,qz):Ow(n,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(o,d),ii.debug(`Calling attemptFetch again in ${c} millis`),Sx(e,d,i,r)}}function e9(e,t){return new Promise((n,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),i(wi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function t9(e){if(!(e instanceof Ei)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class n9{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function i9(e,t,n,i,r){if(r&&r.global){e("event",n,i);return}else{const s=await t,o=Object.assign(Object.assign({},i),{send_to:s});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(){if(vc())try{await Kp()}catch(e){return ii.warn(wi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return ii.warn(wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function s9(e,t,n,i,r,s,o){var a;const l=Zz(e);l.then(m=>{n[m.measurementId]=m.appId,e.options.measurementId&&m.measurementId!==e.options.measurementId&&ii.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>ii.error(m)),t.push(l);const u=r9().then(m=>{if(m)return i.getId()}),[c,d]=await Promise.all([l,u]);Gz(s)||$z(s,c.measurementId),r("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[Mz]="firebase",h.update=!0,d!=null&&(h[Oz]=d),r("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(t){this.app=t}_delete(){return delete Ru[this.app.options.appId],Promise.resolve()}}let Ru={},o0=[];const a0={};let hg="dataLayer",a9="gtag",l0,Ex,u0=!1;function l9(){const e=[];if(mC()&&e.push("This is a browser extension environment."),yC()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=wi.create("invalid-analytics-context",{errorInfo:t});ii.warn(n.message)}}function u9(e,t,n){l9();const i=e.options.appId;if(!i)throw wi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wi.create("no-api-key");if(Ru[i]!=null)throw wi.create("already-exists",{id:i});if(!u0){Uz(hg);const{wrappedGtag:s,gtagCore:o}=Wz(Ru,o0,a0,hg,a9);Ex=s,l0=o,u0=!0}return Ru[i]=s9(e,o0,a0,t,l0,hg,n),new o9(e)}function c9(e=ah()){e=li(e);const t=Ds(e,Lf);return t.isInitialized()?t.getImmediate():d9(e)}function d9(e,t={}){const n=Ds(e,Lf);if(n.isInitialized()){const r=n.getImmediate();if(Qa(t,n.getOptions()))return r;throw wi.create("already-initialized")}return n.initialize({options:t})}function f9(e,t,n,i){e=li(e),i9(Ex,Ru[e.app.options.appId],t,n,i).catch(r=>ii.error(r))}const c0="@firebase/analytics",d0="0.10.6";function h9(){Un(new Nn(Lf,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return u9(i,r,n)},"PUBLIC")),Un(new Nn("analytics-internal",e,"PRIVATE")),Yt(c0,d0),Yt(c0,d0,"esm2017");function e(t){try{const n=t.getProvider(Lf).getImmediate();return{logEvent:(i,r,s)=>f9(n,i,r,s)}}catch(n){throw wi.create("interop-component-reg-failed",{reason:n})}}}h9();var m9={VITE_FIREBASE_API_KEY:"AIzaSyDR5ik7GoUZA142kws0i-b6NtfUAivS0WM",VITE_FIREBASE_AUTH_DOMAIN:"alex-set-list-app.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"alex-set-list-app",VITE_FIREBASE_STORAGE_BUCKET:"alex-set-list-app.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"252093619867",VITE_FIREBASE_APP_ID:"1:252093619867:web:fc5d6fbf1420e9d939703e",VITE_FIREBASE_MEASUREMENT_ID:"G-C44WH0WBW0",VITE_APP_NAME:"ASLA - Alex' Setlist App",VITE_APP_SHORT_NAME:"ASLA",VITE_APP_DESCRIPTION:"Alex' Setlist App",VITE_BASE_URL:"/ASLA/",BASE_URL:"/ASLA/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qs=m9,g9={apiKey:qs.VITE_FIREBASE_API_KEY,authDomain:qs.VITE_FIREBASE_AUTH_DOMAIN,projectId:qs.VITE_FIREBASE_PROJECT_ID,storageBucket:qs.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:qs.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:qs.VITE_FIREBASE_APP_ID,measurementId:qs.VITE_FIREBASE_MEASUREMENT_ID},kc=SC(g9),Yd=qB(kc);fj(kc,{localCache:gj({})});Vz(kc);c9(kc);function Gn(e,t){let n;function i(){n=pl(),n.run(()=>t.length?t(()=>{n==null||n.stop(),i()}):t())}_e(e,r=>{r&&!n?i():r||(n==null||n.stop(),n=void 0)},{immediate:!0}),wn(()=>{n==null||n.stop()})}const lt=typeof window<"u",Jy=lt&&"IntersectionObserver"in window,v9=lt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),f0=lt&&"EyeDropper"in window;function h0(e,t,n){p9(e,t),t.set(e,n)}function p9(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y9(e,t,n){return e.set(Tx(e,t),n),n}function Ys(e,t){return e.get(Tx(e,t))}function Tx(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Cx(e,t,n){const i=t.length-1;if(i<0)return e===void 0?n:e;for(let r=0;r<i;r++){if(e==null)return n;e=e[t[r]]}return e==null||e[t[i]]===void 0?n:e[t[i]]}function cr(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(i=>cr(e[i],t[i]))}function No(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),Cx(e,t.split("."),n))}function zt(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}if(typeof t=="string")return No(e,t,n);if(Array.isArray(t))return Cx(e,t,n);if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}function er(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,i)=>t+i)}function Ie(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Ju(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Zy(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const m0=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Nv=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function kx(e){return Object.keys(e)}function lo(e,t){return t.every(n=>e.hasOwnProperty(n))}function e_(e,t){const n={},i=new Set(Object.keys(e));for(const r of t)i.has(r)&&(n[r]=e[r]);return n}function Ov(e,t,n){const i=Object.create(null),r=Object.create(null);for(const s in e)t.some(o=>o instanceof RegExp?o.test(s):o===s)&&!(n!=null&&n.some(o=>o===s))?i[s]=e[s]:r[s]=e[s];return[i,r]}function Ut(e,t){const n={...e};return t.forEach(i=>delete n[i]),n}function Nh(e,t){const n={};return t.forEach(i=>n[i]=e[i]),n}const Ax=/^on[^a-z]/,Oh=e=>Ax.test(e),_9=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],b9=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function w9(e){return e.isComposing&&b9.includes(e.key)}function Ls(e){const[t,n]=Ov(e,[Ax]),i=Ut(t,_9),[r,s]=Ov(n,["class","style","id",/^data-/]);return Object.assign(r,t),Object.assign(s,i),[r,s]}function Tt(e){return e==null?[]:Array.isArray(e)?e:[e]}function I9(e,t){let n=0;const i=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...s),gt(t))};return i.clear=()=>{clearTimeout(n)},i.immediate=e,i}function Ft(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function g0(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function v0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function p0(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function S9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<e.length;)n.push(e.substr(i,t)),i+=t;return n}function y0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(e)>=t&&i<n.length-1;)e/=t,++i;return`${e.toFixed(1)} ${n[i]}B`}function Vn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const r in e)i[r]=e[r];for(const r in t){const s=e[r],o=t[r];if(Ju(s)&&Ju(o)){i[r]=Vn(s,o,n);continue}if(Array.isArray(s)&&Array.isArray(o)&&n){i[r]=n(s,o);continue}i[r]=o}return i}function Px(e){return e.map(t=>t.type===Ae?Px(t.children):t).flat()}function vo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(vo.cache.has(e))return vo.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return vo.cache.set(e,t),t}vo.cache=new Map;function Ra(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Ra(e,n)).flat(1);if(t.suspense)return Ra(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Ra(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Ra(e,t.component.subTree).flat(1)}return[]}var kd=new WeakMap,pa=new WeakMap;class E9{constructor(t){h0(this,kd,[]),h0(this,pa,0),this.size=t}push(t){Ys(kd,this)[Ys(pa,this)]=t,y9(pa,this,(Ys(pa,this)+1)%this.size)}values(){return Ys(kd,this).slice(Ys(pa,this)).concat(Ys(kd,this).slice(0,Ys(pa,this)))}}function T9(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function t_(e){const t=rn({}),n=C(e);return Nt(()=>{for(const i in n.value)t[i]=n.value[i]},{flush:"sync"}),Rs(t)}function Ff(e,t){return e.includes(t)}function xx(e){return e[2].toLowerCase()+e.slice(3)}const ln=()=>[Function,Array];function _0(e,t){return t="on"+lr(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function n_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Array.isArray(e))for(const r of e)r(...n);else typeof e=="function"&&e(...n)}function Zu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function Rx(e,t,n){let i,r=e.indexOf(document.activeElement);const s=t==="next"?1:-1;do r+=s,i=e[r];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&r<e.length&&r>=0);return i}function ul(e,t){var i,r,s,o;const n=Zu(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(t==="first")(r=n[0])==null||r.focus();else if(t==="last")(s=n.at(-1))==null||s.focus();else if(typeof t=="number")(o=n[t])==null||o.focus();else{const a=Rx(n,t);a?a.focus():ul(e,t==="next"?"first":"last")}}function Ad(e){return e==null||typeof e=="string"&&e.trim()===""}function Vx(){}function cl(e,t){if(!(lt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function Mh(e){return e.some(t=>Ka(t)?t.type===vn?!1:t.type!==Ae||Mh(t.children):!0)?e:null}function C9(e,t){if(!lt||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function b0(e,t){const n=ye();return Nt(()=>{n.value=e()},{flush:"sync",...t}),yl(n)}function k9(e,t){const n=e.clientX,i=e.clientY,r=t.getBoundingClientRect(),s=r.left,o=r.top,a=r.right,l=r.bottom;return n>=s&&n<=a&&i>=o&&i<=l}function Bf(){const e=ye(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>Zy(e.value)}),t}const Dx=["top","bottom"],A9=["start","end","left","right"];function Mv(e,t){let[n,i]=e.split(" ");return i||(i=Ff(Dx,n)?"start":Ff(A9,n)?"top":"center"),{side:Lv(n,t),align:Lv(i,t)}}function Lv(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function mg(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function gg(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function w0(e){return{side:e.align,align:e.side}}function I0(e){return Ff(Dx,e.side)?"y":"x"}class po{constructor(t){let{x:n,y:i,width:r,height:s}=t;this.x=n,this.y=i,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function S0(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Nx(e){return Array.isArray(e)?new po({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function i_(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){let r,s,o,a,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],o=+r[5],a=+r[12],l=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],o=+r[3],a=+r[4],l=+r[5];else return new po(t);const u=n.transformOrigin,c=t.x-a-(1-s)*parseFloat(u),d=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),h=s?t.width/s:e.offsetWidth+1,m=o?t.height/o:e.offsetHeight+1;return new po({x:c,y:d,width:h,height:m})}else return new po(t)}function uo(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(r=>{i.onfinish=()=>{r(i)}})),i}const Qd=new WeakMap;function P9(e,t){Object.keys(t).forEach(n=>{if(Oh(n)){const i=xx(n),r=Qd.get(e);if(t[n]==null)r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))});else if(!r||![...r].some(s=>s[0]===i&&s[1]===t[n])){e.addEventListener(i,t[n]);const s=r||new Set;s.add([i,t[n]]),Qd.has(e)||Qd.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function x9(e,t){Object.keys(t).forEach(n=>{if(Oh(n)){const i=xx(n),r=Qd.get(e);r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))})}else e.removeAttribute(n)})}const ya=2.4,E0=.2126729,T0=.7151522,C0=.072175,R9=.55,V9=.58,D9=.57,N9=.62,Pd=.03,k0=1.45,O9=5e-4,M9=1.25,L9=1.25,A0=.078,P0=12.82051282051282,xd=.06,x0=.001;function R0(e,t){const n=(e.r/255)**ya,i=(e.g/255)**ya,r=(e.b/255)**ya,s=(t.r/255)**ya,o=(t.g/255)**ya,a=(t.b/255)**ya;let l=n*E0+i*T0+r*C0,u=s*E0+o*T0+a*C0;if(l<=Pd&&(l+=(Pd-l)**k0),u<=Pd&&(u+=(Pd-u)**k0),Math.abs(u-l)<O9)return 0;let c;if(u>l){const d=(u**R9-l**V9)*M9;c=d<x0?0:d<A0?d-d*P0*xd:d-xd}else{const d=(u**N9-l**D9)*L9;c=d>-x0?0:d>-A0?d-d*P0*xd:d+xd}return c*100}function F9(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const $f=.20689655172413793,B9=e=>e>$f**3?Math.cbrt(e):e/(3*$f**2)+4/29,$9=e=>e>$f?e**3:3*$f**2*(e-4/29);function Ox(e){const t=B9,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function Mx(e){const t=$9,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const U9=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],H9=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,j9=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],z9=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function Lx(e){const t=Array(3),n=H9,i=U9;for(let r=0;r<3;++r)t[r]=Math.round(Ft(n(i[r][0]*e[0]+i[r][1]*e[1]+i[r][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function r_(e){let{r:t,g:n,b:i}=e;const r=[0,0,0],s=z9,o=j9;t=s(t/255),n=s(n/255),i=s(i/255);for(let a=0;a<3;++a)r[a]=o[a][0]*t+o[a][1]*n+o[a][2]*i;return r}function Fv(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function W9(e){return Fv(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const V0=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,G9={rgb:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),rgba:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),hsl:(e,t,n,i)=>D0({h:e,s:t,l:n,a:i}),hsla:(e,t,n,i)=>D0({h:e,s:t,l:n,a:i}),hsv:(e,t,n,i)=>Vr({h:e,s:t,v:n,a:i}),hsva:(e,t,n,i)=>Vr({h:e,s:t,v:n,a:i})};function _i(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&V0.test(e)){const{groups:t}=e.match(V0),{fn:n,values:i}=t,r=i.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return G9[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),Hx(t)}else if(typeof e=="object"){if(lo(e,["r","g","b"]))return e;if(lo(e,["h","s","l"]))return Vr(s_(e));if(lo(e,["h","s","v"]))return Vr(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Vr(e){const{h:t,s:n,v:i,a:r}=e,s=a=>{const l=(a+t/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:r}}function D0(e){return Vr(s_(e))}function Lh(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i);let o=0;r!==s&&(r===t?o=60*(0+(n-i)/(r-s)):r===n?o=60*(2+(i-t)/(r-s)):r===i&&(o=60*(4+(t-n)/(r-s)))),o<0&&(o=o+360);const a=r===0?0:(r-s)/r,l=[o,a,r];return{h:l[0],s:l[1],v:l[2],a:e.a}}function Fx(e){const{h:t,s:n,v:i,a:r}=e,s=i-i*n/2,o=s===1||s===0?0:(i-s)/Math.min(s,1-s);return{h:t,s:o,l:s,a:r}}function s_(e){const{h:t,s:n,l:i,a:r}=e,s=i+n*Math.min(i,1-i),o=s===0?0:2-2*i/s;return{h:t,s:o,v:s,a:r}}function Bx(e){let{r:t,g:n,b:i,a:r}=e;return r===void 0?`rgb(${t}, ${n}, ${i})`:`rgba(${t}, ${n}, ${i}, ${r})`}function $x(e){return Bx(Vr(e))}function Rd(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function Ux(e){let{r:t,g:n,b:i,a:r}=e;return`#${[Rd(t),Rd(n),Rd(i),r!==void 0?Rd(Math.round(r*255)):""].join("")}`}function Hx(e){e=K9(e);let[t,n,i,r]=S9(e,2).map(s=>parseInt(s,16));return r=r===void 0?r:r/255,{r:t,g:n,b:i,a:r}}function jx(e){const t=Hx(e);return Lh(t)}function zx(e){return Ux(Vr(e))}function K9(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=v0(v0(e,6),8,"F")),e}function q9(e,t){const n=Ox(r_(e));return n[0]=n[0]+t*10,Lx(Mx(n))}function Y9(e,t){const n=Ox(r_(e));return n[0]=n[0]-t*10,Lx(Mx(n))}function Bv(e){const t=_i(e);return r_(t)[1]}function Q9(e,t){const n=Bv(e),i=Bv(t),r=Math.max(n,i),s=Math.min(n,i);return(r+.05)/(s+.05)}function Wx(e){const t=Math.abs(R0(_i(0),_i(e)));return Math.abs(R0(_i(16777215),_i(e)))>Math.min(t,50)?"#fff":"#000"}function W(e,t){return n=>Object.keys(e).reduce((i,r)=>{const o=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?i[r]={...o,default:n[r]}:i[r]=o,t&&!i[r].source&&(i[r].source=t),i},{})}const Ee=W({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Ot(e,t){const n=eh();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function dr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Ot(e).type;return vo((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let Gx=0,Xd=new WeakMap;function cn(){const e=Ot("getUid");if(Xd.has(e))return Xd.get(e);{const t=Gx++;return Xd.set(e,t),t}}cn.reset=()=>{Gx=0,Xd=new WeakMap};function X9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const dl=Symbol.for("vuetify:defaults");function J9(e){return le(e)}function o_(){const e=$e(dl);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Rt(e,t){const n=o_(),i=le(e),r=C(()=>{if(gt(t==null?void 0:t.disabled))return n.value;const o=gt(t==null?void 0:t.scoped),a=gt(t==null?void 0:t.reset),l=gt(t==null?void 0:t.root);if(i.value==null&&!(o||a||l))return n.value;let u=Vn(i.value,{prev:n.value});if(o)return u;if(a||l){const c=Number(a||1/0);for(let d=0;d<=c&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=Vn(Vn(u,{prev:u}),u[l])),u}return u.prev?Vn(u.prev,u):u});return ft(dl,r),r}function Z9(e,t){var n,i;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((i=e.props)==null?void 0:i[vo(t)])<"u"}function e3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o_();const i=Ot("useDefaults");if(t=t??i.type.name??i.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=C(()=>{var l;return(l=n.value)==null?void 0:l[e._as??t]}),s=new Proxy(e,{get(l,u){var d,h,m,p,v,y,A;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(d=r.value)==null?void 0:d[u],c].filter(P=>P!=null):typeof u=="string"&&!Z9(i.vnode,u)?((h=r.value)==null?void 0:h[u])!==void 0?(m=r.value)==null?void 0:m[u]:((v=(p=n.value)==null?void 0:p.global)==null?void 0:v[u])!==void 0?(A=(y=n.value)==null?void 0:y.global)==null?void 0:A[u]:c:c}}),o=ye();Nt(()=>{if(r.value){const l=Object.entries(r.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function a(){const l=X9(dl,i);ft(dl,C(()=>o.value?Vn((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:s,provideSubDefaults:a}}function ui(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=W(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(i){return e_(i,t)},e.props._as=String,e.setup=function(i,r){const s=o_();if(!s.value)return e._setup(i,r);const{props:o,provideSubDefaults:a}=e3(i,i._as??e.name,s),l=e._setup(o,r);return a(),l}}return e}function ne(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?ui:jo)(t)}function t3(e,t){return t.props=e,t}function fr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ne()({name:n??lr(ri(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ee()},setup(i,r){let{slots:s}=r;return()=>{var o;return zi(i.tag,{class:[e,i.class],style:i.style},(o=s.default)==null?void 0:o.call(s))}}})}function Kx(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const ec="cubic-bezier(0.4, 0, 0.2, 1)",n3="cubic-bezier(0.0, 0, 0.2, 1)",i3="cubic-bezier(0.4, 0, 1, 1)";function N0(e,t,n){return Object.keys(e).filter(i=>Oh(i)&&i.endsWith(t)).reduce((i,r)=>(i[r.slice(0,-t.length)]=s=>e[r](s,n(s)),i),{})}function a_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?r3(e):l_(e))return e;e=e.parentElement}return document.scrollingElement}function Uf(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(l_(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function l_(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function r3(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function s3(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function se(e){const t=Ot("useRender");t.render=e}function xe(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const s=Ot("useProxiedModel"),o=le(e[t]!==void 0?e[t]:n),a=vo(t),u=C(a!==t?()=>{var d,h,m,p;return e[t],!!(((d=s.vnode.props)!=null&&d.hasOwnProperty(t)||(h=s.vnode.props)!=null&&h.hasOwnProperty(a))&&((m=s.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${t}`)||(p=s.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var d,h;return e[t],!!((d=s.vnode.props)!=null&&d.hasOwnProperty(t)&&((h=s.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)))});Gn(()=>!u.value,()=>{_e(()=>e[t],d=>{o.value=d})});const c=C({get(){const d=e[t];return i(u.value?d:o.value)},set(d){const h=r(d),m=Be(u.value?e[t]:o.value);m===h||i(m)===d||(o.value=h,s==null||s.emit(`update:${t}`,h))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:o.value}),c}const o3={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},O0="$vuetify.",M0=(e,t)=>e.replace(/\{(\d+)\}/g,(n,i)=>String(t[+i])),qx=(e,t,n)=>function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(!i.startsWith(O0))return M0(i,s);const a=i.replace(O0,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let c=No(l,a,null);return c||(`${i}${e.value}`,c=No(u,a,null)),c||(c=i),typeof c!="string"&&(c=i),M0(c,s)};function Yx(e,t){return(n,i)=>new Intl.NumberFormat([e.value,t.value],i).format(n)}function vg(e,t,n){const i=xe(e,t,e[t]??n.value);return i.value=e[t]??n.value,_e(n,r=>{e[t]==null&&(i.value=n.value)}),i}function Qx(e){return t=>{const n=vg(t,"locale",e.current),i=vg(t,"fallback",e.fallback),r=vg(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:i,messages:r,t:qx(n,i,r),n:Yx(n,i),provide:Qx({current:n,fallback:i,messages:r})}}}function a3(e){const t=ye((e==null?void 0:e.locale)??"en"),n=ye((e==null?void 0:e.fallback)??"en"),i=le({en:o3,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:i,t:qx(t,n,i),n:Yx(t,n),provide:Qx({current:t,fallback:n,messages:i})}}const fl=Symbol.for("vuetify:locale");function l3(e){return e.name!=null}function u3(e){const t=e!=null&&e.adapter&&l3(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:a3(e),n=f3(t,e);return{...t,...n}}function Mt(){const e=$e(fl);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function c3(e){const t=$e(fl);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),i=h3(n,t.rtl,e),r={...n,...i};return ft(fl,r),r}function d3(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function f3(e,t){const n=le((t==null?void 0:t.rtl)??d3()),i=C(()=>n.value[e.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:C(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function h3(e,t,n){const i=C(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:i,rtl:t,rtlClasses:C(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Xt(){const e=$e(fl);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const Fh={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function m3(e,t,n){const i=[];let r=[];const s=Xx(e),o=Jx(e),a=n??Fh[t.slice(-2).toUpperCase()]??0,l=(s.getDay()-a+7)%7,u=(o.getDay()-a+7)%7;for(let c=0;c<l;c++){const d=new Date(s);d.setDate(d.getDate()-(l-c)),r.push(d)}for(let c=1;c<=o.getDate();c++){const d=new Date(e.getFullYear(),e.getMonth(),c);r.push(d),r.length===7&&(i.push(r),r=[])}for(let c=1;c<7-u;c++){const d=new Date(o);d.setDate(d.getDate()+c),r.push(d)}return r.length>0&&i.push(r),i}function g3(e,t,n){const i=n??Fh[t.slice(-2).toUpperCase()]??0,r=new Date(e);for(;r.getDay()!==i;)r.setDate(r.getDate()-1);return r}function v3(e,t){const n=new Date(e),i=((Fh[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function Xx(e){return new Date(e.getFullYear(),e.getMonth(),1)}function Jx(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function p3(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const y3=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Zx(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(y3.test(e))return p3(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const L0=new Date(2e3,0,2);function _3(e,t){const n=t??Fh[e.slice(-2).toUpperCase()]??0;return er(7).map(i=>{const r=new Date(L0);return r.setDate(L0.getDate()+n+i),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(r)})}function b3(e,t,n,i){const r=Zx(e)??new Date,s=i==null?void 0:i[t];if(typeof s=="function")return s(r,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=r.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${a} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:o=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(r)}function w3(e,t){const n=e.toJsDate(t),i=n.getFullYear(),r=p0(String(n.getMonth()+1),2,"0"),s=p0(String(n.getDate()),2,"0");return`${i}-${r}-${s}`}function I3(e){const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)}function S3(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function E3(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function T3(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function C3(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function k3(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function A3(e){return e.getFullYear()}function P3(e){return e.getMonth()}function x3(e){return e.getDate()}function R3(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function V3(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function D3(e){return e.getHours()}function N3(e){return e.getMinutes()}function O3(e){return new Date(e.getFullYear(),0,1)}function M3(e){return new Date(e.getFullYear(),11,31)}function L3(e,t){return Hf(e,t[0])&&$3(e,t[1])}function F3(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Hf(e,t){return e.getTime()>t.getTime()}function B3(e,t){return Hf($v(e),$v(t))}function $3(e,t){return e.getTime()<t.getTime()}function F0(e,t){return e.getTime()===t.getTime()}function U3(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function H3(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function j3(e,t){return e.getFullYear()===t.getFullYear()}function z3(e,t,n){const i=new Date(e),r=new Date(t);switch(n){case"years":return i.getFullYear()-r.getFullYear();case"quarters":return Math.floor((i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12)/4);case"months":return i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-r.getTime())/1e3);default:return i.getTime()-r.getTime()}}function W3(e,t){const n=new Date(e);return n.setHours(t),n}function G3(e,t){const n=new Date(e);return n.setMinutes(t),n}function K3(e,t){const n=new Date(e);return n.setMonth(t),n}function q3(e,t){const n=new Date(e);return n.setDate(t),n}function Y3(e,t){const n=new Date(e);return n.setFullYear(t),n}function $v(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function Q3(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class X3{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return Zx(t)}toJsDate(t){return t}toISO(t){return w3(this,t)}parseISO(t){return I3(t)}addMinutes(t,n){return S3(t,n)}addHours(t,n){return E3(t,n)}addDays(t,n){return T3(t,n)}addWeeks(t,n){return C3(t,n)}addMonths(t,n){return k3(t,n)}getWeekArray(t,n){return m3(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return g3(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return v3(t,this.locale)}startOfMonth(t){return Xx(t)}endOfMonth(t){return Jx(t)}format(t,n){return b3(t,n,this.locale,this.formats)}isEqual(t,n){return F0(t,n)}isValid(t){return F3(t)}isWithinRange(t,n){return L3(t,n)}isAfter(t,n){return Hf(t,n)}isAfterDay(t,n){return B3(t,n)}isBefore(t,n){return!Hf(t,n)&&!F0(t,n)}isSameDay(t,n){return U3(t,n)}isSameMonth(t,n){return H3(t,n)}isSameYear(t,n){return j3(t,n)}setMinutes(t,n){return G3(t,n)}setHours(t,n){return W3(t,n)}setMonth(t,n){return K3(t,n)}setDate(t,n){return q3(t,n)}setYear(t,n){return Y3(t,n)}getDiff(t,n,i){return z3(t,n,i)}getWeekdays(t){return _3(this.locale,t?Number(t):void 0)}getYear(t){return A3(t)}getMonth(t){return P3(t)}getDate(t){return x3(t)}getNextMonth(t){return R3(t)}getPreviousMonth(t){return V3(t)}getHours(t){return D3(t)}getMinutes(t){return N3(t)}startOfDay(t){return $v(t)}endOfDay(t){return Q3(t)}startOfYear(t){return O3(t)}endOfYear(t){return M3(t)}}const eR=Symbol.for("vuetify:date-options"),B0=Symbol.for("vuetify:date-adapter");function J3(e,t){const n=Vn({adapter:X3,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:tR(n,t)}}function tR(e,t){const n=rn(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return _e(t.current,i=>{n.locale=e.locale[i]??i??n.locale}),n}function Ac(){const e=$e(eR);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=Mt();return tR(e,t)}function Z3(e,t){const n=e.toJsDate(t);let i=n.getFullYear(),r=new Date(i,0,1);if(n<r)i=i-1,r=new Date(i,0,1);else{const a=new Date(i+1,0,1);n>=a&&(i=i+1,r=a)}const s=Math.abs(n.getTime()-r.getTime()),o=Math.ceil(s/(1e3*60*60*24));return Math.floor(o/7)+1}const Bh=["sm","md","lg","xl","xxl"],Uv=Symbol.for("vuetify:display"),$0={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},eW=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$0;return Vn($0,e)};function U0(e){return lt&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function H0(e){return lt&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function j0(e){const t=lt&&!e?window.navigator.userAgent:"ssr";function n(p){return!!t.match(p)}const i=n(/android/i),r=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),c=n(/opera/i),d=n(/win/i),h=n(/mac/i),m=n(/linux/i);return{android:i,ios:r,cordova:s,electron:o,chrome:a,edge:l,firefox:u,opera:c,win:d,mac:h,linux:m,touch:v9,ssr:t==="ssr"}}function tW(e,t){const{thresholds:n,mobileBreakpoint:i}=eW(e),r=ye(H0(t)),s=ye(j0(t)),o=rn({}),a=ye(U0(t));function l(){r.value=H0(),a.value=U0()}function u(){l(),s.value=j0()}return Nt(()=>{const c=a.value<n.sm,d=a.value<n.md&&!c,h=a.value<n.lg&&!(d||c),m=a.value<n.xl&&!(h||d||c),p=a.value<n.xxl&&!(m||h||d||c),v=a.value>=n.xxl,y=c?"xs":d?"sm":h?"md":m?"lg":p?"xl":"xxl",A=typeof i=="number"?i:n[i],P=a.value<A;o.xs=c,o.sm=d,o.md=h,o.lg=m,o.xl=p,o.xxl=v,o.smAndUp=!c,o.mdAndUp=!(c||d),o.lgAndUp=!(c||d||h),o.xlAndUp=!(c||d||h||m),o.smAndDown=!(h||m||p||v),o.mdAndDown=!(m||p||v),o.lgAndDown=!(p||v),o.xlAndDown=!v,o.name=y,o.height=r.value,o.width=a.value,o.mobile=P,o.mobileBreakpoint=i,o.platform=s.value,o.thresholds=n}),lt&&window.addEventListener("resize",l,{passive:!0}),{...Rs(o),update:u,ssr:!!t}}const Yo=W({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Ti(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();const n=$e(Uv);if(!n)throw new Error("Could not find Vuetify display injection");const i=C(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const s=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<s}),r=C(()=>t?{[`${t}--mobile`]:i.value}:{});return{...n,displayClasses:r,mobile:i}}const nR=Symbol.for("vuetify:goto");function iR(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function nW(e){return u_(e)??(document.scrollingElement||document.body)}function u_(e){return typeof e=="string"?document.querySelector(e):Zy(e)}function pg(e,t,n){if(typeof e=="number")return t&&n?-e:e;let i=u_(e),r=0;for(;i;)r+=t?i.offsetLeft:i.offsetTop,i=i.offsetParent;return r}function iW(e,t){return{rtl:t.isRtl,options:Vn(iR(),e)}}async function z0(e,t,n,i){const r=n?"scrollLeft":"scrollTop",s=Vn((i==null?void 0:i.options)??iR(),t),o=i==null?void 0:i.rtl.value,a=(typeof e=="number"?e:u_(e))??0,l=s.container==="parent"&&a instanceof HTMLElement?a.parentElement:nW(s.container),u=typeof s.easing=="function"?s.easing:s.patterns[s.easing];if(!u)throw new TypeError(`Easing function "${s.easing}" not found.`);let c;if(typeof a=="number")c=pg(a,n,o);else if(c=pg(a,n,o)-pg(l,n,o),s.layout){const p=window.getComputedStyle(a).getPropertyValue("--v-layout-top");p&&(c-=parseInt(p,10))}c+=s.offset,c=sW(l,c,!!o,!!n);const d=l[r]??0;if(c===d)return Promise.resolve(c);const h=performance.now();return new Promise(m=>requestAnimationFrame(function p(v){const A=(v-h)/s.duration,P=Math.floor(d+(c-d)*u(Ft(A,0,1)));if(l[r]=P,A>=1&&Math.abs(P-l[r])<10)return m(c);if(A>2)return m(l[r]);requestAnimationFrame(p)}))}function rW(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=$e(nR),{isRtl:n}=Xt();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const i={...t,rtl:C(()=>t.rtl.value||n.value)};async function r(s,o){return z0(s,Vn(e,o),!1,i)}return r.horizontal=async(s,o)=>z0(s,Vn(e,o),!0,i),r}function sW(e,t,n,i){const{scrollWidth:r,scrollHeight:s}=e,[o,a]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,u;return i?n?(l=-(r-o),u=0):(l=0,u=r-o):(l=0,u=s+-a),Math.max(Math.min(t,u),l)}const oW={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},aW={component:e=>zi(Uh,{...e,class:"mdi"})},Oe=[String,Function,Object,Array],Hv=Symbol.for("vuetify:icons"),$h=W({icon:{type:Oe},tag:{type:String,required:!0}},"icon"),jv=ne()({name:"VComponentIcon",props:$h(),setup(e,t){let{slots:n}=t;return()=>{const i=e.icon;return g(e.tag,null,{default:()=>{var r;return[e.icon?g(i,null,null):(r=n.default)==null?void 0:r.call(n)]}})}}}),c_=ui({name:"VSvgIcon",inheritAttrs:!1,props:$h(),setup(e,t){let{attrs:n}=t;return()=>g(e.tag,ae(n,{style:null}),{default:()=>[g("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(i=>Array.isArray(i)?g("path",{d:i[0],"fill-opacity":i[1]},null):g("path",{d:i},null)):g("path",{d:e.icon},null)])]})}}),lW=ui({name:"VLigatureIcon",props:$h(),setup(e){return()=>g(e.tag,null,{default:()=>[e.icon]})}}),Uh=ui({name:"VClassIcon",props:$h(),setup(e){return()=>g(e.tag,{class:e.icon},null)}});function uW(){return{svg:{component:c_},class:{component:Uh}}}function cW(e){const t=uW(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=aW),Vn({defaultSet:n,sets:t,aliases:{...oW,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const dW=e=>{const t=$e(Hv);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:C(()=>{var l;const i=gt(e);if(!i)return{component:jv};let r=i;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=(l=t.aliases)==null?void 0:l[r.slice(1)])),Array.isArray(r))return{component:c_,icon:r};if(typeof r!="string")return{component:jv,icon:r};const s=Object.keys(t.sets).find(u=>typeof r=="string"&&r.startsWith(`${u}:`)),o=s?r.slice(s.length+1):r;return{component:t.sets[s??t.defaultSet].component,icon:o}})}},tc=Symbol.for("vuetify:theme"),Ye=W({theme:String},"theme");function W0(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function fW(){var i,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W0();const t=W0();if(!e)return{...t,isDisabled:!0};const n={};for(const[s,o]of Object.entries(e.themes??{})){const a=o.dark||s==="dark"?(i=t.themes)==null?void 0:i.dark:(r=t.themes)==null?void 0:r.light;n[s]=Vn(a,o)}return Vn(t,{...e,themes:n})}function hW(e){const t=fW(e),n=le(t.defaultTheme),i=le(t.themes),r=C(()=>{const c={};for(const[d,h]of Object.entries(i.value)){const m=c[d]={...h,colors:{...h.colors}};if(t.variations)for(const p of t.variations.colors){const v=m.colors[p];if(v)for(const y of["lighten","darken"]){const A=y==="lighten"?q9:Y9;for(const P of er(t.variations[y],1))m.colors[`${p}-${y}-${P}`]=Ux(A(_i(v),P))}}for(const p of Object.keys(m.colors)){if(/^on-[a-z]/.test(p)||m.colors[`on-${p}`])continue;const v=`on-${p}`,y=_i(m.colors[p]);m.colors[v]=Wx(y)}}return c}),s=C(()=>r.value[n.value]),o=C(()=>{var p;const c=[];(p=s.value)!=null&&p.dark&&Qs(c,":root",["color-scheme: dark"]),Qs(c,":root",G0(s.value));for(const[v,y]of Object.entries(r.value))Qs(c,`.v-theme--${v}`,[`color-scheme: ${y.dark?"dark":"normal"}`,...G0(y)]);const d=[],h=[],m=new Set(Object.values(r.value).flatMap(v=>Object.keys(v.colors)));for(const v of m)/^on-[a-z]/.test(v)?Qs(h,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(Qs(d,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),Qs(h,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),Qs(h,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return c.push(...d,...h),c.map((v,y)=>y===0?v:`    ${v}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(c){if(t.isDisabled)return;const d=c._context.provides.usehead;if(d)if(d.push){const m=d.push(a);lt&&_e(o,()=>{m.patch(a)})}else lt?(d.addHeadObjs(C(a)),Nt(()=>d.updateDOM())):d.addHeadObjs(a());else{let p=function(){if(typeof document<"u"&&!m){const v=document.createElement("style");v.type="text/css",v.id="vuetify-theme-stylesheet",t.cspNonce&&v.setAttribute("nonce",t.cspNonce),m=v,document.head.appendChild(m)}m&&(m.innerHTML=o.value)};var h=p;let m=lt?document.getElementById("vuetify-theme-stylesheet"):null;lt?_e(o,p,{immediate:!0}):p()}}const u=C(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:i,current:s,computedThemes:r,themeClasses:u,styles:o,global:{name:n,current:s}}}function st(e){Ot("provideTheme");const t=$e(tc,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=C(()=>e.theme??t.name.value),i=C(()=>t.themes.value[n.value]),r=C(()=>t.isDisabled?void 0:`v-theme--${n.value}`),s={...t,name:n,current:i,themeClasses:r};return ft(tc,s),s}function rR(){Ot("useTheme");const e=$e(tc,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Qs(e,t,n){e.push(`${t} {
`,...n.map(i=>`  ${i};
`),`}
`)}function G0(e){const t=e.dark?2:1,n=e.dark?1:2,i=[];for(const[r,s]of Object.entries(e.colors)){const o=_i(s);i.push(`--v-theme-${r}: ${o.r},${o.g},${o.b}`),r.startsWith("on-")||i.push(`--v-theme-${r}-overlay-multiplier: ${Bv(s)>.18?t:n}`)}for(const[r,s]of Object.entries(e.variables)){const o=typeof s=="string"&&s.startsWith("#")?_i(s):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;i.push(`--v-${r}: ${a??s}`)}return i}function Hi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Bf(),i=le();if(lt){const r=new ResizeObserver(s=>{e==null||e(s,r),s.length&&(t==="content"?i.value=s[0].contentRect:i.value=s[0].target.getBoundingClientRect())});Sn(()=>{r.disconnect()}),_e(()=>n.el,(s,o)=>{o&&(r.unobserve(o),i.value=void 0),s&&r.observe(s)},{flush:"post"})}return{resizeRef:n,contentRect:yl(i)}}const nc=Symbol.for("vuetify:layout"),sR=Symbol.for("vuetify:layout-item"),K0=1e3,oR=W({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Qo=W({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function aR(){const e=$e(nc);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:Ke(),getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Xo(e){const t=$e(nc);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${cn()}`,i=Ot("useLayoutItem");ft(sR,{id:n});const r=ye(!1);bT(()=>r.value=!0),_T(()=>r.value=!1);const s=Ke(),{layoutItemStyles:o,layoutItemScrimStyles:a}=t.register(i,{...e,active:C(()=>r.value?!1:e.active.value),id:n});return Sn(()=>t.unregister(n)),{layoutItemStyles:o,layoutRect:t.layoutRect,layoutItemScrimStyles:a,layoutIsReady:s}}const mW=(e,t,n,i)=>{let r={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...r}}];for(const o of e){const a=t.get(o),l=n.get(o),u=i.get(o);if(!a||!l||!u)continue;const c={...r,[a.value]:parseInt(r[a.value],10)+(u.value?parseInt(l.value,10):0)};s.push({id:o,layer:c}),r=c}return s};function lR(e){const t=$e(nc,null),n=C(()=>t?t.rootZIndex.value-100:K0),i=le([]),r=rn(new Map),s=rn(new Map),o=rn(new Map),a=rn(new Map),l=rn(new Map),{resizeRef:u,contentRect:c}=Hi(),d=b0(()=>{const R=[...new Set([...o.values()].map(S=>S.value))].sort((S,w)=>S-w),V=[];for(const S of R){const w=i.value.filter(_=>{var I;return((I=o.get(_))==null?void 0:I.value)===S});V.push(...w)}return mW(V,r,s,a)}),h=C(()=>!Array.from(l.values()).some(R=>R.value)),m=C(()=>d.value[d.value.length-1].layer),p=C(()=>({"--v-layout-left":Ie(m.value.left),"--v-layout-right":Ie(m.value.right),"--v-layout-top":Ie(m.value.top),"--v-layout-bottom":Ie(m.value.bottom),...h.value?void 0:{transition:"none"}})),v=b0(()=>d.value.slice(1).map((R,V)=>{let{id:S}=R;const{layer:w}=d.value[V],_=s.get(S),I=r.get(S);return{id:S,...w,size:Number(_.value),position:I.value}})),y=R=>v.value.find(V=>V.id===R),A=Ot("createLayout"),P=Ke();ft(nc,{register:(R,V)=>{let{id:S,order:w,position:_,layoutSize:I,elementSize:E,active:T,disableTransitions:x,absolute:B}=V;o.set(S,w),r.set(S,_),s.set(S,I),a.set(S,T),x&&l.set(S,x);const $=Ra(sR,A==null?void 0:A.vnode).indexOf(R);$>-1?i.value.splice($,0,S):i.value.push(S);const K=C(()=>v.value.findIndex(G=>G.id===S)),F=C(()=>n.value+d.value.length*2-K.value*2),q=C(()=>{const G=_.value==="left"||_.value==="right",te=_.value==="right",ce=_.value==="bottom",Se=E.value??I.value,he=Se===0?"%":"px",oe={[_.value]:0,zIndex:F.value,transform:`translate${G?"X":"Y"}(${(T.value?0:-(Se===0?100:Se))*(te||ce?-1:1)}${he})`,position:B.value||n.value!==K0?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(K.value<0)throw new Error(`Layout item "${S}" is missing`);const j=v.value[K.value];if(!j)throw new Error(`[Vuetify] Could not find layout item "${S}"`);return{...oe,height:G?`calc(100% - ${j.top}px - ${j.bottom}px)`:E.value?`${E.value}px`:void 0,left:te?void 0:`${j.left}px`,right:te?`${j.right}px`:void 0,top:_.value!=="bottom"?`${j.top}px`:void 0,bottom:_.value!=="top"?`${j.bottom}px`:void 0,width:G?E.value?`${E.value}px`:void 0:`calc(100% - ${j.left}px - ${j.right}px)`}}),H=C(()=>({zIndex:F.value-1}));return{layoutItemStyles:q,layoutItemScrimStyles:H,zIndex:F}},unregister:R=>{o.delete(R),r.delete(R),s.delete(R),a.delete(R),l.delete(R),i.value=i.value.filter(V=>V!==R)},mainRect:m,mainStyles:p,getLayoutItem:y,items:v,layoutRect:c,rootZIndex:n,layoutIsReady:P});const D=C(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),N=C(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:D,layoutStyles:N,getLayoutItem:y,items:v,layoutRect:c,layoutIsReady:P,layoutRef:u}}function uR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,i=Vn(t,n),{aliases:r={},components:s={},directives:o={}}=i,a=J9(i.defaults),l=tW(i.display,i.ssr),u=hW(i.theme),c=cW(i.icons),d=u3(i.locale),h=J3(i.date,d),m=iW(i.goTo,d);return{install:v=>{for(const y in o)v.directive(y,o[y]);for(const y in s)v.component(y,s[y]);for(const y in r)v.component(y,ui({...r[y],name:y,aliasName:r[y].name}));if(u.install(v),v.provide(dl,a),v.provide(Uv,l),v.provide(tc,u),v.provide(Hv,c),v.provide(fl,d),v.provide(eR,h.options),v.provide(B0,h.instance),v.provide(nR,m),lt&&i.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:y}=v;v.mount=function(){const A=y(...arguments);return Ke(()=>l.update()),v.mount=y,A}}cn.reset(),v.mixin({computed:{$vuetify(){return rn({defaults:_a.call(this,dl),display:_a.call(this,Uv),theme:_a.call(this,tc),icons:_a.call(this,Hv),locale:_a.call(this,fl),date:_a.call(this,B0)})}}})},defaults:a,display:l,theme:u,icons:c,locale:d,date:h,goTo:m}}const gW="3.6.13";uR.version=gW;function _a(e){var i,r;const t=this.$,n=((i=t.parent)==null?void 0:i.provides)??((r=t.vnode.appContext)==null?void 0:r.provides);if(n&&e in n)return n[e]}const vW=W({...Ee(),...oR({fullHeight:!0}),...Ye()},"VApp"),pW=ne()({name:"VApp",props:vW(),setup(e,t){let{slots:n}=t;const i=st(e),{layoutClasses:r,getLayoutItem:s,items:o,layoutRef:a}=lR(e),{rtlClasses:l}=Xt();return se(()=>g("div",{ref:a,class:["v-application",i.themeClasses.value,r.value,l.value,e.class],style:[e.style]},[g("div",{class:"v-application__wrap"},[g($T,null,{default:()=>{var u;return[g(Ae,null,[(u=n.default)==null?void 0:u.call(n)])]}})])])),{getLayoutItem:s,items:o,theme:i}}}),Ue=W({tag:{type:String,default:"div"}},"tag"),cR=W({text:String,...Ee(),...Ue()},"VToolbarTitle"),d_=ne()({name:"VToolbarTitle",props:cR(),setup(e,t){let{slots:n}=t;return se(()=>{const i=!!(n.default||n.text||e.text);return g(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[i&&g("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(r=n.default)==null?void 0:r.call(n)])]}})}),{}}}),yW=W({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function ci(e,t,n){return ne()({name:e,props:yW({mode:n,origin:t}),setup(i,r){let{slots:s}=r;const o={onBeforeEnter(a){i.origin&&(a.style.transformOrigin=i.origin)},onLeave(a){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:d}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${u}px`,a.style.width=`${c}px`,a.style.height=`${d}px`}i.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(i.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:u,left:c,width:d,height:h}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=u||"",a.style.left=c||"",a.style.width=d||"",a.style.height=h||""}}};return()=>{const a=i.group?Wp:ir;return zi(a,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:o},s.default)}}})}function dR(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ne()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,r){let{slots:s}=r;const o=i.group?Wp:ir;return()=>zi(o,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:t},s.default)}})}function fR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=ri(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[i]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[i]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(o){e&&o._parent&&o._parent.classList.remove(e),s(o)}function s(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const _W=W({target:[Object,Array]},"v-dialog-transition"),Hh=ne()({name:"VDialogTransition",props:_W(),setup(e,t){let{slots:n}=t;const i={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,s){var h;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),r.style.visibility="";const{x:o,y:a,sx:l,sy:u,speed:c}=Y0(e.target,r),d=uo(r,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:n3});(h=q0(r))==null||h.forEach(m=>{uo(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:ec})}),d.finished.then(()=>s())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,s){var h;await new Promise(m=>requestAnimationFrame(m));const{x:o,y:a,sx:l,sy:u,speed:c}=Y0(e.target,r);uo(r,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:i3}).finished.then(()=>s()),(h=q0(r))==null||h.forEach(m=>{uo(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:ec})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?g(ir,ae({name:"dialog-transition"},i,{css:!1}),n):g(ir,{name:"dialog-transition"},n)}});function q0(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function Y0(e,t){const n=Nx(e),i=i_(t),[r,s]=getComputedStyle(t).transformOrigin.split(" ").map(A=>parseFloat(A)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||a==="top"?u-=n.height/2:(o==="bottom"||a==="bottom")&&(u+=n.height/2);const c=n.width/i.width,d=n.height/i.height,h=Math.max(1,c,d),m=c/h||0,p=d/h||0,v=i.width*i.height/(window.innerWidth*window.innerHeight),y=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:l-(r+i.left),y:u-(s+i.top),sx:m,sy:p,speed:y}}const bW=ci("fab-transition","center center","out-in"),wW=ci("dialog-bottom-transition"),IW=ci("dialog-top-transition"),ic=ci("fade-transition"),f_=ci("scale-transition"),SW=ci("scroll-x-transition"),EW=ci("scroll-x-reverse-transition"),TW=ci("scroll-y-transition"),CW=ci("scroll-y-reverse-transition"),kW=ci("slide-x-transition"),AW=ci("slide-x-reverse-transition"),h_=ci("slide-y-transition"),PW=ci("slide-y-reverse-transition"),jh=dR("expand-transition",fR()),m_=dR("expand-x-transition",fR("",!0)),xW=W({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Ge=ne(!1)({name:"VDefaultsProvider",props:xW(),setup(e,t){let{slots:n}=t;const{defaults:i,disabled:r,reset:s,root:o,scoped:a}=Rs(e);return Rt(i,{reset:s,root:o,scoped:a,disabled:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),Jt=W({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Zt(e){return{dimensionStyles:C(()=>{const n={},i=Ie(e.height),r=Ie(e.maxHeight),s=Ie(e.maxWidth),o=Ie(e.minHeight),a=Ie(e.minWidth),l=Ie(e.width);return i!=null&&(n.height=i),r!=null&&(n.maxHeight=r),s!=null&&(n.maxWidth=s),o!=null&&(n.minHeight=o),a!=null&&(n.minWidth=a),l!=null&&(n.width=l),n})}}function RW(e){return{aspectStyles:C(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const hR=W({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Ee(),...Jt()},"VResponsive"),zv=ne()({name:"VResponsive",props:hR(),setup(e,t){let{slots:n}=t;const{aspectStyles:i}=RW(e),{dimensionStyles:r}=Zt(e);return se(()=>{var s;return g("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[r.value,e.style]},[g("div",{class:"v-responsive__sizer",style:i.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&g("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function g_(e){return t_(()=>{const t=[],n={};if(e.value.background)if(Fv(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&W9(e.value.background)){const i=_i(e.value.background);if(i.a==null||i.a===1){const r=Wx(i);n.color=r,n.caretColor=r}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(Fv(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function _n(e,t){const n=C(()=>({text:bt(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=g_(n);return{textColorClasses:i,textColorStyles:r}}function ht(e,t){const n=C(()=>({background:bt(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=g_(n);return{backgroundColorClasses:i,backgroundColorStyles:r}}const wt=W({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Vt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();return{roundedClasses:C(()=>{const i=bt(e)?e.value:e.rounded,r=bt(e)?e.value:e.tile,s=[];if(i===!0||i==="")s.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const o of String(i).split(" "))s.push(`rounded-${o}`);else(r||i===!1)&&s.push("rounded-0");return s})}}const Gi=W({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Dn=(e,t)=>{let{slots:n}=t;const{transition:i,disabled:r,group:s,...o}=e,{component:a=s?Wp:ir,...l}=typeof i=="object"?i:{};return zi(a,ae(typeof i=="string"?{name:r?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:r,group:s}).filter(u=>{let[c,d]=u;return d!==void 0})),o),n)};function VW(e,t){if(!Jy)return;const n=t.modifiers||{},i=t.value,{handler:r,options:s}=typeof i=="object"?i:{handler:i,options:{}},o=new IntersectionObserver(function(){var d;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(d=e._observe)==null?void 0:d[t.instance.$.uid];if(!u)return;const c=a.some(h=>h.isIntersecting);r&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&r(c,a,l),c&&n.once?mR(e,t):u.init=!0},s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function mR(e,t){var i;const n=(i=e._observe)==null?void 0:i[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Pc={mounted:VW,unmounted:mR},gR=W({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...hR(),...Ee(),...wt(),...Gi()},"VImg"),Dr=ne()({name:"VImg",directives:{intersect:Pc},props:gR(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=ht(Q(e,"color")),{roundedClasses:o}=Vt(e),a=Ot("VImg"),l=ye(""),u=le(),c=ye(e.eager?"loading":"idle"),d=ye(),h=ye(),m=C(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),p=C(()=>m.value.aspect||d.value/h.value||0);_e(()=>e.src,()=>{v(c.value!=="idle")}),_e(p,(T,x)=>{!T&&x&&u.value&&N(u.value)}),Np(()=>v());function v(T){if(!(e.eager&&T)&&!(Jy&&!T&&!e.eager)){if(c.value="loading",m.value.lazySrc){const x=new Image;x.src=m.value.lazySrc,N(x,null)}m.value.src&&Ke(()=>{var x;n("loadstart",((x=u.value)==null?void 0:x.currentSrc)||m.value.src),setTimeout(()=>{var B;if(!a.isUnmounted)if((B=u.value)!=null&&B.complete){if(u.value.naturalWidth||A(),c.value==="error")return;p.value||N(u.value,null),c.value==="loading"&&y()}else p.value||N(u.value),P()})})}}function y(){var T;a.isUnmounted||(P(),N(u.value),c.value="loaded",n("load",((T=u.value)==null?void 0:T.currentSrc)||m.value.src))}function A(){var T;a.isUnmounted||(c.value="error",n("error",((T=u.value)==null?void 0:T.currentSrc)||m.value.src))}function P(){const T=u.value;T&&(l.value=T.currentSrc||T.src)}let D=-1;Sn(()=>{clearTimeout(D)});function N(T){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const B=()=>{if(clearTimeout(D),a.isUnmounted)return;const{naturalHeight:U,naturalWidth:$}=T;U||$?(d.value=$,h.value=U):!T.complete&&c.value==="loading"&&x!=null?D=window.setTimeout(B,x):(T.currentSrc.endsWith(".svg")||T.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,h.value=1)};B()}const R=C(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),V=()=>{var B;if(!m.value.src||c.value==="idle")return null;const T=g("img",{class:["v-img__img",R.value],style:{objectPosition:e.position},src:m.value.src,srcset:m.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:y,onError:A},null),x=(B=i.sources)==null?void 0:B.call(i);return g(Dn,{transition:e.transition,appear:!0},{default:()=>[kt(x?g("picture",{class:"v-img__picture"},[x,T]):T,[[Wi,c.value==="loaded"]])]})},S=()=>g(Dn,{transition:e.transition},{default:()=>[m.value.lazySrc&&c.value!=="loaded"&&g("img",{class:["v-img__img","v-img__img--preload",R.value],style:{objectPosition:e.position},src:m.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),w=()=>i.placeholder?g(Dn,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!i.error)&&g("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,_=()=>i.error?g(Dn,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&g("div",{class:"v-img__error"},[i.error()])]}):null,I=()=>e.gradient?g("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,E=ye(!1);{const T=_e(p,x=>{x&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{E.value=!0})}),T())})}return se(()=>{const T=zv.filterProps(e);return kt(g(zv,ae({class:["v-img",{"v-img--booting":!E.value},r.value,o.value,e.class],style:[{width:Ie(e.width==="auto"?d.value:e.width)},s.value,e.style]},T,{aspectRatio:p.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>g(Ae,null,[g(V,null,null),g(S,null,null),g(I,null,null),g(w,null,null),g(_,null,null)]),default:i.default}),[[ai("intersect"),{handler:v,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:d,naturalHeight:h}}}),di=W({border:[Boolean,Number,String]},"border");function Ci(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();return{borderClasses:C(()=>{const i=bt(e)?e.value:e.border,r=[];if(i===!0||i==="")r.push(`${t}--border`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))r.push(`border-${s}`);return r})}}const Gt=W({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function dn(e){return{elevationClasses:C(()=>{const n=bt(e)?e.value:e.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const DW=[null,"prominent","default","comfortable","compact"],vR=W({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>DW.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...di(),...Ee(),...Gt(),...wt(),...Ue({tag:"header"}),...Ye()},"VToolbar"),Wv=ne()({name:"VToolbar",props:vR(),setup(e,t){var m;let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=ht(Q(e,"color")),{borderClasses:s}=Ci(e),{elevationClasses:o}=dn(e),{roundedClasses:a}=Vt(e),{themeClasses:l}=st(e),{rtlClasses:u}=Xt(),c=ye(!!(e.extended||(m=n.extension)!=null&&m.call(n))),d=C(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=C(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Rt({VBtn:{variant:"text"}}),se(()=>{var A;const p=!!(e.title||n.title),v=!!(n.image||e.image),y=(A=n.extension)==null?void 0:A.call(n);return c.value=!!(e.extended||y),g(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,s.value,o.value,a.value,l.value,u.value,e.class],style:[r.value,e.style]},{default:()=>[v&&g("div",{key:"image",class:"v-toolbar__image"},[n.image?g(Ge,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):g(Dr,{key:"image-img",cover:!0,src:e.image},null)]),g(Ge,{defaults:{VTabs:{height:Ie(d.value)}}},{default:()=>{var P,D,N;return[g("div",{class:"v-toolbar__content",style:{height:Ie(d.value)}},[n.prepend&&g("div",{class:"v-toolbar__prepend"},[(P=n.prepend)==null?void 0:P.call(n)]),p&&g(d_,{key:"title",text:e.title},{text:n.title}),(D=n.default)==null?void 0:D.call(n),n.append&&g("div",{class:"v-toolbar__append"},[(N=n.append)==null?void 0:N.call(n)])])]}}),g(Ge,{defaults:{VTabs:{height:Ie(h.value)}}},{default:()=>[g(jh,null,{default:()=>[c.value&&g("div",{class:"v-toolbar__extension",style:{height:Ie(h.value)}},[y])]})]})]})}),{contentHeight:d,extensionHeight:h}}}),NW=W({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function OW(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let i=0,r=0;const s=le(null),o=ye(0),a=ye(0),l=ye(0),u=ye(!1),c=ye(!1),d=C(()=>Number(e.scrollThreshold)),h=C(()=>Ft((d.value-o.value)/d.value||0)),m=()=>{const p=s.value;if(!p||n&&!n.value)return;i=o.value,o.value="window"in p?p.pageYOffset:p.scrollTop;const v=p instanceof Window?document.documentElement.scrollHeight:p.scrollHeight;if(r!==v){r=v;return}c.value=o.value<i,l.value=Math.abs(o.value-d.value)};return _e(c,()=>{a.value=a.value||o.value}),_e(u,()=>{a.value=0}),In(()=>{_e(()=>e.scrollTarget,p=>{var y;const v=p?document.querySelector(p):window;v&&v!==s.value&&((y=s.value)==null||y.removeEventListener("scroll",m),s.value=v,s.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),Sn(()=>{var p;(p=s.value)==null||p.removeEventListener("scroll",m)}),n&&_e(n,m,{immediate:!0}),{scrollThreshold:d,currentScroll:o,currentThreshold:l,isScrollActive:u,scrollRatio:h,isScrollingUp:c,savedScroll:a}}function Jo(){const e=ye(!1);return In(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:C(()=>e.value?void 0:{transition:"none !important"}),isBooted:yl(e)}}const MW=W({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...vR(),...Qo(),...NW(),height:{type:[Number,String],default:64}},"VAppBar"),LW=ne()({name:"VAppBar",props:MW(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=le(),r=xe(e,"modelValue"),s=C(()=>{var N;const D=new Set(((N=e.scrollBehavior)==null?void 0:N.split(" "))??[]);return{hide:D.has("hide"),fullyHide:D.has("fully-hide"),inverted:D.has("inverted"),collapse:D.has("collapse"),elevate:D.has("elevate"),fadeImage:D.has("fade-image")}}),o=C(()=>{const D=s.value;return D.hide||D.fullyHide||D.inverted||D.collapse||D.elevate||D.fadeImage||!r.value}),{currentScroll:a,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=OW(e,{canScroll:o}),d=C(()=>s.value.hide||s.value.fullyHide),h=C(()=>e.collapse||s.value.collapse&&(s.value.inverted?c.value>0:c.value===0)),m=C(()=>e.flat||s.value.fullyHide&&!r.value||s.value.elevate&&(s.value.inverted?a.value>0:a.value===0)),p=C(()=>s.value.fadeImage?s.value.inverted?1-c.value:c.value:void 0),v=C(()=>{var R,V;const D=Number(((R=i.value)==null?void 0:R.contentHeight)??e.height),N=Number(((V=i.value)==null?void 0:V.extensionHeight)??0);return d.value?a.value<l.value||s.value.fullyHide?D+N:D:D+N});Gn(C(()=>!!e.scrollBehavior),()=>{Nt(()=>{d.value?s.value.inverted?r.value=a.value>l.value:r.value=u.value||a.value<l.value:r.value=!0})});const{ssrBootStyles:y}=Jo(),{layoutItemStyles:A,layoutIsReady:P}=Xo({id:e.name,order:C(()=>parseInt(e.order,10)),position:Q(e,"location"),layoutSize:v,elementSize:ye(void 0),active:r,absolute:Q(e,"absolute")});return se(()=>{const D=Wv.filterProps(e);return g(Wv,ae({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...A.value,"--v-toolbar-image-opacity":p.value,height:void 0,...y.value},e.style]},D,{collapse:h.value,flat:m.value}),n)}),P}}),FW=[null,"default","comfortable","compact"],en=W({density:{type:String,default:"default",validator:e=>FW.includes(e)}},"density");function On(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();return{densityClasses:C(()=>`${t}--density-${e.density}`)}}const BW=["elevated","flat","tonal","outlined","text","plain"];function Fs(e,t){return g(Ae,null,[e&&g("span",{key:"overlay",class:`${t}__overlay`},null),g("span",{key:"underlay",class:`${t}__underlay`},null)])}const ki=W({color:String,variant:{type:String,default:"elevated",validator:e=>BW.includes(e)}},"variant");function Zo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();const n=C(()=>{const{variant:s}=gt(e);return`${t}--variant-${s}`}),{colorClasses:i,colorStyles:r}=g_(C(()=>{const{variant:s,color:o}=gt(e);return{[["elevated","flat"].includes(s)?"background":"text"]:o}}));return{colorClasses:i,colorStyles:r,variantClasses:n}}const pR=W({baseColor:String,divided:Boolean,...di(),...Ee(),...en(),...Gt(),...wt(),...Ue(),...Ye(),...ki()},"VBtnGroup"),Gv=ne()({name:"VBtnGroup",props:pR(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{densityClasses:r}=On(e),{borderClasses:s}=Ci(e),{elevationClasses:o}=dn(e),{roundedClasses:a}=Vt(e);Rt({VBtn:{height:"auto",baseColor:Q(e,"baseColor"),color:Q(e,"color"),density:Q(e,"density"),flat:!0,variant:Q(e,"variant")}}),se(()=>g(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,s.value,r.value,o.value,a.value,e.class],style:e.style},n))}}),ea=W({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),ta=W({value:null,disabled:Boolean,selectedClass:String},"group-item");function na(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Ot("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=cn();ft(Symbol.for(`${t.description}:id`),r);const s=$e(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=Q(e,"value"),a=C(()=>!!(s.disabled.value||e.disabled));s.register({id:r,value:o,disabled:a},i),Sn(()=>{s.unregister(r)});const l=C(()=>s.isSelected(r)),u=C(()=>s.items.value[0].id===r),c=C(()=>s.items.value[s.items.value.length-1].id===r),d=C(()=>l.value&&[s.selectedClass.value,e.selectedClass]);return _e(l,h=>{i.emit("group:selected",{value:h})},{flush:"sync"}),{id:r,isSelected:l,isFirst:u,isLast:c,toggle:()=>s.select(r,!l.value),select:h=>s.select(r,h),selectedClass:d,value:o,disabled:a,group:s}}function Bs(e,t){let n=!1;const i=rn([]),r=xe(e,"modelValue",[],h=>h==null?[]:yR(i,Tt(h)),h=>{const m=UW(i,h);return e.multiple?m:m[0]}),s=Ot("useGroup");function o(h,m){const p=h,v=Symbol.for(`${t.description}:id`),A=Ra(v,s==null?void 0:s.vnode).indexOf(m);gt(p.value)==null&&(p.value=A,p.useIndexAsValue=!0),A>-1?i.splice(A,0,p):i.push(p)}function a(h){if(n)return;l();const m=i.findIndex(p=>p.id===h);i.splice(m,1)}function l(){const h=i.find(m=>!m.disabled);h&&e.mandatory==="force"&&!r.value.length&&(r.value=[h.id])}In(()=>{l()}),Sn(()=>{n=!0}),Op(()=>{for(let h=0;h<i.length;h++)i[h].useIndexAsValue&&(i[h].value=h)});function u(h,m){const p=i.find(v=>v.id===h);if(!(m&&(p!=null&&p.disabled)))if(e.multiple){const v=r.value.slice(),y=v.findIndex(P=>P===h),A=~y;if(m=m??!A,A&&e.mandatory&&v.length<=1||!A&&e.max!=null&&v.length+1>e.max)return;y<0&&m?v.push(h):y>=0&&!m&&v.splice(y,1),r.value=v}else{const v=r.value.includes(h);if(e.mandatory&&v)return;r.value=m??!v?[h]:[]}}function c(h){if(e.multiple,r.value.length){const m=r.value[0],p=i.findIndex(A=>A.id===m);let v=(p+h)%i.length,y=i[v];for(;y.disabled&&v!==p;)v=(v+h)%i.length,y=i[v];if(y.disabled)return;r.value=[i[v].id]}else{const m=i.find(p=>!p.disabled);m&&(r.value=[m.id])}}const d={register:o,unregister:a,selected:r,select:u,disabled:Q(e,"disabled"),prev:()=>c(i.length-1),next:()=>c(1),isSelected:h=>r.value.includes(h),selectedClass:C(()=>e.selectedClass),items:C(()=>i),getItemIndex:h=>$W(i,h)};return ft(t,d),d}function $W(e,t){const n=yR(e,[t]);return n.length?e.findIndex(i=>i.id===n[0]):-1}function yR(e,t){const n=[];return t.forEach(i=>{const r=e.find(o=>cr(i,o.value)),s=e[i];(r==null?void 0:r.value)!=null?n.push(r.id):s!=null&&n.push(s.id)}),n}function UW(e,t){const n=[];return t.forEach(i=>{const r=e.findIndex(s=>s.id===i);if(~r){const s=e[r];n.push(s.value!=null?s.value:r)}}),n}const v_=Symbol.for("vuetify:v-btn-toggle"),HW=W({...pR(),...ea()},"VBtnToggle"),jW=ne()({name:"VBtnToggle",props:HW(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,next:r,prev:s,select:o,selected:a}=Bs(e,v_);return se(()=>{const l=Gv.filterProps(e);return g(Gv,ae({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:r,prev:s,select:o,selected:a})]}})}),{next:r,prev:s,select:o}}}),zW=["x-small","small","default","large","x-large"],hr=W({size:{type:[String,Number],default:"default"}},"size");function kl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();return t_(()=>{let n,i;return Ff(zW,e.size)?n=`${t}--size-${e.size}`:e.size&&(i={width:Ie(e.size),height:Ie(e.size)}),{sizeClasses:n,sizeStyles:i}})}const WW=W({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Oe,...Ee(),...hr(),...Ue({tag:"i"}),...Ye()},"VIcon"),rt=ne()({name:"VIcon",props:WW(),setup(e,t){let{attrs:n,slots:i}=t;const r=le(),{themeClasses:s}=st(e),{iconData:o}=dW(C(()=>r.value||e.icon)),{sizeClasses:a}=kl(e),{textColorClasses:l,textColorStyles:u}=_n(Q(e,"color"));return se(()=>{var h,m;const c=(h=i.default)==null?void 0:h.call(i);c&&(r.value=(m=Px(c).filter(p=>p.type===mc&&p.children&&typeof p.children=="string")[0])==null?void 0:m.children);const d=!!(n.onClick||n.onClickOnce);return g(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",s.value,a.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[a.value?void 0:{fontSize:Ie(e.size),height:Ie(e.size),width:Ie(e.size)},u.value,e.style],role:d?"button":void 0,"aria-hidden":!d,tabindex:d?e.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function zh(e,t){const n=le(),i=ye(!1);if(Jy){const r=new IntersectionObserver(s=>{e==null||e(s,r),i.value=!!s.find(o=>o.isIntersecting)},t);Sn(()=>{r.disconnect()}),_e(n,(s,o)=>{o&&(r.unobserve(o),i.value=!1),s&&r.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const GW=W({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ee(),...hr(),...Ue({tag:"div"}),...Ye()},"VProgressCircular"),hl=ne()({name:"VProgressCircular",props:GW(),setup(e,t){let{slots:n}=t;const i=20,r=2*Math.PI*i,s=le(),{themeClasses:o}=st(e),{sizeClasses:a,sizeStyles:l}=kl(e),{textColorClasses:u,textColorStyles:c}=_n(Q(e,"color")),{textColorClasses:d,textColorStyles:h}=_n(Q(e,"bgColor")),{intersectionRef:m,isIntersecting:p}=zh(),{resizeRef:v,contentRect:y}=Hi(),A=C(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),P=C(()=>Number(e.width)),D=C(()=>l.value?Number(e.size):y.value?y.value.width:Math.max(P.value,32)),N=C(()=>i/(1-P.value/D.value)*2),R=C(()=>P.value/D.value*N.value),V=C(()=>Ie((100-A.value)/100*r));return Nt(()=>{m.value=s.value,v.value=s.value}),se(()=>g(e.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:A.value},{default:()=>[g("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${N.value} ${N.value}`},[g("circle",{class:["v-progress-circular__underlay",d.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":R.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),g("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":R.value,"stroke-dasharray":r,"stroke-dashoffset":V.value},null)]),n.default&&g("div",{class:"v-progress-circular__content"},[n.default({value:A.value})])]})),{}}}),Q0={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},$r=W({location:String},"location");function ia(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Xt();return{locationStyles:C(()=>{if(!e.location)return{};const{side:s,align:o}=Mv(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function a(u){return n?n(u):0}const l={};return s!=="center"&&(t?l[Q0[s]]=`calc(100% - ${a(s)}px)`:l[s]=0),o!=="center"?t?l[Q0[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const KW=W({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ee(),...$r({location:"top"}),...wt(),...Ue(),...Ye()},"VProgressLinear"),Wh=ne()({name:"VProgressLinear",props:KW(),emits:{"update:modelValue":e=>!0},setup(e,t){var E;let{slots:n}=t;const i=xe(e,"modelValue"),{isRtl:r,rtlClasses:s}=Xt(),{themeClasses:o}=st(e),{locationStyles:a}=ia(e),{textColorClasses:l,textColorStyles:u}=_n(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:d}=ht(C(()=>e.bgColor||e.color)),{backgroundColorClasses:h,backgroundColorStyles:m}=ht(C(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:p,backgroundColorStyles:v}=ht(e,"color"),{roundedClasses:y}=Vt(e),{intersectionRef:A,isIntersecting:P}=zh(),D=C(()=>parseFloat(e.max)),N=C(()=>parseFloat(e.height)),R=C(()=>Ft(parseFloat(e.bufferValue)/D.value*100,0,100)),V=C(()=>Ft(parseFloat(i.value)/D.value*100,0,100)),S=C(()=>r.value!==e.reverse),w=C(()=>e.indeterminate?"fade-transition":"slide-x-transition"),_=lt&&((E=window.matchMedia)==null?void 0:E.call(window,"(forced-colors: active)").matches);function I(T){if(!A.value)return;const{left:x,right:B,width:U}=A.value.getBoundingClientRect(),$=S.value?U-T.clientX+(B-U):T.clientX-x;i.value=Math.round($/U*D.value)}return se(()=>g(e.tag,{ref:A,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&P.value,"v-progress-linear--reverse":S.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},y.value,o.value,s.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Ie(N.value):0,"--v-progress-linear-height":Ie(N.value),...e.absolute?a.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:V.value,onClick:e.clickable&&I},{default:()=>[e.stream&&g("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[S.value?"left":"right"]:Ie(-N.value),borderTop:`${Ie(N.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Ie(N.value/4)})`,width:Ie(100-R.value,"%"),"--v-progress-linear-stream-to":Ie(N.value*(S.value?1:-1))}},null),g("div",{class:["v-progress-linear__background",_?void 0:c.value],style:[d.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),g("div",{class:["v-progress-linear__buffer",_?void 0:h.value],style:[m.value,{opacity:parseFloat(e.bufferOpacity),width:Ie(R.value,"%")}]},null),g(ir,{name:w.value},{default:()=>[e.indeterminate?g("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(T=>g("div",{key:T,class:["v-progress-linear__indeterminate",T,_?void 0:p.value],style:v.value},null))]):g("div",{class:["v-progress-linear__determinate",_?void 0:p.value],style:[v.value,{width:Ie(V.value,"%")}]},null)]}),n.default&&g("div",{class:"v-progress-linear__content"},[n.default({value:V.value,buffer:R.value})])]})),{}}}),Gh=W({loading:[Boolean,String]},"loader");function xc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();return{loaderClasses:C(()=>({[`${t}--loading`]:e.loading}))}}function Rc(e,t){var i;let{slots:n}=t;return g("div",{class:`${e.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:e.color,isActive:e.active}))||g(Wh,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const qW=["static","relative","fixed","absolute","sticky"],Al=W({position:{type:String,validator:e=>qW.includes(e)}},"position");function Pl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();return{positionClasses:C(()=>e.position?`${t}--${e.position}`:void 0)}}function YW(){const e=Ot("useRoute");return C(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function _R(){var e,t;return(t=(e=Ot("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Vc(e,t){var u,c;const n=_N("RouterLink"),i=C(()=>!!(e.href||e.to)),r=C(()=>(i==null?void 0:i.value)||_0(t,"click")||_0(e,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:i,isClickable:r,href:Q(e,"href")};const s=C(()=>({...e,to:Q(()=>e.to||"")})),o=n.useLink(s.value),a=C(()=>e.to?o:void 0),l=YW();return{isLink:i,isClickable:r,route:(u=a.value)==null?void 0:u.route,navigate:(c=a.value)==null?void 0:c.navigate,isActive:C(()=>{var d,h,m;return a.value?e.exact?l.value?((m=a.value.isExactActive)==null?void 0:m.value)&&cr(a.value.route.value.query,l.value.query):((h=a.value.isExactActive)==null?void 0:h.value)??!1:((d=a.value.isActive)==null?void 0:d.value)??!1:!1}),href:C(()=>{var d;return e.to?(d=a.value)==null?void 0:d.route.value.href:e.href})}}const Dc=W({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let yg=!1;function QW(e,t){let n=!1,i,r;lt&&(Ke(()=>{window.addEventListener("popstate",s),i=e==null?void 0:e.beforeEach((o,a,l)=>{yg?n?t(l):l():setTimeout(()=>n?t(l):l()),yg=!0}),r=e==null?void 0:e.afterEach(()=>{yg=!1})}),wn(()=>{window.removeEventListener("popstate",s),i==null||i(),r==null||r()}));function s(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function XW(e,t){_e(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Ke(()=>{t(!0)})},{immediate:!0})}const Kv=Symbol("rippleStop"),JW=80;function X0(e,t){e.style.transform=t,e.style.webkitTransform=t}function qv(e){return e.constructor.name==="TouchEvent"}function bR(e){return e.constructor.name==="KeyboardEvent"}const ZW=function(e,t){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!bR(e)){const h=t.getBoundingClientRect(),m=qv(e)?e.touches[e.touches.length-1]:e;i=m.clientX-h.left,r=m.clientY-h.top}let s=0,o=.3;(d=t._ripple)!=null&&d.circle?(o=.15,s=t.clientWidth/2,s=n.center?s:s+Math.sqrt((i-s)**2+(r-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const a=`${(t.clientWidth-s*2)/2}px`,l=`${(t.clientHeight-s*2)/2}px`,u=n.center?a:`${i-s}px`,c=n.center?l:`${r-s}px`;return{radius:s,scale:o,x:u,y:c,centerX:a,centerY:l}},jf={show(e,t){var m;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((m=t==null?void 0:t._ripple)!=null&&m.enabled))return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:s,scale:o,x:a,y:l,centerX:u,centerY:c}=ZW(e,t,n),d=`${s*2}px`;r.className="v-ripple__animation",r.style.width=d,r.style.height=d,t.appendChild(i);const h=window.getComputedStyle(t);h&&h.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),X0(r,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),X0(r,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var s;if(!((s=e==null?void 0:e._ripple)!=null&&s.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===e&&e.removeChild(n.parentNode)},300)},r)}};function wR(e){return typeof e>"u"||!!e}function rc(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[Kv])){if(e[Kv]=!0,qv(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||bR(e),n._ripple.class&&(t.class=n._ripple.class),qv(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{jf.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},JW)}else jf.show(e,n,t)}}function J0(e){e[Kv]=!0}function ei(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{ei(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),jf.hide(t)}}function IR(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let sc=!1;function SR(e){!sc&&(e.keyCode===m0.enter||e.keyCode===m0.space)&&(sc=!0,rc(e))}function ER(e){sc=!1,ei(e)}function TR(e){sc&&(sc=!1,ei(e))}function CR(e,t,n){const{value:i,modifiers:r}=t,s=wR(i);if(s||jf.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=s,e._ripple.centered=r.center,e._ripple.circle=r.circle,Ju(i)&&i.class&&(e._ripple.class=i.class),s&&!n){if(r.stop){e.addEventListener("touchstart",J0,{passive:!0}),e.addEventListener("mousedown",J0);return}e.addEventListener("touchstart",rc,{passive:!0}),e.addEventListener("touchend",ei,{passive:!0}),e.addEventListener("touchmove",IR,{passive:!0}),e.addEventListener("touchcancel",ei),e.addEventListener("mousedown",rc),e.addEventListener("mouseup",ei),e.addEventListener("mouseleave",ei),e.addEventListener("keydown",SR),e.addEventListener("keyup",ER),e.addEventListener("blur",TR),e.addEventListener("dragstart",ei,{passive:!0})}else!s&&n&&kR(e)}function kR(e){e.removeEventListener("mousedown",rc),e.removeEventListener("touchstart",rc),e.removeEventListener("touchend",ei),e.removeEventListener("touchmove",IR),e.removeEventListener("touchcancel",ei),e.removeEventListener("mouseup",ei),e.removeEventListener("mouseleave",ei),e.removeEventListener("keydown",SR),e.removeEventListener("keyup",ER),e.removeEventListener("dragstart",ei),e.removeEventListener("blur",TR)}function eG(e,t){CR(e,t,!1)}function tG(e){delete e._ripple,kR(e)}function nG(e,t){if(t.value===t.oldValue)return;const n=wR(t.oldValue);CR(e,t,n)}const Ur={mounted:eG,unmounted:tG,updated:nG},Kh=W({active:{type:Boolean,default:void 0},baseColor:String,symbol:{type:null,default:v_},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Oe,appendIcon:Oe,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...di(),...Ee(),...en(),...Jt(),...Gt(),...ta(),...Gh(),...$r(),...Al(),...wt(),...Dc(),...hr(),...Ue({tag:"button"}),...Ye(),...ki({variant:"elevated"})},"VBtn"),it=ne()({name:"VBtn",props:Kh(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=st(e),{borderClasses:s}=Ci(e),{densityClasses:o}=On(e),{dimensionStyles:a}=Zt(e),{elevationClasses:l}=dn(e),{loaderClasses:u}=xc(e),{locationStyles:c}=ia(e),{positionClasses:d}=Pl(e),{roundedClasses:h}=Vt(e),{sizeClasses:m,sizeStyles:p}=kl(e),v=na(e,e.symbol,!1),y=Vc(e,n),A=C(()=>{var I;return e.active!==void 0?e.active:y.isLink.value?(I=y.isActive)==null?void 0:I.value:v==null?void 0:v.isSelected.value}),P=C(()=>{var E,T;return{color:(v==null?void 0:v.isSelected.value)&&(!y.isLink.value||((E=y.isActive)==null?void 0:E.value))||!v||((T=y.isActive)==null?void 0:T.value)?e.color??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:D,colorStyles:N,variantClasses:R}=Zo(P),V=C(()=>(v==null?void 0:v.disabled.value)||e.disabled),S=C(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),w=C(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function _(I){var E;V.value||y.isLink.value&&(I.metaKey||I.ctrlKey||I.shiftKey||I.button!==0||n.target==="_blank")||((E=y.navigate)==null||E.call(y,I),v==null||v.toggle())}return XW(y,v==null?void 0:v.select),se(()=>{const I=y.isLink.value?"a":e.tag,E=!!(e.prependIcon||i.prepend),T=!!(e.appendIcon||i.append),x=!!(e.icon&&e.icon!==!0);return kt(g(I,{type:I==="a"?void 0:"button",class:["v-btn",v==null?void 0:v.selectedClass.value,{"v-btn--active":A.value,"v-btn--block":e.block,"v-btn--disabled":V.value,"v-btn--elevated":S.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},r.value,s.value,D.value,o.value,l.value,u.value,d.value,h.value,m.value,R.value,e.class],style:[N.value,a.value,c.value,p.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:V.value||void 0,href:y.href.value,tabindex:e.loading||e.readonly?-1:void 0,onClick:_,value:w.value},{default:()=>{var B;return[Fs(!0,"v-btn"),!e.icon&&E&&g("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?g(Ge,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):g(rt,{key:"prepend-icon",icon:e.prependIcon},null)]),g("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&x?g(rt,{key:"content-icon",icon:e.icon},null):g(Ge,{key:"content-defaults",disabled:!x,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var U;return[((U=i.default)==null?void 0:U.call(i))??e.text]}})]),!e.icon&&T&&g("span",{key:"append",class:"v-btn__append"},[i.append?g(Ge,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):g(rt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&g("span",{key:"loader",class:"v-btn__loader"},[((B=i.loader)==null?void 0:B.call(i))??g(hl,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Ur,!V.value&&!!e.ripple,"",{center:!!e.icon}]])}),{group:v}}}),iG=W({...Kh({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),rG=ne()({name:"VAppBarNavIcon",props:iG(),setup(e,t){let{slots:n}=t;return se(()=>g(it,ae(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),sG=ne()({name:"VAppBarTitle",props:cR(),setup(e,t){let{slots:n}=t;return se(()=>g(d_,ae(e,{class:"v-app-bar-title"}),n)),{}}}),AR=fr("v-alert-title"),oG=["success","info","warning","error"],aG=W({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Oe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>oG.includes(e)},...Ee(),...en(),...Jt(),...Gt(),...$r(),...Al(),...wt(),...Ue(),...Ye(),...ki({variant:"flat"})},"VAlert"),lG=ne()({name:"VAlert",props:aG(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=xe(e,"modelValue"),s=C(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=C(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:a}=st(e),{colorClasses:l,colorStyles:u,variantClasses:c}=Zo(o),{densityClasses:d}=On(e),{dimensionStyles:h}=Zt(e),{elevationClasses:m}=dn(e),{locationStyles:p}=ia(e),{positionClasses:v}=Pl(e),{roundedClasses:y}=Vt(e),{textColorClasses:A,textColorStyles:P}=_n(Q(e,"borderColor")),{t:D}=Mt(),N=C(()=>({"aria-label":D(e.closeLabel),onClick(R){r.value=!1,n("click:close",R)}}));return()=>{const R=!!(i.prepend||s.value),V=!!(i.title||e.title),S=!!(i.close||e.closable);return r.value&&g(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},a.value,l.value,d.value,m.value,v.value,y.value,c.value,e.class],style:[u.value,h.value,p.value,e.style],role:"alert"},{default:()=>{var w,_;return[Fs(!1,"v-alert"),e.border&&g("div",{key:"border",class:["v-alert__border",A.value],style:P.value},null),R&&g("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?g(Ge,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},i.prepend):g(rt,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),g("div",{class:"v-alert__content"},[V&&g(AR,{key:"title"},{default:()=>{var I;return[((I=i.title)==null?void 0:I.call(i))??e.title]}}),((w=i.text)==null?void 0:w.call(i))??e.text,(_=i.default)==null?void 0:_.call(i)]),i.append&&g("div",{key:"append",class:"v-alert__append"},[i.append()]),S&&g("div",{key:"close",class:"v-alert__close"},[i.close?g(Ge,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var I;return[(I=i.close)==null?void 0:I.call(i,{props:N.value})]}}):g(it,ae({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},N.value),null)])]}})}}}),uG=W({start:Boolean,end:Boolean,icon:Oe,image:String,text:String,...Ee(),...en(),...wt(),...hr(),...Ue(),...Ye(),...ki({variant:"flat"})},"VAvatar"),Si=ne()({name:"VAvatar",props:uG(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{colorClasses:r,colorStyles:s,variantClasses:o}=Zo(e),{densityClasses:a}=On(e),{roundedClasses:l}=Vt(e),{sizeClasses:u,sizeStyles:c}=kl(e);return se(()=>g(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,r.value,a.value,l.value,u.value,o.value,e.class],style:[s.value,c.value,e.style]},{default:()=>[n.default?g(Ge,{key:"content-defaults",defaults:{VImg:{cover:!0,image:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?g(Dr,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?g(rt,{key:"icon",icon:e.icon},null):e.text,Fs(!1,"v-avatar")]})),{}}}),cG=W({text:String,onClick:ln(),...Ee(),...Ye()},"VLabel"),xl=ne()({name:"VLabel",props:cG(),setup(e,t){let{slots:n}=t;return se(()=>{var i;return g("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),PR=Symbol.for("vuetify:selection-control-group"),p_=W({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Oe,trueIcon:Oe,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:cr},...Ee(),...en(),...Ye()},"SelectionControlGroup"),dG=W({...p_({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),xR=ne()({name:"VSelectionControlGroup",props:dG(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue"),r=cn(),s=C(()=>e.id||`v-selection-control-group-${r}`),o=C(()=>e.name||s.value),a=new Set;return ft(PR,{modelValue:i,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),wn(()=>{a.delete(l)})}}),Rt({[e.defaultsTarget]:{color:Q(e,"color"),disabled:Q(e,"disabled"),density:Q(e,"density"),error:Q(e,"error"),inline:Q(e,"inline"),modelValue:i,multiple:C(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:o,falseIcon:Q(e,"falseIcon"),trueIcon:Q(e,"trueIcon"),readonly:Q(e,"readonly"),ripple:Q(e,"ripple"),type:Q(e,"type"),valueComparator:Q(e,"valueComparator")}}),se(()=>{var l;return g("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),qh=W({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ee(),...p_()},"VSelectionControl");function fG(e){const t=$e(PR,void 0),{densityClasses:n}=On(e),i=xe(e,"modelValue"),r=C(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=C(()=>e.falseValue!==void 0?e.falseValue:!1),o=C(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),a=C({get(){const m=t?t.modelValue.value:i.value;return o.value?Tt(m).some(p=>e.valueComparator(p,r.value)):e.valueComparator(m,r.value)},set(m){if(e.readonly)return;const p=m?r.value:s.value;let v=p;o.value&&(v=m?[...Tt(i.value),p]:Tt(i.value).filter(y=>!e.valueComparator(y,r.value))),t?t.modelValue.value=v:i.value=v}}),{textColorClasses:l,textColorStyles:u}=_n(C(()=>{if(!(e.error||e.disabled))return a.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:d}=ht(C(()=>a.value&&!e.error&&!e.disabled?e.color:e.baseColor)),h=C(()=>a.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:r,falseValue:s,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:h}}const ks=ne()({name:"VSelectionControl",directives:{Ripple:Ur},inheritAttrs:!1,props:qh(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{group:r,densityClasses:s,icon:o,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:h}=fG(e),m=cn(),p=ye(!1),v=ye(!1),y=le(),A=C(()=>e.id||`input-${m}`),P=C(()=>!e.disabled&&!e.readonly);r==null||r.onForceUpdate(()=>{y.value&&(y.value.checked=a.value)});function D(S){P.value&&(p.value=!0,cl(S.target,":focus-visible")!==!1&&(v.value=!0))}function N(){p.value=!1,v.value=!1}function R(S){S.stopPropagation()}function V(S){if(!P.value){y.value&&(y.value.checked=a.value);return}e.readonly&&r&&Ke(()=>r.forceUpdate()),a.value=S.target.checked}return se(()=>{var E,T;const S=i.label?i.label({label:e.label,props:{for:A.value}}):e.label,[w,_]=Ls(n),I=g("input",ae({ref:y,checked:a.value,disabled:!!e.disabled,id:A.value,onBlur:N,onFocus:D,onInput:V,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:h.value,name:e.name,"aria-checked":e.type==="checkbox"?a.value:void 0},_),null);return g("div",ae({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":p.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},s.value,e.class]},w,{style:e.style}),[g("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(E=i.default)==null?void 0:E.call(i,{backgroundColorClasses:c,backgroundColorStyles:d}),kt(g("div",{class:["v-selection-control__input"]},[((T=i.input)==null?void 0:T.call(i,{model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:I,icon:o.value,props:{onFocus:D,onBlur:N,id:A.value}}))??g(Ae,null,[o.value&&g(rt,{key:"icon",icon:o.value},null),I])]),[[ai("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),S&&g(xl,{for:A.value,onClick:R},{default:()=>[S]})])}),{isFocused:p,input:y}}}),RR=W({indeterminate:Boolean,indeterminateIcon:{type:Oe,default:"$checkboxIndeterminate"},...qh({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Nr=ne()({name:"VCheckboxBtn",props:RR(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"indeterminate"),r=xe(e,"modelValue");function s(l){i.value&&(i.value=!1)}const o=C(()=>i.value?e.indeterminateIcon:e.falseIcon),a=C(()=>i.value?e.indeterminateIcon:e.trueIcon);return se(()=>{const l=Ut(ks.filterProps(e),["modelValue"]);return g(ks,ae(l,{modelValue:r.value,"onUpdate:modelValue":[u=>r.value=u,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function VR(e){const{t}=Mt();function n(i){let{name:r}=i;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],o=e[`onClick:${r}`],a=o&&s?t(`$vuetify.input.${s}`,e.label??""):void 0;return g(rt,{icon:e[`${r}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const hG=W({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ee(),...Gi({transition:{component:h_,leaveAbsolute:!0,group:!0}})},"VMessages"),DR=ne()({name:"VMessages",props:hG(),setup(e,t){let{slots:n}=t;const i=C(()=>Tt(e.messages)),{textColorClasses:r,textColorStyles:s}=_n(C(()=>e.color));return se(()=>g(Dn,{transition:e.transition,tag:"div",class:["v-messages",r.value,e.class],style:[s.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&i.value.map((o,a)=>g("div",{class:"v-messages__message",key:`${a}-${i.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),Nc=W({focused:Boolean,"onUpdate:focused":ln()},"focus");function Hr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr();const n=xe(e,"focused"),i=C(()=>({[`${t}--focused`]:n.value}));function r(){n.value=!0}function s(){n.value=!1}return{focusClasses:i,isFocused:n,focus:r,blur:s}}const NR=Symbol.for("vuetify:form"),mG=W({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function gG(e){const t=xe(e,"modelValue"),n=C(()=>e.disabled),i=C(()=>e.readonly),r=ye(!1),s=le([]),o=le([]);async function a(){const c=[];let d=!0;o.value=[],r.value=!0;for(const h of s.value){const m=await h.validate();if(m.length>0&&(d=!1,c.push({id:h.id,errorMessages:m})),!d&&e.fastFail)break}return o.value=c,r.value=!1,{valid:d,errors:o.value}}function l(){s.value.forEach(c=>c.reset())}function u(){s.value.forEach(c=>c.resetValidation())}return _e(s,()=>{let c=0,d=0;const h=[];for(const m of s.value)m.isValid===!1?(d++,h.push({id:m.id,errorMessages:m.errorMessages})):m.isValid===!0&&c++;o.value=h,t.value=d>0?!1:c===s.value.length?!0:null},{deep:!0,flush:"post"}),ft(NR,{register:c=>{let{id:d,vm:h,validate:m,reset:p,resetValidation:v}=c;s.value.some(y=>y.id===d),s.value.push({id:d,validate:m,reset:p,resetValidation:v,vm:Qf(h),isValid:null,errorMessages:[]})},unregister:c=>{s.value=s.value.filter(d=>d.id!==c)},update:(c,d,h)=>{const m=s.value.find(p=>p.id===c);m&&(m.isValid=d,m.errorMessages=h)},isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validateOn:Q(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validate:a,reset:l,resetValidation:u}}function Yh(){return $e(NR,null)}const OR=W({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Nc()},"validation");function MR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cn();const i=xe(e,"modelValue"),r=C(()=>e.validationValue===void 0?i.value:e.validationValue),s=Yh(),o=le([]),a=ye(!0),l=C(()=>!!(Tt(i.value===""?null:i.value).length||Tt(r.value===""?null:r.value).length)),u=C(()=>!!(e.disabled??(s==null?void 0:s.isDisabled.value))),c=C(()=>!!(e.readonly??(s==null?void 0:s.isReadonly.value))),d=C(()=>{var R;return(R=e.errorMessages)!=null&&R.length?Tt(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),h=C(()=>{let R=(e.validateOn??(s==null?void 0:s.validateOn.value))||"input";R==="lazy"&&(R="input lazy");const V=new Set((R==null?void 0:R.split(" "))??[]);return{blur:V.has("blur")||V.has("input"),input:V.has("input"),submit:V.has("submit"),lazy:V.has("lazy")}}),m=C(()=>{var R;return e.error||(R=e.errorMessages)!=null&&R.length?!1:e.rules.length?a.value?o.value.length||h.value.lazy?null:!0:!o.value.length:!0}),p=ye(!1),v=C(()=>({[`${t}--error`]:m.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),y=Ot("validation"),A=C(()=>e.name??gt(n));Np(()=>{s==null||s.register({id:A.value,vm:y,validate:N,reset:P,resetValidation:D})}),Sn(()=>{s==null||s.unregister(A.value)}),In(async()=>{h.value.lazy||await N(!0),s==null||s.update(A.value,m.value,d.value)}),Gn(()=>h.value.input,()=>{_e(r,()=>{if(r.value!=null)N();else if(e.focused){const R=_e(()=>e.focused,V=>{V||N(),R()})}})}),Gn(()=>h.value.blur,()=>{_e(()=>e.focused,R=>{R||N()})}),_e([m,d],()=>{s==null||s.update(A.value,m.value,d.value)});async function P(){i.value=null,await Ke(),await D()}async function D(){a.value=!0,h.value.lazy?o.value=[]:await N(!0)}async function N(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const V=[];p.value=!0;for(const S of e.rules){if(V.length>=+(e.maxErrors??1))break;const _=await(typeof S=="function"?S:()=>S)(r.value);if(_!==!0){if(_!==!1&&typeof _!="string"){console.warn(`${_} is not a valid value. Rule functions must return boolean true or a string.`);continue}V.push(_||"")}}return o.value=V,p.value=!1,a.value=R,o.value}return{errorMessages:d,isDirty:l,isDisabled:u,isReadonly:c,isPristine:a,isValid:m,isValidating:p,reset:P,resetValidation:D,validate:N,validationClasses:v}}const jr=W({id:String,appendIcon:Oe,centerAffix:{type:Boolean,default:!0},prependIcon:Oe,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":ln(),"onClick:append":ln(),...Ee(),...en(),...Nh(Jt(),["maxWidth","minWidth","width"]),...Ye(),...OR()},"VInput"),bn=ne()({name:"VInput",props:{...jr()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const{densityClasses:s}=On(e),{dimensionStyles:o}=Zt(e),{themeClasses:a}=st(e),{rtlClasses:l}=Xt(),{InputIcon:u}=VR(e),c=cn(),d=C(()=>e.id||`input-${c}`),h=C(()=>`${d.value}-messages`),{errorMessages:m,isDirty:p,isDisabled:v,isReadonly:y,isPristine:A,isValid:P,isValidating:D,reset:N,resetValidation:R,validate:V,validationClasses:S}=MR(e,"v-input",d),w=C(()=>({id:d,messagesId:h,isDirty:p,isDisabled:v,isReadonly:y,isPristine:A,isValid:P,isValidating:D,reset:N,resetValidation:R,validate:V})),_=C(()=>{var I;return(I=e.errorMessages)!=null&&I.length||!A.value&&m.value.length?m.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return se(()=>{var B,U,$,K;const I=!!(i.prepend||e.prependIcon),E=!!(i.append||e.appendIcon),T=_.value.length>0,x=!e.hideDetails||e.hideDetails==="auto"&&(T||!!i.details);return g("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,a.value,l.value,S.value,e.class],style:[o.value,e.style]},[I&&g("div",{key:"prepend",class:"v-input__prepend"},[(B=i.prepend)==null?void 0:B.call(i,w.value),e.prependIcon&&g(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&g("div",{class:"v-input__control"},[(U=i.default)==null?void 0:U.call(i,w.value)]),E&&g("div",{key:"append",class:"v-input__append"},[e.appendIcon&&g(u,{key:"append-icon",name:"append"},null),($=i.append)==null?void 0:$.call(i,w.value)]),x&&g("div",{class:"v-input__details"},[g(DR,{id:h.value,active:T,messages:_.value},{message:i.message}),(K=i.details)==null?void 0:K.call(i,w.value)])])}),{reset:N,resetValidation:R,validate:V,isValid:P,errorMessages:m}}}),vG=W({...jr(),...Ut(RR(),["inline"])},"VCheckbox"),pG=ne()({name:"VCheckbox",inheritAttrs:!1,props:vG(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=xe(e,"modelValue"),{isFocused:s,focus:o,blur:a}=Hr(e),l=cn(),u=C(()=>e.id||`checkbox-${l}`);return se(()=>{const[c,d]=Ls(n),h=bn.filterProps(e),m=Nr.filterProps(e);return g(bn,ae({class:["v-checkbox",e.class]},c,h,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,id:u.value,focused:s.value,style:e.style}),{...i,default:p=>{let{id:v,messagesId:y,isDisabled:A,isReadonly:P,isValid:D}=p;return g(Nr,ae(m,{id:v.value,"aria-describedby":y.value,disabled:A.value,readonly:P.value},d,{error:D.value===!1,modelValue:r.value,"onUpdate:modelValue":N=>r.value=N,onFocus:o,onBlur:a}),i)}})}),{}}});function yG(e){let{selectedElement:t,containerElement:n,isRtl:i,isHorizontal:r}=e;const s=oc(r,n),o=LR(r,i,n),a=oc(r,t),l=FR(r,t),u=a*.4;return o>l?l-u:o+s<l+a?l-s+a+u:o}function _G(e){let{selectedElement:t,containerElement:n,isHorizontal:i}=e;const r=oc(i,n),s=FR(i,t),o=oc(i,t);return s-r/2+o/2}function Z0(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function bG(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function LR(e,t,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:r,scrollWidth:s}=n;return e?t?s-r+i:i:n.scrollTop}function oc(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function FR(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const BR=Symbol.for("vuetify:v-slide-group"),y_=W({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:BR},nextIcon:{type:Oe,default:"$next"},prevIcon:{type:Oe,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Ee(),...Yo({mobile:null}),...Ue(),...ea({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),ac=ne()({name:"VSlideGroup",props:y_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:i}=Xt(),{displayClasses:r,mobile:s}=Ti(e),o=Bs(e,e.symbol),a=ye(!1),l=ye(0),u=ye(0),c=ye(0),d=C(()=>e.direction==="horizontal"),{resizeRef:h,contentRect:m}=Hi(),{resizeRef:p,contentRect:v}=Hi(),y=rW(),A=C(()=>({container:h.el,duration:200,easing:"easeOutQuart"})),P=C(()=>o.selected.value.length?o.items.value.findIndex(H=>H.id===o.selected.value[0]):-1),D=C(()=>o.selected.value.length?o.items.value.findIndex(H=>H.id===o.selected.value[o.selected.value.length-1]):-1);if(lt){let H=-1;_e(()=>[o.selected.value,m.value,v.value,d.value],()=>{cancelAnimationFrame(H),H=requestAnimationFrame(()=>{if(m.value&&v.value){const G=d.value?"width":"height";u.value=m.value[G],c.value=v.value[G],a.value=u.value+1<c.value}if(P.value>=0&&p.el){const G=p.el.children[D.value];R(G,e.centerActive)}})})}const N=ye(!1);function R(H,G){let te=0;G?te=_G({containerElement:h.el,isHorizontal:d.value,selectedElement:H}):te=yG({containerElement:h.el,isHorizontal:d.value,isRtl:i.value,selectedElement:H}),V(te)}function V(H){if(!lt||!h.el)return;const G=oc(d.value,h.el),te=LR(d.value,i.value,h.el);if(!(Z0(d.value,h.el)<=G||Math.abs(H-te)<16)){if(d.value&&i.value&&h.el){const{scrollWidth:Se,offsetWidth:he}=h.el;H=Se-he-H}d.value?y.horizontal(H,A.value):y(H,A.value)}}function S(H){const{scrollTop:G,scrollLeft:te}=H.target;l.value=d.value?te:G}function w(H){if(N.value=!0,!(!a.value||!p.el)){for(const G of H.composedPath())for(const te of p.el.children)if(te===G){R(te);return}}}function _(H){N.value=!1}let I=!1;function E(H){var G;!I&&!N.value&&!(H.relatedTarget&&((G=p.el)!=null&&G.contains(H.relatedTarget)))&&B(),I=!1}function T(){I=!0}function x(H){if(!p.el)return;function G(te){H.preventDefault(),B(te)}d.value?H.key==="ArrowRight"?G(i.value?"prev":"next"):H.key==="ArrowLeft"&&G(i.value?"next":"prev"):H.key==="ArrowDown"?G("next"):H.key==="ArrowUp"&&G("prev"),H.key==="Home"?G("first"):H.key==="End"&&G("last")}function B(H){var te,ce;if(!p.el)return;let G;if(!H)G=Zu(p.el)[0];else if(H==="next"){if(G=(te=p.el.querySelector(":focus"))==null?void 0:te.nextElementSibling,!G)return B("first")}else if(H==="prev"){if(G=(ce=p.el.querySelector(":focus"))==null?void 0:ce.previousElementSibling,!G)return B("last")}else H==="first"?G=p.el.firstElementChild:H==="last"&&(G=p.el.lastElementChild);G&&G.focus({preventScroll:!0})}function U(H){const G=d.value&&i.value?-1:1,te=(H==="prev"?-G:G)*u.value;let ce=l.value+te;if(d.value&&i.value&&h.el){const{scrollWidth:Se,offsetWidth:he}=h.el;ce+=Se-he}V(ce)}const $=C(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),K=C(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return a.value||Math.abs(l.value)>0;case"mobile":return s.value||a.value||Math.abs(l.value)>0;default:return!s.value&&(a.value||Math.abs(l.value)>0)}}),F=C(()=>Math.abs(l.value)>1),q=C(()=>{if(!h.value)return!1;const H=Z0(d.value,h.el),G=bG(d.value,h.el);return H-G-Math.abs(l.value)>1});return se(()=>g(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":K.value,"v-slide-group--is-overflowing":a.value},r.value,e.class],style:e.style,tabindex:N.value||o.selected.value.length?-1:0,onFocus:E},{default:()=>{var H,G,te;return[K.value&&g("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!F.value}],onMousedown:T,onClick:()=>F.value&&U("prev")},[((H=n.prev)==null?void 0:H.call(n,$.value))??g(ic,null,{default:()=>[g(rt,{icon:i.value?e.nextIcon:e.prevIcon},null)]})]),g("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:S},[g("div",{ref:p,class:"v-slide-group__content",onFocusin:w,onFocusout:_,onKeydown:x},[(G=n.default)==null?void 0:G.call(n,$.value)])]),K.value&&g("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!q.value}],onMousedown:T,onClick:()=>q.value&&U("next")},[((te=n.next)==null?void 0:te.call(n,$.value))??g(ic,null,{default:()=>[g(rt,{icon:i.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:U,scrollOffset:l,focus:B}}}),$R=Symbol.for("vuetify:v-chip-group"),wG=W({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:cr},...y_(),...Ee(),...ea({selectedClass:"v-chip--selected"}),...Ue(),...Ye(),...ki({variant:"tonal"})},"VChipGroup"),IG=ne()({name:"VChipGroup",props:wG(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=Bs(e,$R);return Rt({VChip:{color:Q(e,"color"),disabled:Q(e,"disabled"),filter:Q(e,"filter"),variant:Q(e,"variant")}}),se(()=>{const u=ac.filterProps(e);return g(ac,ae(u,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}),{}}}),SG=W({activeClass:String,appendAvatar:String,appendIcon:Oe,closable:Boolean,closeIcon:{type:Oe,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Oe,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ln(),onClickOnce:ln(),...di(),...Ee(),...en(),...Gt(),...ta(),...wt(),...Dc(),...hr(),...Ue({tag:"span"}),...Ye(),...ki({variant:"tonal"})},"VChip"),Rl=ne()({name:"VChip",directives:{Ripple:Ur},props:SG(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=Mt(),{borderClasses:o}=Ci(e),{colorClasses:a,colorStyles:l,variantClasses:u}=Zo(e),{densityClasses:c}=On(e),{elevationClasses:d}=dn(e),{roundedClasses:h}=Vt(e),{sizeClasses:m}=kl(e),{themeClasses:p}=st(e),v=xe(e,"modelValue"),y=na(e,$R,!1),A=Vc(e,n),P=C(()=>e.link!==!1&&A.isLink.value),D=C(()=>!e.disabled&&e.link!==!1&&(!!y||e.link||A.isClickable.value)),N=C(()=>({"aria-label":s(e.closeLabel),onClick(S){S.preventDefault(),S.stopPropagation(),v.value=!1,i("click:close",S)}}));function R(S){var w;i("click",S),D.value&&((w=A.navigate)==null||w.call(A,S),y==null||y.toggle())}function V(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),R(S))}return()=>{const S=A.isLink.value?"a":e.tag,w=!!(e.appendIcon||e.appendAvatar),_=!!(w||r.append),I=!!(r.close||e.closable),E=!!(r.filter||e.filter)&&y,T=!!(e.prependIcon||e.prependAvatar),x=!!(T||r.prepend),B=!y||y.isSelected.value;return v.value&&kt(g(S,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":D.value,"v-chip--filter":E,"v-chip--pill":e.pill},p.value,o.value,B?a.value:void 0,c.value,d.value,h.value,m.value,u.value,y==null?void 0:y.selectedClass.value,e.class],style:[B?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:A.href.value,tabindex:D.value?0:void 0,onClick:R,onKeydown:D.value&&!P.value&&V},{default:()=>{var U;return[Fs(D.value,"v-chip"),E&&g(m_,{key:"filter"},{default:()=>[kt(g("div",{class:"v-chip__filter"},[r.filter?g(Ge,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):g(rt,{key:"filter-icon",icon:e.filterIcon},null)]),[[Wi,y.isSelected.value]])]}),x&&g("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?g(Ge,{key:"prepend-defaults",disabled:!T,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):g(Ae,null,[e.prependIcon&&g(rt,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&g(Si,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),g("div",{class:"v-chip__content","data-no-activator":""},[((U=r.default)==null?void 0:U.call(r,{isSelected:y==null?void 0:y.isSelected.value,selectedClass:y==null?void 0:y.selectedClass.value,select:y==null?void 0:y.select,toggle:y==null?void 0:y.toggle,value:y==null?void 0:y.value.value,disabled:e.disabled}))??e.text]),_&&g("div",{key:"append",class:"v-chip__append"},[r.append?g(Ge,{key:"append-defaults",disabled:!w,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):g(Ae,null,[e.appendIcon&&g(rt,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&g(Si,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),I&&g("button",ae({key:"close",class:"v-chip__close",type:"button"},N.value),[r.close?g(Ge,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):g(rt,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ai("ripple"),D.value&&e.ripple,null]])}}}),Yv=Symbol.for("vuetify:list");function UR(){const e=$e(Yv,{hasPrepend:ye(!1),updateHasPrepend:()=>null}),t={hasPrepend:ye(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return ft(Yv,t),e}function HR(){return $e(Yv,null)}const __=e=>{const t={activate:n=>{let{id:i,value:r,activated:s}=n;return i=Be(i),e&&!r&&s.size===1&&s.has(i)||(r?s.add(i):s.delete(i)),s},in:(n,i,r)=>{let s=new Set;if(n!=null)for(const o of Tt(n))s=t.activate({id:o,value:!0,activated:new Set(s),children:i,parents:r});return s},out:n=>Array.from(n)};return t},jR=e=>{const t=__(e);return{activate:i=>{let{activated:r,id:s,...o}=i;s=Be(s);const a=r.has(s)?new Set([s]):new Set;return t.activate({...o,id:s,activated:a})},in:(i,r,s)=>{let o=new Set;if(i!=null){const a=Tt(i);a.length&&(o=t.in(a.slice(0,1),r,s))}return o},out:(i,r,s)=>t.out(i,r,s)}},EG=e=>{const t=__(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=Be(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},TG=e=>{const t=jR(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=Be(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},CG={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){const s=new Set;s.add(t);let o=r.get(t);for(;o!=null;)s.add(o),o=r.get(o);return s}else return i.delete(t),i},select:()=>null},zR={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){let s=r.get(t);for(i.add(t);s!=null&&s!==t;)i.add(s),s=r.get(s);return i}else i.delete(t);return i},select:()=>null},kG={open:zR.open,select:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(!n)return i;const s=[];let o=r.get(t);for(;o!=null;)s.push(o),o=r.get(o);return new Set(s)}},b_=e=>{const t={select:n=>{let{id:i,value:r,selected:s}=n;if(i=Be(i),e&&!r){const o=Array.from(s.entries()).reduce((a,l)=>{let[u,c]=l;return c==="on"&&a.push(u),a},[]);if(o.length===1&&o[0]===i)return s}return s.set(i,r?"on":"off"),s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:n=>{const i=[];for(const[r,s]of n.entries())s==="on"&&i.push(r);return i}};return t},WR=e=>{const t=b_(e);return{select:i=>{let{selected:r,id:s,...o}=i;s=Be(s);const a=r.has(s)?new Map([[s,r.get(s)]]):new Map;return t.select({...o,id:s,selected:a})},in:(i,r,s)=>{let o=new Map;return i!=null&&i.length&&(o=t.in(i.slice(0,1),r,s)),o},out:(i,r,s)=>t.out(i,r,s)}},AG=e=>{const t=b_(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=Be(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},PG=e=>{const t=WR(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=Be(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},xG=e=>{const t={select:n=>{let{id:i,value:r,selected:s,children:o,parents:a}=n;i=Be(i);const l=new Map(s),u=[i];for(;u.length;){const d=u.shift();s.set(d,r?"on":"off"),o.has(d)&&u.push(...o.get(d))}let c=a.get(i);for(;c;){const d=o.get(c),h=d.every(p=>s.get(p)==="on"),m=d.every(p=>!s.has(p)||s.get(p)==="off");s.set(c,h?"on":m?"off":"indeterminate"),c=a.get(c)}return e&&!r&&Array.from(s.entries()).reduce((h,m)=>{let[p,v]=m;return v==="on"&&h.push(p),h},[]).length===0?l:s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:(n,i)=>{const r=[];for(const[s,o]of n.entries())o==="on"&&!i.has(s)&&r.push(s);return r}};return t},lc=Symbol.for("vuetify:nested"),GR={id:ye(),root:{register:()=>null,unregister:()=>null,parents:le(new Map),children:le(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:le(!1),selectable:le(!1),opened:le(new Set),activated:le(new Set),selected:le(new Map),selectedValues:le([])}},RG=W({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),VG=e=>{let t=!1;const n=le(new Map),i=le(new Map),r=xe(e,"opened",e.opened,m=>new Set(m),m=>[...m.values()]),s=C(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return EG(e.mandatory);case"single-leaf":return TG(e.mandatory);case"independent":return __(e.mandatory);case"single-independent":default:return jR(e.mandatory)}}),o=C(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return PG(e.mandatory);case"leaf":return AG(e.mandatory);case"independent":return b_(e.mandatory);case"single-independent":return WR(e.mandatory);case"classic":default:return xG(e.mandatory)}}),a=C(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return kG;case"single":return CG;case"multiple":default:return zR}}),l=xe(e,"activated",e.activated,m=>s.value.in(m,n.value,i.value),m=>s.value.out(m,n.value,i.value)),u=xe(e,"selected",e.selected,m=>o.value.in(m,n.value,i.value),m=>o.value.out(m,n.value,i.value));Sn(()=>{t=!0});function c(m){const p=[];let v=m;for(;v!=null;)p.unshift(v),v=i.value.get(v);return p}const d=Ot("nested"),h={id:ye(),root:{opened:r,activatable:Q(e,"activatable"),selectable:Q(e,"selectable"),activated:l,selected:u,selectedValues:C(()=>{const m=[];for(const[p,v]of u.value.entries())v==="on"&&m.push(p);return m}),register:(m,p,v)=>{p&&m!==p&&i.value.set(m,p),v&&n.value.set(m,[]),p!=null&&n.value.set(p,[...n.value.get(p)||[],m])},unregister:m=>{if(t)return;n.value.delete(m);const p=i.value.get(m);if(p){const v=n.value.get(p)??[];n.value.set(p,v.filter(y=>y!==m))}i.value.delete(m),r.value.delete(m)},open:(m,p,v)=>{d.emit("click:open",{id:m,value:p,path:c(m),event:v});const y=a.value.open({id:m,value:p,opened:new Set(r.value),children:n.value,parents:i.value,event:v});y&&(r.value=y)},openOnSelect:(m,p,v)=>{const y=a.value.select({id:m,value:p,selected:new Map(u.value),opened:new Set(r.value),children:n.value,parents:i.value,event:v});y&&(r.value=y)},select:(m,p,v)=>{d.emit("click:select",{id:m,value:p,path:c(m),event:v});const y=o.value.select({id:m,value:p,selected:new Map(u.value),children:n.value,parents:i.value,event:v});y&&(u.value=y),h.root.openOnSelect(m,p,v)},activate:(m,p,v)=>{if(!e.activatable)return h.root.select(m,!0,v);d.emit("click:activate",{id:m,value:p,path:c(m),event:v});const y=s.value.activate({id:m,value:p,activated:new Set(l.value),children:n.value,parents:i.value,event:v});y&&(l.value=y)},children:n,parents:i}};return ft(lc,h),h.root},KR=(e,t)=>{const n=$e(lc,GR),i=Symbol(cn()),r=C(()=>e.value!==void 0?e.value:i),s={...n,id:r,open:(o,a)=>n.root.open(r.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(r.value,o,a),isOpen:C(()=>n.root.opened.value.has(r.value)),parent:C(()=>n.root.parents.value.get(r.value)),activate:(o,a)=>n.root.activate(r.value,o,a),isActivated:C(()=>n.root.activated.value.has(Be(r.value))),select:(o,a)=>n.root.select(r.value,o,a),isSelected:C(()=>n.root.selected.value.get(Be(r.value))==="on"),isIndeterminate:C(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:C(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,t),Sn(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),t&&ft(lc,s),s},DG=()=>{const e=$e(lc,GR);ft(lc,{...e,isGroupActivator:!0})},NG=ui({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return DG(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),OG=W({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Oe,default:"$collapse"},expandIcon:{type:Oe,default:"$expand"},prependIcon:Oe,appendIcon:Oe,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ee(),...Ue()},"VListGroup"),Qv=ne()({name:"VListGroup",props:OG(),setup(e,t){let{slots:n}=t;const{isOpen:i,open:r,id:s}=KR(Q(e,"value"),!0),o=C(()=>`v-list-group--id-${String(s.value)}`),a=HR(),{isBooted:l}=Jo();function u(m){m.stopPropagation(),r(!i.value,m)}const c=C(()=>({onClick:u,class:"v-list-group__header",id:o.value})),d=C(()=>i.value?e.collapseIcon:e.expandIcon),h=C(()=>({VListItem:{active:i.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&d.value,appendIcon:e.appendIcon||!e.subgroup&&d.value,title:e.title,value:e.value}}));return se(()=>g(e.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value},e.class],style:e.style},{default:()=>[n.activator&&g(Ge,{defaults:h.value},{default:()=>[g(NG,null,{default:()=>[n.activator({props:c.value,isOpen:i.value})]})]}),g(Dn,{transition:{component:jh},disabled:!l.value},{default:()=>{var m;return[kt(g("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(m=n.default)==null?void 0:m.call(n)]),[[Wi,i.value]])]}})]})),{isOpen:i}}}),MG=W({opacity:[Number,String],...Ee(),...Ue()},"VListItemSubtitle"),qR=ne()({name:"VListItemSubtitle",props:MG(),setup(e,t){let{slots:n}=t;return se(()=>g(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),YR=fr("v-list-item-title"),LG=W({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Oe,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Oe,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:ln(),onClickOnce:ln(),...di(),...Ee(),...en(),...Jt(),...Gt(),...wt(),...Dc(),...Ue(),...Ye(),...ki({variant:"text"})},"VListItem"),Or=ne()({name:"VListItem",directives:{Ripple:Ur},props:LG(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=Vc(e,n),o=C(()=>e.value===void 0?s.href.value:e.value),{activate:a,isActivated:l,select:u,isSelected:c,isIndeterminate:d,isGroupActivator:h,root:m,parent:p,openOnSelect:v}=KR(o,!1),y=HR(),A=C(()=>{var H;return e.active!==!1&&(e.active||((H=s.isActive)==null?void 0:H.value)||(m.activatable.value?l.value:c.value))}),P=C(()=>e.link!==!1&&s.isLink.value),D=C(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||!!y&&(m.selectable.value||m.activatable.value||e.value!=null))),N=C(()=>e.rounded||e.nav),R=C(()=>e.color??e.activeColor),V=C(()=>({color:A.value?R.value??e.baseColor:e.baseColor,variant:e.variant}));_e(()=>{var H;return(H=s.isActive)==null?void 0:H.value},H=>{H&&p.value!=null&&m.open(p.value,!0),H&&v(H)},{immediate:!0});const{themeClasses:S}=st(e),{borderClasses:w}=Ci(e),{colorClasses:_,colorStyles:I,variantClasses:E}=Zo(V),{densityClasses:T}=On(e),{dimensionStyles:x}=Zt(e),{elevationClasses:B}=dn(e),{roundedClasses:U}=Vt(N),$=C(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),K=C(()=>({isActive:A.value,select:u,isSelected:c.value,isIndeterminate:d.value}));function F(H){var G;r("click",H),D.value&&((G=s.navigate)==null||G.call(s,H),!h&&(m.activatable.value?a(!l.value,H):(m.selectable.value||e.value!=null)&&u(!c.value,H)))}function q(H){(H.key==="Enter"||H.key===" ")&&(H.preventDefault(),F(H))}return se(()=>{const H=P.value?"a":e.tag,G=i.title||e.title!=null,te=i.subtitle||e.subtitle!=null,ce=!!(e.appendAvatar||e.appendIcon),Se=!!(ce||i.append),he=!!(e.prependAvatar||e.prependIcon),oe=!!(he||i.prepend);return y==null||y.updateHasPrepend(oe),e.activeColor&&F9("active-color",["color","base-color"]),kt(g(H,{class:["v-list-item",{"v-list-item--active":A.value,"v-list-item--disabled":e.disabled,"v-list-item--link":D.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!oe&&(y==null?void 0:y.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&A.value},S.value,w.value,_.value,T.value,B.value,$.value,U.value,E.value,e.class],style:[I.value,x.value,e.style],href:s.href.value,tabindex:D.value?y?-2:0:void 0,onClick:F,onKeydown:D.value&&!P.value&&q},{default:()=>{var j;return[Fs(D.value||A.value,"v-list-item"),oe&&g("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?g(Ge,{key:"prepend-defaults",disabled:!he,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ue;return[(ue=i.prepend)==null?void 0:ue.call(i,K.value)]}}):g(Ae,null,[e.prependAvatar&&g(Si,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&g(rt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),g("div",{class:"v-list-item__spacer"},null)]),g("div",{class:"v-list-item__content","data-no-activator":""},[G&&g(YR,{key:"title"},{default:()=>{var ue;return[((ue=i.title)==null?void 0:ue.call(i,{title:e.title}))??e.title]}}),te&&g(qR,{key:"subtitle"},{default:()=>{var ue;return[((ue=i.subtitle)==null?void 0:ue.call(i,{subtitle:e.subtitle}))??e.subtitle]}}),(j=i.default)==null?void 0:j.call(i,K.value)]),Se&&g("div",{key:"append",class:"v-list-item__append"},[i.append?g(Ge,{key:"append-defaults",disabled:!ce,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ue;return[(ue=i.append)==null?void 0:ue.call(i,K.value)]}}):g(Ae,null,[e.appendIcon&&g(rt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&g(Si,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),g("div",{class:"v-list-item__spacer"},null)])]}}),[[ai("ripple"),D.value&&e.ripple]])}),{activate:a,isActivated:l,isGroupActivator:h,isSelected:c,list:y,select:u}}}),FG=W({color:String,inset:Boolean,sticky:Boolean,title:String,...Ee(),...Ue()},"VListSubheader"),QR=ne()({name:"VListSubheader",props:FG(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=_n(Q(e,"color"));return se(()=>{const s=!!(n.default||e.title);return g(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value,e.class],style:[{textColorStyles:r},e.style]},{default:()=>{var o;return[s&&g("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}}),BG=W({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Ee(),...Ye()},"VDivider"),Oc=ne()({name:"VDivider",props:BG(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=st(e),{textColorClasses:s,textColorStyles:o}=_n(Q(e,"color")),a=C(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=Ie(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=Ie(e.thickness)),l});return se(()=>{const l=g("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,s.value,e.class],style:[a.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?g("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[l,g("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),$G=W({items:Array,returnObject:Boolean},"VListChildren"),XR=ne()({name:"VListChildren",props:$G(),setup(e,t){let{slots:n}=t;return UR(),()=>{var i,r;return((i=n.default)==null?void 0:i.call(n))??((r=e.items)==null?void 0:r.map(s=>{var h,m;let{children:o,props:a,type:l,raw:u}=s;if(l==="divider")return((h=n.divider)==null?void 0:h.call(n,{props:a}))??g(Oc,a,null);if(l==="subheader")return((m=n.subheader)==null?void 0:m.call(n,{props:a}))??g(QR,a,null);const c={subtitle:n.subtitle?p=>{var v;return(v=n.subtitle)==null?void 0:v.call(n,{...p,item:u})}:void 0,prepend:n.prepend?p=>{var v;return(v=n.prepend)==null?void 0:v.call(n,{...p,item:u})}:void 0,append:n.append?p=>{var v;return(v=n.append)==null?void 0:v.call(n,{...p,item:u})}:void 0,title:n.title?p=>{var v;return(v=n.title)==null?void 0:v.call(n,{...p,item:u})}:void 0},d=Qv.filterProps(a);return o?g(Qv,ae({value:a==null?void 0:a.value},d),{activator:p=>{let{props:v}=p;const y={...a,...v,value:e.returnObject?u:a.value};return n.header?n.header({props:y}):g(Or,y,c)},default:()=>g(XR,{items:o,returnObject:e.returnObject},n)}):n.item?n.item({props:a}):g(Or,ae(a,{value:e.returnObject?u:a.value}),c)}))}}}),JR=W({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:cr}},"list-items");function fs(e,t){const n=zt(t,e.itemTitle,t),i=zt(t,e.itemValue,n),r=zt(t,e.itemChildren),s=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Ut(t,["children"]):t:void 0:zt(t,e.itemProps),o={title:n,value:i,...s};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(r)?ZR(e,r):void 0,raw:t}}function ZR(e,t){const n=[];for(const i of t)n.push(fs(e,i));return n}function w_(e){const t=C(()=>ZR(e,e.items)),n=C(()=>t.value.some(s=>s.value===null));function i(s){return n.value||(s=s.filter(o=>o!==null)),s.map(o=>e.returnObject&&typeof o=="string"?fs(e,o):t.value.find(a=>e.valueComparator(o,a.value))||fs(e,o))}function r(s){return e.returnObject?s.map(o=>{let{raw:a}=o;return a}):s.map(o=>{let{value:a}=o;return a})}return{items:t,transformIn:i,transformOut:r}}function UG(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function HG(e,t){const n=zt(t,e.itemType,"item"),i=UG(t)?t:zt(t,e.itemTitle),r=zt(t,e.itemValue,void 0),s=zt(t,e.itemChildren),o=e.itemProps===!0?Ut(t,["children"]):zt(t,e.itemProps),a={title:i,value:r,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&s?e1(e,s):void 0,raw:t}}function e1(e,t){const n=[];for(const i of t)n.push(HG(e,i));return n}function jG(e){return{items:C(()=>e1(e,e.items))}}const zG=W({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ln(),"onClick:select":ln(),"onUpdate:opened":ln(),...RG({selectStrategy:"single-leaf",openStrategy:"list"}),...di(),...Ee(),...en(),...Jt(),...Gt(),itemType:{type:String,default:"type"},...JR(),...wt(),...Ue(),...Ye(),...ki({variant:"text"})},"VList"),Qh=ne()({name:"VList",props:zG(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=jG(e),{themeClasses:r}=st(e),{backgroundColorClasses:s,backgroundColorStyles:o}=ht(Q(e,"bgColor")),{borderClasses:a}=Ci(e),{densityClasses:l}=On(e),{dimensionStyles:u}=Zt(e),{elevationClasses:c}=dn(e),{roundedClasses:d}=Vt(e),{children:h,open:m,parents:p,select:v}=VG(e),y=C(()=>e.lines?`v-list--${e.lines}-line`:void 0),A=Q(e,"activeColor"),P=Q(e,"baseColor"),D=Q(e,"color");UR(),Rt({VListGroup:{activeColor:A,baseColor:P,color:D,expandIcon:Q(e,"expandIcon"),collapseIcon:Q(e,"collapseIcon")},VListItem:{activeClass:Q(e,"activeClass"),activeColor:A,baseColor:P,color:D,density:Q(e,"density"),disabled:Q(e,"disabled"),lines:Q(e,"lines"),nav:Q(e,"nav"),slim:Q(e,"slim"),variant:Q(e,"variant")}});const N=ye(!1),R=le();function V(T){N.value=!0}function S(T){N.value=!1}function w(T){var x;!N.value&&!(T.relatedTarget&&((x=R.value)!=null&&x.contains(T.relatedTarget)))&&E()}function _(T){const x=T.target;if(!(!R.value||["INPUT","TEXTAREA"].includes(x.tagName))){if(T.key==="ArrowDown")E("next");else if(T.key==="ArrowUp")E("prev");else if(T.key==="Home")E("first");else if(T.key==="End")E("last");else return;T.preventDefault()}}function I(T){N.value=!0}function E(T){if(R.value)return ul(R.value,T)}return se(()=>g(e.tag,{ref:R,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,s.value,a.value,l.value,c.value,y.value,d.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||N.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:V,onFocusout:S,onFocus:w,onKeydown:_,onMousedown:I},{default:()=>[g(XR,{items:i.value,returnObject:e.returnObject},n)]})),{open:m,select:v,focus:E,children:h,parents:p}}}),WG=fr("v-list-img"),GG=W({start:Boolean,end:Boolean,...Ee(),...Ue()},"VListItemAction"),KG=ne()({name:"VListItemAction",props:GG(),setup(e,t){let{slots:n}=t;return se(()=>g(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),qG=W({start:Boolean,end:Boolean,...Ee(),...Ue()},"VListItemMedia"),YG=ne()({name:"VListItemMedia",props:qG(),setup(e,t){let{slots:n}=t;return se(()=>g(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},n)),{}}});function _g(e,t){return{x:e.x+t.x,y:e.y+t.y}}function QG(e,t){return{x:e.x-t.x,y:e.y-t.y}}function eE(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:i}=e,r=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,s=n==="top"?0:n==="bottom"?t.height:n;return _g({x:r,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:i}=e,r=n==="left"?0:n==="right"?t.width:n,s=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return _g({x:r,y:s},t)}return _g({x:t.width/2,y:t.height/2},t)}const t1={static:ZG,connected:tK},XG=W({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in t1},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function JG(e,t){const n=le({}),i=le();lt&&Gn(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var o,a;_e(()=>e.locationStrategy,s),wn(()=>{window.removeEventListener("resize",r),i.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?i.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:i.value=(a=t1[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function r(s){var o;(o=i.value)==null||o.call(i,s)}return{contentStyles:n,updateLocation:i}}function ZG(){}function eK(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=i_(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function tK(e,t,n){(Array.isArray(e.target.value)||s3(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=t_(()=>{const p=Mv(t.location,e.isRtl.value),v=t.origin==="overlap"?p:t.origin==="auto"?mg(p):Mv(t.origin,e.isRtl.value);return p.side===v.side&&p.align===gg(v).align?{preferredAnchor:w0(p),preferredOrigin:w0(v)}:{preferredAnchor:p,preferredOrigin:v}}),[o,a,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>C(()=>{const v=parseFloat(t[p]);return isNaN(v)?1/0:v})),c=C(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const p=t.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let d=!1;const h=new ResizeObserver(()=>{d&&m()});_e([e.target,e.contentEl],(p,v)=>{let[y,A]=p,[P,D]=v;P&&!Array.isArray(P)&&h.unobserve(P),y&&!Array.isArray(y)&&h.observe(y),D&&h.unobserve(D),A&&h.observe(A)},{immediate:!0}),wn(()=>{h.disconnect()});function m(){if(d=!1,requestAnimationFrame(()=>d=!0),!e.target.value||!e.contentEl.value)return;const p=Nx(e.target.value),v=eK(e.contentEl.value,e.isRtl.value),y=Uf(e.contentEl.value),A=12;y.length||(y.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const P=y.reduce((E,T)=>{const x=T.getBoundingClientRect(),B=new po({x:T===document.documentElement?0:x.x,y:T===document.documentElement?0:x.y,width:T.clientWidth,height:T.clientHeight});return E?new po({x:Math.max(E.left,B.left),y:Math.max(E.top,B.top),width:Math.min(E.right,B.right)-Math.max(E.left,B.left),height:Math.min(E.bottom,B.bottom)-Math.max(E.top,B.top)}):B},void 0);P.x+=A,P.y+=A,P.width-=A*2,P.height-=A*2;let D={anchor:r.value,origin:s.value};function N(E){const T=new po(v),x=eE(E.anchor,p),B=eE(E.origin,T);let{x:U,y:$}=QG(x,B);switch(E.anchor.side){case"top":$-=c.value[0];break;case"bottom":$+=c.value[0];break;case"left":U-=c.value[0];break;case"right":U+=c.value[0];break}switch(E.anchor.align){case"top":$-=c.value[1];break;case"bottom":$+=c.value[1];break;case"left":U-=c.value[1];break;case"right":U+=c.value[1];break}return T.x+=U,T.y+=$,T.width=Math.min(T.width,l.value),T.height=Math.min(T.height,u.value),{overflows:S0(T,P),x:U,y:$}}let R=0,V=0;const S={x:0,y:0},w={x:!1,y:!1};let _=-1;for(;!(_++>10);){const{x:E,y:T,overflows:x}=N(D);R+=E,V+=T,v.x+=E,v.y+=T;{const B=I0(D.anchor),U=x.x.before||x.x.after,$=x.y.before||x.y.after;let K=!1;if(["x","y"].forEach(F=>{if(F==="x"&&U&&!w.x||F==="y"&&$&&!w.y){const q={anchor:{...D.anchor},origin:{...D.origin}},H=F==="x"?B==="y"?gg:mg:B==="y"?mg:gg;q.anchor=H(q.anchor),q.origin=H(q.origin);const{overflows:G}=N(q);(G[F].before<=x[F].before&&G[F].after<=x[F].after||G[F].before+G[F].after<(x[F].before+x[F].after)/2)&&(D=q,K=w[F]=!0)}}),K)continue}x.x.before&&(R+=x.x.before,v.x+=x.x.before),x.x.after&&(R-=x.x.after,v.x-=x.x.after),x.y.before&&(V+=x.y.before,v.y+=x.y.before),x.y.after&&(V-=x.y.after,v.y-=x.y.after);{const B=S0(v,P);S.x=P.width-B.x.before-B.x.after,S.y=P.height-B.y.before-B.y.after,R+=B.x.before,v.x+=B.x.before,V+=B.y.before,v.y+=B.y.before}break}const I=I0(D.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${D.anchor.side} ${D.anchor.align}`,transformOrigin:`${D.origin.side} ${D.origin.align}`,top:Ie(bg(V)),left:e.isRtl.value?void 0:Ie(bg(R)),right:e.isRtl.value?Ie(bg(-R)):void 0,minWidth:Ie(I==="y"?Math.min(o.value,p.width):o.value),maxWidth:Ie(tE(Ft(S.x,o.value===1/0?0:o.value,l.value))),maxHeight:Ie(tE(Ft(S.y,a.value===1/0?0:a.value,u.value)))}),{available:S,contentBox:v}}return _e(()=>[r.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>m()),Ke(()=>{const p=m();if(!p)return;const{available:v,contentBox:y}=p;y.height>v.y&&requestAnimationFrame(()=>{m(),requestAnimationFrame(()=>{m()})})}),{updateLocation:m}}function bg(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function tE(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Xv=!0;const zf=[];function nK(e){!Xv||zf.length?(zf.push(e),Jv()):(Xv=!1,e(),Jv())}let nE=-1;function Jv(){cancelAnimationFrame(nE),nE=requestAnimationFrame(()=>{const e=zf.shift();e&&e(),zf.length?Jv():Xv=!0})}const Jd={none:null,close:sK,block:oK,reposition:aK},iK=W({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Jd}},"VOverlay-scroll-strategies");function rK(e,t){if(!lt)return;let n;Nt(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=pl(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(i=Jd[e.scrollStrategy])==null||i.call(Jd,t,e,n)}))}),wn(()=>{n==null||n.stop()})}function sK(e){function t(n){e.isActive.value=!1}n1(e.targetEl.value??e.contentEl.value,t)}function oK(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,i=[...new Set([...Uf(e.targetEl.value,t.contained?n:void 0),...Uf(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(a=>l_(a)&&a)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",Ie(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",Ie(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",Ie(r)),a.classList.add("v-overlay-scroll-blocked")}),wn(()=>{i.forEach((a,l)=>{const u=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),d=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-u,a.scrollTop=-c,a.style.scrollBehavior=d}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function aK(e,t,n){let i=!1,r=-1,s=-1;function o(a){nK(()=>{var c,d;const l=performance.now();(d=(c=e.updateLocation).value)==null||d.call(c,a),i=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{n1(e.targetEl.value??e.contentEl.value,a=>{i?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),wn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function n1(e,t){const n=[document,...Uf(e)];n.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),wn(()=>{n.forEach(i=>{i.removeEventListener("scroll",t)})})}const Zv=Symbol.for("vuetify:v-menu"),I_=W({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function S_(e,t){let n=()=>{};function i(o){n==null||n();const a=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{n=C9(a,()=>{t==null||t(o),l(o)})})}function r(){return i(!0)}function s(){return i(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:s}}const lK=W({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...I_()},"VOverlay-activator");function uK(e,t){let{isActive:n,isTop:i}=t;const r=Ot("useActivator"),s=le();let o=!1,a=!1,l=!0;const u=C(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),c=C(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!u.value),{runOpenDelay:d,runCloseDelay:h}=S_(e,S=>{S===(e.openOnHover&&o||u.value&&a)&&!(e.openOnHover&&n.value&&!i.value)&&(n.value!==S&&(l=!0),n.value=S)}),m=le(),p={onClick:S=>{S.stopPropagation(),s.value=S.currentTarget||S.target,n.value||(m.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var w;(w=S.sourceCapabilities)!=null&&w.firesTouchEvents||(o=!0,s.value=S.currentTarget||S.target,d())},onMouseleave:S=>{o=!1,h()},onFocus:S=>{cl(S.target,":focus-visible")!==!1&&(a=!0,S.stopPropagation(),s.value=S.currentTarget||S.target,d())},onBlur:S=>{a=!1,S.stopPropagation(),h()}},v=C(()=>{const S={};return c.value&&(S.onClick=p.onClick),e.openOnHover&&(S.onMouseenter=p.onMouseenter,S.onMouseleave=p.onMouseleave),u.value&&(S.onFocus=p.onFocus,S.onBlur=p.onBlur),S}),y=C(()=>{const S={};if(e.openOnHover&&(S.onMouseenter=()=>{o=!0,d()},S.onMouseleave=()=>{o=!1,h()}),u.value&&(S.onFocusin=()=>{a=!0,d()},S.onFocusout=()=>{a=!1,h()}),e.closeOnContentClick){const w=$e(Zv,null);S.onClick=()=>{n.value=!1,w==null||w.closeParents()}}return S}),A=C(()=>{const S={};return e.openOnHover&&(S.onMouseenter=()=>{l&&(o=!0,l=!1,d())},S.onMouseleave=()=>{o=!1,h()}),S});_e(i,S=>{S&&(e.openOnHover&&!o&&(!u.value||!a)||u.value&&!a&&(!e.openOnHover||!o))&&(n.value=!1)}),_e(n,S=>{S||setTimeout(()=>{m.value=void 0})},{flush:"post"});const P=Bf();Nt(()=>{P.value&&Ke(()=>{s.value=P.el})});const D=Bf(),N=C(()=>e.target==="cursor"&&m.value?m.value:D.value?D.el:i1(e.target,r)||s.value),R=C(()=>Array.isArray(N.value)?void 0:N.value);let V;return _e(()=>!!e.activator,S=>{S&&lt?(V=pl(),V.run(()=>{cK(e,r,{activatorEl:s,activatorEvents:v})})):V&&V.stop()},{flush:"post",immediate:!0}),wn(()=>{V==null||V.stop()}),{activatorEl:s,activatorRef:P,target:N,targetEl:R,targetRef:D,activatorEvents:v,contentEvents:y,scrimEvents:A}}function cK(e,t,n){let{activatorEl:i,activatorEvents:r}=n;_e(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=a(u);c&&o(c)}l&&Ke(()=>s())},{immediate:!0}),_e(()=>e.activatorProps,()=>{s()}),wn(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&P9(l,ae(r.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&x9(l,ae(r.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=i1(l,t);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function i1(e,t){var i,r;if(!e)return;let n;if(e==="parent"){let s=(r=(i=t==null?void 0:t.proxy)==null?void 0:i.$el)==null?void 0:r.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function r1(){if(!lt)return ye(!1);const{ssr:e}=Ti();if(e){const t=ye(!1);return In(()=>{t.value=!0}),t}else return ye(!0)}const E_=W({eager:Boolean},"lazy");function T_(e,t){const n=ye(!1),i=C(()=>n.value||e.eager||t.value);_e(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:r}}function ra(){const t=Ot("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const iE=Symbol.for("vuetify:stack"),su=rn([]);function dK(e,t,n){const i=Ot("useStack"),r=!n,s=$e(iE,void 0),o=rn({activeChildren:new Set});ft(iE,o);const a=ye(+t.value);Gn(e,()=>{var d;const c=(d=su.at(-1))==null?void 0:d[1];a.value=c?c+10:+t.value,r&&su.push([i.uid,a.value]),s==null||s.activeChildren.add(i.uid),wn(()=>{if(r){const h=Be(su).findIndex(m=>m[0]===i.uid);su.splice(h,1)}s==null||s.activeChildren.delete(i.uid)})});const l=ye(!0);r&&Nt(()=>{var d;const c=((d=su.at(-1))==null?void 0:d[0])===i.uid;setTimeout(()=>l.value=c)});const u=C(()=>!o.activeChildren.size);return{globalTop:yl(l),localTop:u,stackStyles:C(()=>({zIndex:a.value}))}}function fK(e){return{teleportTarget:C(()=>{const n=e();if(n===!0||!lt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let r=i.querySelector(":scope > .v-overlay-container");return r||(r=document.createElement("div"),r.className="v-overlay-container",i.appendChild(r)),r})}}function hK(){return!0}function s1(e,t,n){if(!e||o1(e,n)===!1)return!1;const i=Kx(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(s=>s==null?void 0:s.contains(e.target))}function o1(e,t){return(typeof t.value=="object"&&t.value.closeConditional||hK)(e)}function mK(e,t,n){const i=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&s1(e,t,n)&&setTimeout(()=>{o1(e,n)&&i&&i(e)},0)}function rE(e,t){const n=Kx(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const a1={mounted(e,t){const n=r=>mK(r,e,t),i=r=>{e._clickOutside.lastMousedownWasOutside=s1(r,e,t)};rE(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:i}},unmounted(e,t){e._clickOutside&&(rE(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:i,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function gK(e){const{modelValue:t,color:n,...i}=e;return g(ir,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&g("div",ae({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const Mc=W({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...lK(),...Ee(),...Jt(),...E_(),...XG(),...iK(),...Ye(),...Gi()},"VOverlay"),ar=ne()({name:"VOverlay",directives:{ClickOutside:a1},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Mc()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:i,emit:r}=t;const s=xe(e,"modelValue"),o=C({get:()=>s.value,set:he=>{he&&e.disabled||(s.value=he)}}),{themeClasses:a}=st(e),{rtlClasses:l,isRtl:u}=Xt(),{hasContent:c,onAfterLeave:d}=T_(e,o),h=ht(C(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:m,localTop:p,stackStyles:v}=dK(o,Q(e,"zIndex"),e._disableGlobalStack),{activatorEl:y,activatorRef:A,target:P,targetEl:D,targetRef:N,activatorEvents:R,contentEvents:V,scrimEvents:S}=uK(e,{isActive:o,isTop:p}),{teleportTarget:w}=fK(()=>{var j;const he=e.attach||e.contained;if(he)return he;const oe=(j=y==null?void 0:y.value)==null?void 0:j.getRootNode();return oe instanceof ShadowRoot?oe:!1}),{dimensionStyles:_}=Zt(e),I=r1(),{scopeId:E}=ra();_e(()=>e.disabled,he=>{he&&(o.value=!1)});const T=le(),x=le(),B=le(),{contentStyles:U,updateLocation:$}=JG(e,{isRtl:u,contentEl:B,target:P,isActive:o});rK(e,{root:T,contentEl:B,targetEl:D,isActive:o,updateLocation:$});function K(he){r("click:outside",he),e.persistent?te():o.value=!1}function F(he){return o.value&&m.value&&(!e.scrim||he.target===x.value)}lt&&_e(o,he=>{he?window.addEventListener("keydown",q):window.removeEventListener("keydown",q)},{immediate:!0}),Sn(()=>{lt&&window.removeEventListener("keydown",q)});function q(he){var oe,j;he.key==="Escape"&&m.value&&(e.persistent?te():(o.value=!1,(oe=B.value)!=null&&oe.contains(document.activeElement)&&((j=y.value)==null||j.focus())))}const H=_R();Gn(()=>e.closeOnBack,()=>{QW(H,he=>{m.value&&o.value?(he(!1),e.persistent?te():o.value=!1):he()})});const G=le();_e(()=>o.value&&(e.absolute||e.contained)&&w.value==null,he=>{if(he){const oe=a_(T.value);oe&&oe!==document.scrollingElement&&(G.value=oe.scrollTop)}});function te(){e.noClickAnimation||B.value&&uo(B.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:ec})}function ce(){r("afterEnter")}function Se(){d(),r("afterLeave")}return se(()=>{var he;return g(Ae,null,[(he=n.activator)==null?void 0:he.call(n,{isActive:o.value,targetRef:N,props:ae({ref:A},R.value,e.activatorProps)}),I.value&&c.value&&g(BN,{disabled:!w.value,to:w.value},{default:()=>[g("div",ae({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},a.value,l.value,e.class],style:[v.value,{"--v-overlay-opacity":e.opacity,top:Ie(G.value)},e.style],ref:T},E,i),[g(gK,ae({color:h,modelValue:o.value&&!!e.scrim,ref:x},S.value),null),g(Dn,{appear:!0,persisted:!0,transition:e.transition,target:P.value,onAfterEnter:ce,onAfterLeave:Se},{default:()=>{var oe;return[kt(g("div",ae({ref:B,class:["v-overlay__content",e.contentClass],style:[_.value,U.value]},V.value,e.contentProps),[(oe=n.default)==null?void 0:oe.call(n,{isActive:o})]),[[Wi,o.value],[ai("click-outside"),{handler:K,closeConditional:F,include:()=>[y.value]}]])]}})])]})])}),{activatorEl:y,scrimEl:x,target:P,animateClick:te,contentEl:B,globalTop:m,localTop:p,updateLocation:$}}}),wg=Symbol("Forwarded refs");function Ig(e,t){let n=e;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function Ai(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e[wg]=n,new Proxy(e,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const a=Reflect.get(o.value,s);return typeof a=="function"?a.bind(o.value):a}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},set(r,s,o){if(Reflect.has(r,s))return Reflect.set(r,s,o);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,o);return!1},getOwnPropertyDescriptor(r,s){var a;const o=Reflect.getOwnPropertyDescriptor(r,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=Ig(l.value,s)??("_"in l.value?Ig((a=l.value._)==null?void 0:a.setupState,s):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[wg];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),h=Ig(d.value,s);if(h)return h;const m=d.value&&d.value[wg];m&&c.push(...m)}}}}})}const l1=W({id:String,...Ut(Mc({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Hh}}),["absolute"])},"VMenu"),ml=ne()({name:"VMenu",props:l1(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue"),{scopeId:r}=ra(),s=cn(),o=C(()=>e.id||`v-menu-${s}`),a=le(),l=$e(Zv,null),u=ye(0);ft(Zv,{register(){++u.value},unregister(){--u.value},closeParents(v){setTimeout(()=>{!u.value&&!e.persistent&&(v==null||v&&!k9(v,a.value.contentEl))&&(i.value=!1,l==null||l.closeParents())},40)}});async function c(v){var P,D,N;const y=v.relatedTarget,A=v.target;await Ke(),i.value&&y!==A&&((P=a.value)!=null&&P.contentEl)&&((D=a.value)!=null&&D.globalTop)&&![document,a.value.contentEl].includes(A)&&!a.value.contentEl.contains(A)&&((N=Zu(a.value.contentEl)[0])==null||N.focus())}_e(i,v=>{v?(l==null||l.register(),document.addEventListener("focusin",c,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",c))});function d(v){l==null||l.closeParents(v)}function h(v){var y,A,P;if(!e.disabled)if(v.key==="Tab"||v.key==="Enter"&&!e.closeOnContentClick){if(v.key==="Enter"&&(v.target instanceof HTMLTextAreaElement||v.target instanceof HTMLInputElement&&v.target.closest("form")))return;v.key==="Enter"&&v.preventDefault(),Rx(Zu((y=a.value)==null?void 0:y.contentEl,!1),v.shiftKey?"prev":"next",N=>N.tabIndex>=0)||(i.value=!1,(P=(A=a.value)==null?void 0:A.activatorEl)==null||P.focus())}else["Enter"," "].includes(v.key)&&e.closeOnContentClick&&(i.value=!1,l==null||l.closeParents())}function m(v){var A;if(e.disabled)return;const y=(A=a.value)==null?void 0:A.contentEl;y&&i.value?v.key==="ArrowDown"?(v.preventDefault(),ul(y,"next")):v.key==="ArrowUp"&&(v.preventDefault(),ul(y,"prev")):["ArrowDown","ArrowUp"].includes(v.key)&&(i.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>m(v))))}const p=C(()=>ae({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":o.value,onKeydown:m},e.activatorProps));return se(()=>{const v=ar.filterProps(e);return g(ar,ae({ref:a,id:o.value,class:["v-menu",e.class],style:e.style},v,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,absolute:!0,activatorProps:p.value,"onClick:outside":d,onKeydown:h},r),{activator:n.activator,default:function(){for(var y=arguments.length,A=new Array(y),P=0;P<y;P++)A[P]=arguments[P];return g(Ge,{root:"VMenu"},{default:()=>{var D;return[(D=n.default)==null?void 0:D.call(n,...A)]}})}})}),Ai({id:o,ΨopenChildren:u},a)}}),vK=W({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ee(),...Gi({transition:{component:h_}})},"VCounter"),Xh=ne()({name:"VCounter",functional:!0,props:vK(),setup(e,t){let{slots:n}=t;const i=C(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return se(()=>g(Dn,{transition:e.transition},{default:()=>[kt(g("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[Wi,e.active]])]})),{}}}),pK=W({floating:Boolean,...Ee()},"VFieldLabel"),mu=ne()({name:"VFieldLabel",props:pK(),setup(e,t){let{slots:n}=t;return se(()=>g(xl,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),yK=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Lc=W({appendInnerIcon:Oe,bgColor:String,clearable:Boolean,clearIcon:{type:Oe,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Oe,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>yK.includes(e)},"onClick:clear":ln(),"onClick:appendInner":ln(),"onClick:prependInner":ln(),...Ee(),...Gh(),...wt(),...Ye()},"VField"),Vl=ne()({name:"VField",inheritAttrs:!1,props:{id:String,...Nc(),...Lc()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{themeClasses:s}=st(e),{loaderClasses:o}=xc(e),{focusClasses:a,isFocused:l,focus:u,blur:c}=Hr(e),{InputIcon:d}=VR(e),{roundedClasses:h}=Vt(e),{rtlClasses:m}=Xt(),p=C(()=>e.dirty||e.active),v=C(()=>!e.singleLine&&!!(e.label||r.label)),y=cn(),A=C(()=>e.id||`input-${y}`),P=C(()=>`${A.value}-messages`),D=le(),N=le(),R=le(),V=C(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:S,backgroundColorStyles:w}=ht(Q(e,"bgColor")),{textColorClasses:_,textColorStyles:I}=_n(C(()=>e.error||e.disabled?void 0:p.value&&l.value?e.color:e.baseColor));_e(p,B=>{if(v.value){const U=D.value.$el,$=N.value.$el;requestAnimationFrame(()=>{const K=i_(U),F=$.getBoundingClientRect(),q=F.x-K.x,H=F.y-K.y-(K.height/2-F.height/2),G=F.width/.75,te=Math.abs(G-K.width)>1?{maxWidth:Ie(G)}:void 0,ce=getComputedStyle(U),Se=getComputedStyle($),he=parseFloat(ce.transitionDuration)*1e3||150,oe=parseFloat(Se.getPropertyValue("--v-field-label-scale")),j=Se.getPropertyValue("color");U.style.visibility="visible",$.style.visibility="hidden",uo(U,{transform:`translate(${q}px, ${H}px) scale(${oe})`,color:j,...te},{duration:he,easing:ec,direction:B?"normal":"reverse"}).finished.then(()=>{U.style.removeProperty("visibility"),$.style.removeProperty("visibility")})})}},{flush:"post"});const E=C(()=>({isActive:p,isFocused:l,controlRef:R,blur:c,focus:u}));function T(B){B.target!==document.activeElement&&B.preventDefault()}function x(B){var U;B.key!=="Enter"&&B.key!==" "||(B.preventDefault(),B.stopPropagation(),(U=e["onClick:clear"])==null||U.call(e,new MouseEvent("click")))}return se(()=>{var q,H,G;const B=e.variant==="outlined",U=!!(r["prepend-inner"]||e.prependInnerIcon),$=!!(e.clearable||r.clear),K=!!(r["append-inner"]||e.appendInnerIcon||$),F=()=>r.label?r.label({...E.value,label:e.label,props:{for:A.value}}):e.label;return g("div",ae({class:["v-field",{"v-field--active":p.value,"v-field--appended":K,"v-field--center-affix":e.centerAffix??!V.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":U,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!F(),[`v-field--variant-${e.variant}`]:!0},s.value,S.value,a.value,o.value,h.value,m.value,e.class],style:[w.value,e.style],onClick:T},n),[g("div",{class:"v-field__overlay"},null),g(Rc,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),U&&g("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&g(d,{key:"prepend-icon",name:"prependInner"},null),(q=r["prepend-inner"])==null?void 0:q.call(r,E.value)]),g("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&v.value&&g(mu,{key:"floating-label",ref:N,class:[_.value],floating:!0,for:A.value,style:I.value},{default:()=>[F()]}),g(mu,{ref:D,for:A.value},{default:()=>[F()]}),(H=r.default)==null?void 0:H.call(r,{...E.value,props:{id:A.value,class:"v-field__input","aria-describedby":P.value},focus:u,blur:c})]),$&&g(m_,{key:"clear"},{default:()=>[kt(g("div",{class:"v-field__clearable",onMousedown:te=>{te.preventDefault(),te.stopPropagation()}},[g(Ge,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...E.value,props:{onKeydown:x,onFocus:u,onBlur:c,onClick:e["onClick:clear"]}}):g(d,{name:"clear",onKeydown:x,onFocus:u,onBlur:c},null)]})]),[[Wi,e.dirty]])]}),K&&g("div",{key:"append",class:"v-field__append-inner"},[(G=r["append-inner"])==null?void 0:G.call(r,E.value),e.appendInnerIcon&&g(d,{key:"append-icon",name:"appendInner"},null)]),g("div",{class:["v-field__outline",_.value],style:I.value},[B&&g(Ae,null,[g("div",{class:"v-field__outline__start"},null),v.value&&g("div",{class:"v-field__outline__notch"},[g(mu,{ref:N,floating:!0,for:A.value},{default:()=>[F()]})]),g("div",{class:"v-field__outline__end"},null)]),V.value&&v.value&&g(mu,{ref:N,floating:!0,for:A.value},{default:()=>[F()]})])])}),{controlRef:R}}});function C_(e){const t=Object.keys(Vl.props).filter(n=>!Oh(n)&&n!=="class"&&n!=="style");return e_(e,t)}const _K=["color","file","time","date","datetime-local","week","month"],Jh=W({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...jr(),...Lc()},"VTextField"),Oo=ne()({name:"VTextField",directives:{Intersect:Pc},inheritAttrs:!1,props:Jh(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=xe(e,"modelValue"),{isFocused:o,focus:a,blur:l}=Hr(e),u=C(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),c=C(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),d=C(()=>["plain","underlined"].includes(e.variant));function h(V,S){var w,_;!e.autofocus||!V||(_=(w=S[0].target)==null?void 0:w.focus)==null||_.call(w)}const m=le(),p=le(),v=le(),y=C(()=>_K.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function A(){var V;v.value!==document.activeElement&&((V=v.value)==null||V.focus()),o.value||a()}function P(V){i("mousedown:control",V),V.target!==v.value&&(A(),V.preventDefault())}function D(V){A(),i("click:control",V)}function N(V){V.stopPropagation(),A(),Ke(()=>{s.value=null,n_(e["onClick:clear"],V)})}function R(V){var w;const S=V.target;if(s.value=S.value,(w=e.modelModifiers)!=null&&w.trim&&["text","search","password","tel","url"].includes(e.type)){const _=[S.selectionStart,S.selectionEnd];Ke(()=>{S.selectionStart=_[0],S.selectionEnd=_[1]})}}return se(()=>{const V=!!(r.counter||e.counter!==!1&&e.counter!=null),S=!!(V||r.details),[w,_]=Ls(n),{modelValue:I,...E}=bn.filterProps(e),T=C_(e);return g(bn,ae({ref:m,modelValue:s.value,"onUpdate:modelValue":x=>s.value=x,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":d.value},e.class],style:e.style},w,E,{centerAffix:!d.value,focused:o.value}),{...r,default:x=>{let{id:B,isDisabled:U,isDirty:$,isReadonly:K,isValid:F}=x;return g(Vl,ae({ref:p,onMousedown:P,onClick:D,"onClick:clear":N,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},T,{id:B.value,active:y.value||$.value,dirty:$.value||e.dirty,disabled:U.value,focused:o.value,error:F.value===!1}),{...r,default:q=>{let{props:{class:H,...G}}=q;const te=kt(g("input",ae({ref:v,value:s.value,onInput:R,autofocus:e.autofocus,readonly:K.value,disabled:U.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:A,onBlur:l},G,_),null),[[ai("intersect"),{handler:h},null,{once:!0}]]);return g(Ae,null,[e.prefix&&g("span",{class:"v-text-field__prefix"},[g("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?g("div",{class:H,"data-no-activator":""},[r.default(),te]):Pr(te,{class:H}),e.suffix&&g("span",{class:"v-text-field__suffix"},[g("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:S?x=>{var B;return g(Ae,null,[(B=r.details)==null?void 0:B.call(r,x),V&&g(Ae,null,[g("span",null,null),g(Xh,{active:e.persistentCounter||o.value,value:u.value,max:c.value,disabled:e.disabled},r.counter)])])}:void 0})}),Ai({},m,p,v)}}),bK=W({renderless:Boolean,...Ee()},"VVirtualScrollItem"),u1=ne()({name:"VVirtualScrollItem",inheritAttrs:!1,props:bK(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{resizeRef:s,contentRect:o}=Hi(void 0,"border");_e(()=>{var a;return(a=o.value)==null?void 0:a.height},a=>{a!=null&&i("update:height",a)}),se(()=>{var a,l;return e.renderless?g(Ae,null,[(a=r.default)==null?void 0:a.call(r,{itemRef:s})]):g("div",ae({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=r.default)==null?void 0:l.call(r)])})}}),wK=-1,IK=1,Sg=100,c1=W({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function d1(e,t){const n=Ti(),i=ye(0);Nt(()=>{i.value=parseFloat(e.itemHeight||0)});const r=ye(0),s=ye(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),o=ye(0),a=ye(0),l=le(),u=le();let c=0;const{resizeRef:d,contentRect:h}=Hi();Nt(()=>{d.value=l.value});const m=C(()=>{var q;return l.value===document.documentElement?n.height.value:((q=h.value)==null?void 0:q.height)||parseInt(e.height)||0}),p=C(()=>!!(l.value&&u.value&&m.value&&i.value));let v=Array.from({length:t.value.length}),y=Array.from({length:t.value.length});const A=ye(0);let P=-1;function D(q){return v[q]||i.value}const N=I9(()=>{const q=performance.now();y[0]=0;const H=t.value.length;for(let G=1;G<=H-1;G++)y[G]=(y[G-1]||0)+D(G-1);A.value=Math.max(A.value,performance.now()-q)},A),R=_e(p,q=>{q&&(R(),c=u.value.offsetTop,N.immediate(),U(),~P&&Ke(()=>{lt&&window.requestAnimationFrame(()=>{K(P),P=-1})}))});wn(()=>{N.clear()});function V(q,H){const G=v[q],te=i.value;i.value=te?Math.min(i.value,H):H,(G!==H||te!==i.value)&&(v[q]=H,N())}function S(q){return q=Ft(q,0,t.value.length-1),y[q]||0}function w(q){return SK(y,q)}let _=0,I=0,E=0;_e(m,(q,H)=>{H&&(U(),q<H&&requestAnimationFrame(()=>{I=0,U()}))});function T(){if(!l.value||!u.value)return;const q=l.value.scrollTop,H=performance.now();H-E>500?(I=Math.sign(q-_),c=u.value.offsetTop):I=q-_,_=q,E=H,U()}function x(){!l.value||!u.value||(I=0,E=0,U())}let B=-1;function U(){cancelAnimationFrame(B),B=requestAnimationFrame($)}function $(){if(!l.value||!m.value)return;const q=_-c,H=Math.sign(I),G=Math.max(0,q-Sg),te=Ft(w(G),0,t.value.length),ce=q+m.value+Sg,Se=Ft(w(ce)+1,te+1,t.value.length);if((H!==wK||te<r.value)&&(H!==IK||Se>s.value)){const he=S(r.value)-S(te),oe=S(Se)-S(s.value);Math.max(he,oe)>Sg?(r.value=te,s.value=Se):(te<=0&&(r.value=te),Se>=t.value.length&&(s.value=Se))}o.value=S(r.value),a.value=S(t.value.length)-S(s.value)}function K(q){const H=S(q);!l.value||q&&!H?P=q:l.value.scrollTop=H}const F=C(()=>t.value.slice(r.value,s.value).map((q,H)=>({raw:q,index:H+r.value})));return _e(t,()=>{v=Array.from({length:t.value.length}),y=Array.from({length:t.value.length}),N.immediate(),U()},{deep:!0}),{containerRef:l,markerRef:u,computedItems:F,paddingTop:o,paddingBottom:a,scrollToIndex:K,handleScroll:T,handleScrollend:x,handleItemResize:V}}function SK(e,t){let n=e.length-1,i=0,r=0,s=null,o=-1;if(e[n]<t)return n;for(;i<=n;)if(r=i+n>>1,s=e[r],s>t)n=r-1;else if(s<t)o=r,i=r+1;else return s===t?r:i;return o}const EK=W({items:{type:Array,default:()=>[]},renderless:Boolean,...c1(),...Ee(),...Jt()},"VVirtualScroll"),Zh=ne()({name:"VVirtualScroll",props:EK(),setup(e,t){let{slots:n}=t;const i=Ot("VVirtualScroll"),{dimensionStyles:r}=Zt(e),{containerRef:s,markerRef:o,handleScroll:a,handleScrollend:l,handleItemResize:u,scrollToIndex:c,paddingTop:d,paddingBottom:h,computedItems:m}=d1(e,Q(e,"items"));return Gn(()=>e.renderless,()=>{function p(){var A,P;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";s.value===document.documentElement?(document[y]("scroll",a,{passive:!0}),document[y]("scrollend",l)):((A=s.value)==null||A[y]("scroll",a,{passive:!0}),(P=s.value)==null||P[y]("scrollend",l))}In(()=>{s.value=a_(i.vnode.el,!0),p(!0)}),wn(p)}),se(()=>{const p=m.value.map(v=>g(u1,{key:v.index,renderless:e.renderless,"onUpdate:height":y=>u(v.index,y)},{default:y=>{var A;return(A=n.default)==null?void 0:A.call(n,{item:v.raw,index:v.index,...y})}}));return e.renderless?g(Ae,null,[g("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Ie(d.value)}},null),p,g("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ie(h.value)}},null)]):g("div",{ref:s,class:["v-virtual-scroll",e.class],onScrollPassive:a,onScrollend:l,style:[r.value,e.style]},[g("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Ie(d.value),paddingBottom:Ie(h.value)}},[p])])}),{scrollToIndex:c}}});function k_(e,t){const n=ye(!1);let i;function r(a){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=_e(n,()=>{l(),a()})}else a()})}async function o(a){var c,d;if(a.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=(d=e.value)==null?void 0:d.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await s();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const h=l.getBoundingClientRect().top;for(const m of u)if(m.getBoundingClientRect().top>=h){m.focus();break}}else{const h=l.getBoundingClientRect().bottom;for(const m of[...u].reverse())if(m.getBoundingClientRect().bottom<=h){m.focus();break}}}return{onListScroll:r,onListKeydown:o}}const A_=W({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Oe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...JR({itemChildren:!1})},"Select"),TK=W({...A_(),...Ut(Jh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Gi({transition:{component:Hh}})},"VSelect"),P_=ne()({name:"VSelect",props:TK(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Mt(),r=le(),s=le(),o=le(),a=xe(e,"menu"),l=C({get:()=>a.value,set:F=>{var q;a.value&&!F&&((q=s.value)!=null&&q.ΨopenChildren)||(a.value=F)}}),{items:u,transformIn:c,transformOut:d}=w_(e),h=xe(e,"modelValue",[],F=>c(F===null?[null]:Tt(F)),F=>{const q=d(F);return e.multiple?q:q[0]??null}),m=C(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),p=Yh(),v=C(()=>h.value.map(F=>F.value)),y=ye(!1),A=C(()=>l.value?e.closeText:e.openText);let P="",D;const N=C(()=>e.hideSelected?u.value.filter(F=>!h.value.some(q=>e.valueComparator(q,F))):u.value),R=C(()=>e.hideNoData&&!N.value.length||e.readonly||(p==null?void 0:p.isReadonly.value)),V=C(()=>{var F;return{...e.menuProps,activatorProps:{...((F=e.menuProps)==null?void 0:F.activatorProps)||{},"aria-haspopup":"listbox"}}}),S=le(),{onListScroll:w,onListKeydown:_}=k_(S,r);function I(F){e.openOnClear&&(l.value=!0)}function E(){R.value||(l.value=!l.value)}function T(F){var ce,Se;if(!F.key||e.readonly||p!=null&&p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(F.key)&&F.preventDefault(),["Enter","ArrowDown"," "].includes(F.key)&&(l.value=!0),["Escape","Tab"].includes(F.key)&&(l.value=!1),F.key==="Home"?(ce=S.value)==null||ce.focus("first"):F.key==="End"&&((Se=S.value)==null||Se.focus("last"));const q=1e3;function H(he){const oe=he.key.length===1,j=!he.ctrlKey&&!he.metaKey&&!he.altKey;return oe&&j}if(e.multiple||!H(F))return;const G=performance.now();G-D>q&&(P=""),P+=F.key.toLowerCase(),D=G;const te=u.value.find(he=>he.title.toLowerCase().startsWith(P));if(te!==void 0){h.value=[te];const he=N.value.indexOf(te);lt&&window.requestAnimationFrame(()=>{var oe;he>=0&&((oe=o.value)==null||oe.scrollToIndex(he))})}}function x(F){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!F.props.disabled)if(e.multiple){const H=h.value.findIndex(te=>e.valueComparator(te.value,F.value)),G=q??!~H;if(~H){const te=G?[...h.value,F]:[...h.value];te.splice(H,1),h.value=te}else G&&(h.value=[...h.value,F])}else{const H=q!==!1;h.value=H?[F]:[],Ke(()=>{l.value=!1})}}function B(F){var q;(q=S.value)!=null&&q.$el.contains(F.relatedTarget)||(l.value=!1)}function U(){var F;y.value&&((F=r.value)==null||F.focus())}function $(F){y.value=!0}function K(F){if(F==null)h.value=[];else if(cl(r.value,":autofill")||cl(r.value,":-webkit-autofill")){const q=u.value.find(H=>H.title===F);q&&x(q)}else r.value&&(r.value.value="")}return _e(l,()=>{if(!e.hideSelected&&l.value&&h.value.length){const F=N.value.findIndex(q=>h.value.some(H=>e.valueComparator(H.value,q.value)));lt&&window.requestAnimationFrame(()=>{var q;F>=0&&((q=o.value)==null||q.scrollToIndex(F))})}}),_e(()=>e.items,(F,q)=>{l.value||y.value&&!q.length&&F.length&&(l.value=!0)}),se(()=>{const F=!!(e.chips||n.chip),q=!!(!e.hideNoData||N.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),H=h.value.length>0,G=Oo.filterProps(e),te=H||!y.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return g(Oo,ae({ref:r},G,{modelValue:h.value.map(ce=>ce.props.value).join(", "),"onUpdate:modelValue":K,focused:y.value,"onUpdate:focused":ce=>y.value=ce,validationValue:h.externalValue,counterValue:m.value,dirty:H,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:te,"onClick:clear":I,"onMousedown:control":E,onBlur:B,onKeydown:T,"aria-label":i(A.value),title:i(A.value)}),{...n,default:()=>g(Ae,null,[g(ml,ae({ref:s,modelValue:l.value,"onUpdate:modelValue":ce=>l.value=ce,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:U},V.value),{default:()=>[q&&g(Qh,ae({ref:S,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ce=>ce.preventDefault(),onKeydown:_,onFocusin:$,onScrollPassive:w,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var ce,Se,he;return[(ce=n["prepend-item"])==null?void 0:ce.call(n),!N.value.length&&!e.hideNoData&&(((Se=n["no-data"])==null?void 0:Se.call(n))??g(Or,{title:i(e.noDataText)},null)),g(Zh,{ref:o,renderless:!0,items:N.value},{default:oe=>{var ve;let{item:j,index:ue,itemRef:de}=oe;const Z=ae(j.props,{ref:de,key:ue,onClick:()=>x(j,null)});return((ve=n.item)==null?void 0:ve.call(n,{item:j,index:ue,props:Z}))??g(Or,ae(Z,{role:"option"}),{prepend:re=>{let{isSelected:O}=re;return g(Ae,null,[e.multiple&&!e.hideSelected?g(Nr,{key:j.value,modelValue:O,ripple:!1,tabindex:"-1"},null):void 0,j.props.prependAvatar&&g(Si,{image:j.props.prependAvatar},null),j.props.prependIcon&&g(rt,{icon:j.props.prependIcon},null)])}})}}),(he=n["append-item"])==null?void 0:he.call(n)]}})]}),h.value.map((ce,Se)=>{function he(de){de.stopPropagation(),de.preventDefault(),x(ce,!1)}const oe={"onClick:close":he,onKeydown(de){de.key!=="Enter"&&de.key!==" "||(de.preventDefault(),de.stopPropagation(),he(de))},onMousedown(de){de.preventDefault(),de.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},j=F?!!n.chip:!!n.selection,ue=j?Mh(F?n.chip({item:ce,index:Se,props:oe}):n.selection({item:ce,index:Se})):void 0;if(!(j&&!ue))return g("div",{key:ce.value,class:"v-select__selection"},[F?n.chip?g(Ge,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ce.title}}},{default:()=>[ue]}):g(Rl,ae({key:"chip",closable:e.closableChips,size:"small",text:ce.title,disabled:ce.props.disabled},oe),null):ue??g("span",{class:"v-select__selection-text"},[ce.title,e.multiple&&Se<h.value.length-1&&g("span",{class:"v-select__selection-comma"},[si(",")])])])})]),"append-inner":function(){var oe;for(var ce=arguments.length,Se=new Array(ce),he=0;he<ce;he++)Se[he]=arguments[he];return g(Ae,null,[(oe=n["append-inner"])==null?void 0:oe.call(n,...Se),e.menuIcon?g(rt,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ai({isFocused:y,menu:l,select:x},r)}}),CK=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Fc=W({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function kK(e,t,n){var a;const i=[],r=(n==null?void 0:n.default)??CK,s=n!=null&&n.filterKeys?Tt(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return i;e:for(let l=0;l<e.length;l++){const[u,c=u]=Tt(e[l]),d={},h={};let m=-1;if((t||o>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const y=s||Object.keys(c);for(const A of y){const P=zt(c,A),D=(a=n==null?void 0:n.customKeyFilter)==null?void 0:a[A];if(m=D?D(P,t,u):r(P,t,u),m!==-1&&m!==!1)D?d[A]=m:h[A]=m;else if((n==null?void 0:n.filterMode)==="every")continue e}}else m=r(u,t,u),m!==-1&&m!==!1&&(h.title=m);const p=Object.keys(h).length,v=Object.keys(d).length;if(!p&&!v||(n==null?void 0:n.filterMode)==="union"&&v!==o&&!p||(n==null?void 0:n.filterMode)==="intersection"&&(v!==o||!p))continue}i.push({index:l,matches:{...h,...d}})}return i}function Bc(e,t,n,i){const r=le([]),s=le(new Map),o=C(()=>i!=null&&i.transform?gt(t).map(l=>[l,i.transform(l)]):gt(t));Nt(()=>{const l=typeof n=="function"?n():gt(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=kK(o.value,u,{customKeyFilter:{...e.customKeyFilter,...gt(i==null?void 0:i.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=gt(t),h=[],m=new Map;c.forEach(p=>{let{index:v,matches:y}=p;const A=d[v];h.push(A),m.set(A.value,y)}),r.value=h,s.value=m});function a(l){return s.value.get(l.value)}return{filteredItems:r,filteredMatches:s,getMatches:a}}function AK(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?g(Ae,null,[g("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),g("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),g("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const PK=W({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Fc({filterKeys:["title"]}),...A_(),...Ut(Jh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Gi({transition:!1})},"VAutocomplete"),xK=ne()({name:"VAutocomplete",props:PK(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Mt(),r=le(),s=ye(!1),o=ye(!0),a=ye(!1),l=le(),u=le(),c=xe(e,"menu"),d=C({get:()=>c.value,set:Z=>{var ve;c.value&&!Z&&((ve=l.value)!=null&&ve.ΨopenChildren)||(c.value=Z)}}),h=ye(-1),m=C(()=>{var Z;return(Z=r.value)==null?void 0:Z.color}),p=C(()=>d.value?e.closeText:e.openText),{items:v,transformIn:y,transformOut:A}=w_(e),{textColorClasses:P,textColorStyles:D}=_n(m),N=xe(e,"search",""),R=xe(e,"modelValue",[],Z=>y(Z===null?[null]:Tt(Z)),Z=>{const ve=A(Z);return e.multiple?ve:ve[0]??null}),V=C(()=>typeof e.counterValue=="function"?e.counterValue(R.value):typeof e.counterValue=="number"?e.counterValue:R.value.length),S=Yh(),{filteredItems:w,getMatches:_}=Bc(e,v,()=>o.value?"":N.value),I=C(()=>e.hideSelected?w.value.filter(Z=>!R.value.some(ve=>ve.value===Z.value)):w.value),E=C(()=>!!(e.chips||n.chip)),T=C(()=>E.value||!!n.selection),x=C(()=>R.value.map(Z=>Z.props.value)),B=C(()=>{var ve;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&N.value===((ve=I.value[0])==null?void 0:ve.title))&&I.value.length>0&&!o.value&&!a.value}),U=C(()=>e.hideNoData&&!I.value.length||e.readonly||(S==null?void 0:S.isReadonly.value)),$=le(),{onListScroll:K,onListKeydown:F}=k_($,r);function q(Z){e.openOnClear&&(d.value=!0),N.value=""}function H(){U.value||(d.value=!0)}function G(Z){U.value||(s.value&&(Z.preventDefault(),Z.stopPropagation()),d.value=!d.value)}function te(Z){var O,L,z;if(e.readonly||S!=null&&S.isReadonly.value)return;const ve=r.value.selectionStart,re=R.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Z.key))&&Z.preventDefault(),["Enter","ArrowDown"].includes(Z.key)&&(d.value=!0),["Escape"].includes(Z.key)&&(d.value=!1),B.value&&["Enter","Tab"].includes(Z.key)&&!R.value.some(X=>{let{value:ee}=X;return ee===I.value[0].value})&&de(I.value[0]),Z.key==="ArrowDown"&&B.value&&((O=$.value)==null||O.focus("next")),["Backspace","Delete"].includes(Z.key)){if(!e.multiple&&T.value&&R.value.length>0&&!N.value)return de(R.value[0],!1);if(~h.value){const X=h.value;de(R.value[h.value],!1),h.value=X>=re-1?re-2:X}else Z.key==="Backspace"&&!N.value&&(h.value=re-1)}if(e.multiple){if(Z.key==="ArrowLeft"){if(h.value<0&&ve>0)return;const X=h.value>-1?h.value-1:re-1;R.value[X]?h.value=X:(h.value=-1,r.value.setSelectionRange((L=N.value)==null?void 0:L.length,(z=N.value)==null?void 0:z.length))}if(Z.key==="ArrowRight"){if(h.value<0)return;const X=h.value+1;R.value[X]?h.value=X:(h.value=-1,r.value.setSelectionRange(0,0))}}}function ce(Z){if(cl(r.value,":autofill")||cl(r.value,":-webkit-autofill")){const ve=v.value.find(re=>re.title===Z.target.value);ve&&de(ve)}}function Se(){var Z;s.value&&(o.value=!0,(Z=r.value)==null||Z.focus())}function he(Z){s.value=!0,setTimeout(()=>{a.value=!0})}function oe(Z){a.value=!1}function j(Z){(Z==null||Z===""&&!e.multiple&&!T.value)&&(R.value=[])}const ue=ye(!1);function de(Z){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Z||Z.props.disabled))if(e.multiple){const re=R.value.findIndex(L=>e.valueComparator(L.value,Z.value)),O=ve??!~re;if(~re){const L=O?[...R.value,Z]:[...R.value];L.splice(re,1),R.value=L}else O&&(R.value=[...R.value,Z]);e.clearOnSelect&&(N.value="")}else{const re=ve!==!1;R.value=re?[Z]:[],N.value=re&&!T.value?Z.title:"",Ke(()=>{d.value=!1,o.value=!0})}}return _e(s,(Z,ve)=>{var re;Z!==ve&&(Z?(ue.value=!0,N.value=e.multiple||T.value?"":String(((re=R.value.at(-1))==null?void 0:re.props.title)??""),o.value=!0,Ke(()=>ue.value=!1)):(!e.multiple&&N.value==null&&(R.value=[]),d.value=!1,R.value.some(O=>{let{title:L}=O;return L===N.value})||(N.value=""),h.value=-1))}),_e(N,Z=>{!s.value||ue.value||(Z&&(d.value=!0),o.value=!Z)}),_e(d,()=>{if(!e.hideSelected&&d.value&&R.value.length){const Z=I.value.findIndex(ve=>R.value.some(re=>ve.value===re.value));lt&&window.requestAnimationFrame(()=>{var ve;Z>=0&&((ve=u.value)==null||ve.scrollToIndex(Z))})}}),_e(()=>e.items,(Z,ve)=>{d.value||s.value&&!ve.length&&Z.length&&(d.value=!0)}),se(()=>{const Z=!!(!e.hideNoData||I.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),ve=R.value.length>0,re=Oo.filterProps(e);return g(Oo,ae({ref:r},re,{modelValue:N.value,"onUpdate:modelValue":[O=>N.value=O,j],focused:s.value,"onUpdate:focused":O=>s.value=O,validationValue:R.externalValue,counterValue:V.value,dirty:ve,onChange:ce,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!T.value,"v-autocomplete--selecting-index":h.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:ve?void 0:e.placeholder,"onClick:clear":q,"onMousedown:control":H,onKeydown:te}),{...n,default:()=>g(Ae,null,[g(ml,ae({ref:l,modelValue:d.value,"onUpdate:modelValue":O=>d.value=O,activator:"parent",contentClass:"v-autocomplete__content",disabled:U.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:Se},e.menuProps),{default:()=>[Z&&g(Qh,ae({ref:$,selected:x.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:O=>O.preventDefault(),onKeydown:F,onFocusin:he,onFocusout:oe,onScrollPassive:K,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var O,L,z;return[(O=n["prepend-item"])==null?void 0:O.call(n),!I.value.length&&!e.hideNoData&&(((L=n["no-data"])==null?void 0:L.call(n))??g(Or,{title:i(e.noDataText)},null)),g(Zh,{ref:u,renderless:!0,items:I.value},{default:X=>{var pe;let{item:ee,index:fe,itemRef:me}=X;const be=ae(ee.props,{ref:me,key:fe,active:B.value&&fe===0?!0:void 0,onClick:()=>de(ee,null)});return((pe=n.item)==null?void 0:pe.call(n,{item:ee,index:fe,props:be}))??g(Or,ae(be,{role:"option"}),{prepend:ge=>{let{isSelected:ke}=ge;return g(Ae,null,[e.multiple&&!e.hideSelected?g(Nr,{key:ee.value,modelValue:ke,ripple:!1,tabindex:"-1"},null):void 0,ee.props.prependAvatar&&g(Si,{image:ee.props.prependAvatar},null),ee.props.prependIcon&&g(rt,{icon:ee.props.prependIcon},null)])},title:()=>{var ge,ke;return o.value?ee.title:AK(ee.title,(ge=_(ee))==null?void 0:ge.title,((ke=N.value)==null?void 0:ke.length)??0)}})}}),(z=n["append-item"])==null?void 0:z.call(n)]}})]}),R.value.map((O,L)=>{function z(me){me.stopPropagation(),me.preventDefault(),de(O,!1)}const X={"onClick:close":z,onKeydown(me){me.key!=="Enter"&&me.key!==" "||(me.preventDefault(),me.stopPropagation(),z(me))},onMousedown(me){me.preventDefault(),me.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ee=E.value?!!n.chip:!!n.selection,fe=ee?Mh(E.value?n.chip({item:O,index:L,props:X}):n.selection({item:O,index:L})):void 0;if(!(ee&&!fe))return g("div",{key:O.value,class:["v-autocomplete__selection",L===h.value&&["v-autocomplete__selection--selected",P.value]],style:L===h.value?D.value:{}},[E.value?n.chip?g(Ge,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:O.title}}},{default:()=>[fe]}):g(Rl,ae({key:"chip",closable:e.closableChips,size:"small",text:O.title,disabled:O.props.disabled},X),null):fe??g("span",{class:"v-autocomplete__selection-text"},[O.title,e.multiple&&L<R.value.length-1&&g("span",{class:"v-autocomplete__selection-comma"},[si(",")])])])})]),"append-inner":function(){var X;for(var O=arguments.length,L=new Array(O),z=0;z<O;z++)L[z]=arguments[z];return g(Ae,null,[(X=n["append-inner"])==null?void 0:X.call(n,...L),e.menuIcon?g(rt,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:G,onClick:Vx,"aria-label":i(p.value),title:i(p.value),tabindex:"-1"},null):void 0])}})}),Ai({isFocused:s,isPristine:o,menu:d,search:N,filteredItems:w,select:de},r)}}),RK=W({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Oe,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ee(),...$r({location:"top end"}),...wt(),...Ue(),...Ye(),...Gi({transition:"scale-rotate-transition"})},"VBadge"),VK=ne()({name:"VBadge",inheritAttrs:!1,props:RK(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:i}=ht(Q(e,"color")),{roundedClasses:r}=Vt(e),{t:s}=Mt(),{textColorClasses:o,textColorStyles:a}=_n(Q(e,"textColor")),{themeClasses:l}=rR(),{locationStyles:u}=ia(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+(e.offsetY??0):["left","right"].includes(c)?+(e.offsetX??0):0));return se(()=>{const c=Number(e.content),d=!e.max||isNaN(c)?e.content:c<=+e.max?c:`${e.max}+`,[h,m]=Ov(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return g(e.tag,ae({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},m,{style:e.style}),{default:()=>{var p,v;return[g("div",{class:"v-badge__wrapper"},[(v=(p=t.slots).default)==null?void 0:v.call(p),g(Dn,{transition:e.transition},{default:()=>{var y,A;return[kt(g("span",ae({class:["v-badge__badge",l.value,n.value,r.value,o.value],style:[i.value,a.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":s(e.label,c),"aria-live":"polite",role:"status"},h),[e.dot?void 0:t.slots.badge?(A=(y=t.slots).badge)==null?void 0:A.call(y):e.icon?g(rt,{icon:e.icon},null):d]),[[Wi,e.modelValue]])]}})])]}})}),{}}}),DK=W({color:String,density:String,...Ee()},"VBannerActions"),f1=ne()({name:"VBannerActions",props:DK(),setup(e,t){let{slots:n}=t;return Rt({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),se(()=>{var i;return g("div",{class:["v-banner-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),h1=fr("v-banner-text"),NK=W({avatar:String,bgColor:String,color:String,icon:Oe,lines:String,stacked:Boolean,sticky:Boolean,text:String,...di(),...Ee(),...en(),...Jt(),...Yo({mobile:null}),...Gt(),...$r(),...Al(),...wt(),...Ue(),...Ye()},"VBanner"),OK=ne()({name:"VBanner",props:NK(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=ht(e,"bgColor"),{borderClasses:s}=Ci(e),{densityClasses:o}=On(e),{displayClasses:a,mobile:l}=Ti(e),{dimensionStyles:u}=Zt(e),{elevationClasses:c}=dn(e),{locationStyles:d}=ia(e),{positionClasses:h}=Pl(e),{roundedClasses:m}=Vt(e),{themeClasses:p}=st(e),v=Q(e,"color"),y=Q(e,"density");Rt({VBannerActions:{color:v,density:y}}),se(()=>{const A=!!(e.text||n.text),P=!!(e.avatar||e.icon),D=!!(P||n.prepend);return g(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},p.value,i.value,s.value,o.value,a.value,c.value,h.value,m.value,e.class],style:[r.value,u.value,d.value,e.style],role:"banner"},{default:()=>{var N;return[D&&g("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?g(Ge,{key:"prepend-defaults",disabled:!P,defaults:{VAvatar:{color:v.value,density:y.value,icon:e.icon,image:e.avatar}}},n.prepend):g(Si,{key:"prepend-avatar",color:v.value,density:y.value,icon:e.icon,image:e.avatar},null)]),g("div",{class:"v-banner__content"},[A&&g(h1,{key:"text"},{default:()=>{var R;return[((R=n.text)==null?void 0:R.call(n))??e.text]}}),(N=n.default)==null?void 0:N.call(n)]),n.actions&&g(f1,{key:"actions"},n.actions)]}})})}}),MK=W({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...di(),...Ee(),...en(),...Gt(),...wt(),...Qo({name:"bottom-navigation"}),...Ue({tag:"header"}),...ea({selectedClass:"v-btn--selected"}),...Ye()},"VBottomNavigation"),LK=ne()({name:"VBottomNavigation",props:MK(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=rR(),{borderClasses:r}=Ci(e),{backgroundColorClasses:s,backgroundColorStyles:o}=ht(Q(e,"bgColor")),{densityClasses:a}=On(e),{elevationClasses:l}=dn(e),{roundedClasses:u}=Vt(e),{ssrBootStyles:c}=Jo(),d=C(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),h=xe(e,"active",e.active),{layoutItemStyles:m,layoutIsReady:p}=Xo({id:e.name,order:C(()=>parseInt(e.order,10)),position:C(()=>"bottom"),layoutSize:C(()=>h.value?d.value:0),elementSize:d,active:h,absolute:Q(e,"absolute")});return Bs(e,v_),Rt({VBtn:{baseColor:Q(e,"baseColor"),color:Q(e,"color"),density:Q(e,"density"),stacked:C(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),se(()=>g(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":h.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},i.value,s.value,r.value,a.value,l.value,u.value,e.class],style:[o.value,m.value,{height:Ie(d.value)},c.value,e.style]},{default:()=>[n.default&&g("div",{class:"v-bottom-navigation__content"},[n.default()])]})),p}}),m1=W({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Mc({origin:"center center",scrollStrategy:"block",transition:{component:Hh},zIndex:2400})},"VDialog"),ep=ne()({name:"VDialog",props:m1(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=xe(e,"modelValue"),{scopeId:s}=ra(),o=le();function a(c){var m,p;const d=c.relatedTarget,h=c.target;if(d!==h&&((m=o.value)!=null&&m.contentEl)&&((p=o.value)!=null&&p.globalTop)&&![document,o.value.contentEl].includes(h)&&!o.value.contentEl.contains(h)){const v=Zu(o.value.contentEl);if(!v.length)return;const y=v[0],A=v[v.length-1];d===y?A.focus():y.focus()}}lt&&_e(()=>r.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function l(){var c;(c=o.value)!=null&&c.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return _e(r,async c=>{var d;c||(await Ke(),(d=o.value.activatorEl)==null||d.focus({preventScroll:!0}))}),se(()=>{const c=ar.filterProps(e),d=ae({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps),h=ae({tabindex:-1},e.contentProps);return g(ar,ae({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,"aria-modal":"true",activatorProps:d,contentProps:h,role:"dialog",onAfterEnter:l,onAfterLeave:u},s),{activator:i.activator,default:function(){for(var m=arguments.length,p=new Array(m),v=0;v<m;v++)p[v]=arguments[v];return g(Ge,{root:"VDialog"},{default:()=>{var y;return[(y=i.default)==null?void 0:y.call(i,...p)]}})}})}),Ai({},o)}}),FK=W({inset:Boolean,...m1({transition:"bottom-sheet-transition"})},"VBottomSheet"),BK=ne()({name:"VBottomSheet",props:FK(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue");return se(()=>{const r=ep.filterProps(e);return g(ep,ae(r,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),$K=W({divider:[Number,String],...Ee()},"VBreadcrumbsDivider"),g1=ne()({name:"VBreadcrumbsDivider",props:$K(),setup(e,t){let{slots:n}=t;return se(()=>{var i;return g("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??e.divider])}),{}}}),UK=W({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Ee(),...Dc(),...Ue({tag:"li"})},"VBreadcrumbsItem"),v1=ne()({name:"VBreadcrumbsItem",props:UK(),setup(e,t){let{slots:n,attrs:i}=t;const r=Vc(e,i),s=C(()=>{var u;return e.active||((u=r.isActive)==null?void 0:u.value)}),o=C(()=>s.value?e.activeColor:e.color),{textColorClasses:a,textColorStyles:l}=_n(o);return se(()=>g(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},a.value,e.class],style:[l.value,e.style],"aria-current":s.value?"page":void 0},{default:()=>{var u,c;return[r.isLink.value?g("a",{class:"v-breadcrumbs-item--link",href:r.href.value,"aria-current":s.value?"page":void 0,onClick:r.navigate},[((c=n.default)==null?void 0:c.call(n))??e.title]):((u=n.default)==null?void 0:u.call(n))??e.title]}})),{}}}),HK=W({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Oe,items:{type:Array,default:()=>[]},...Ee(),...en(),...wt(),...Ue({tag:"ul"})},"VBreadcrumbs"),jK=ne()({name:"VBreadcrumbs",props:HK(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=ht(Q(e,"bgColor")),{densityClasses:s}=On(e),{roundedClasses:o}=Vt(e);Rt({VBreadcrumbsDivider:{divider:Q(e,"divider")},VBreadcrumbsItem:{activeClass:Q(e,"activeClass"),activeColor:Q(e,"activeColor"),color:Q(e,"color"),disabled:Q(e,"disabled")}});const a=C(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return se(()=>{const l=!!(n.prepend||e.icon);return g(e.tag,{class:["v-breadcrumbs",i.value,s.value,o.value,e.class],style:[r.value,e.style]},{default:()=>{var u;return[l&&g("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?g(Ge,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):g(rt,{key:"prepend-icon",start:!0,icon:e.icon},null)]),a.value.map((c,d,h)=>{var v;let{item:m,raw:p}=c;return g(Ae,null,[((v=n.item)==null?void 0:v.call(n,{item:m,index:d}))??g(v1,ae({key:d,disabled:d>=h.length-1},typeof m=="string"?{title:m}:m),{default:n.title?()=>{var y;return(y=n.title)==null?void 0:y.call(n,{item:m,index:d})}:void 0}),d<h.length-1&&g(g1,null,{default:n.divider?()=>{var y;return(y=n.divider)==null?void 0:y.call(n,{item:p,index:d})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),p1=ne()({name:"VCardActions",props:Ee(),setup(e,t){let{slots:n}=t;return Rt({VBtn:{slim:!0,variant:"text"}}),se(()=>{var i;return g("div",{class:["v-card-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),zK=W({opacity:[Number,String],...Ee(),...Ue()},"VCardSubtitle"),y1=ne()({name:"VCardSubtitle",props:zK(),setup(e,t){let{slots:n}=t;return se(()=>g(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),_1=fr("v-card-title"),WK=W({appendAvatar:String,appendIcon:Oe,prependAvatar:String,prependIcon:Oe,subtitle:[String,Number],title:[String,Number],...Ee(),...en()},"VCardItem"),b1=ne()({name:"VCardItem",props:WK(),setup(e,t){let{slots:n}=t;return se(()=>{var u;const i=!!(e.prependAvatar||e.prependIcon),r=!!(i||n.prepend),s=!!(e.appendAvatar||e.appendIcon),o=!!(s||n.append),a=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return g("div",{class:["v-card-item",e.class],style:e.style},[r&&g("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?g(Ge,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):g(Ae,null,[e.prependAvatar&&g(Si,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&g(rt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),g("div",{class:"v-card-item__content"},[a&&g(_1,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&g(y1,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),o&&g("div",{key:"append",class:"v-card-item__append"},[n.append?g(Ge,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):g(Ae,null,[e.appendIcon&&g(rt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&g(Si,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),GK=W({opacity:[Number,String],...Ee(),...Ue()},"VCardText"),w1=ne()({name:"VCardText",props:GK(),setup(e,t){let{slots:n}=t;return se(()=>g(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),KK=W({appendAvatar:String,appendIcon:Oe,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Oe,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...di(),...Ee(),...en(),...Jt(),...Gt(),...Gh(),...$r(),...Al(),...wt(),...Dc(),...Ue(),...Ye(),...ki({variant:"elevated"})},"VCard"),qK=ne()({name:"VCard",directives:{Ripple:Ur},props:KK(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=st(e),{borderClasses:s}=Ci(e),{colorClasses:o,colorStyles:a,variantClasses:l}=Zo(e),{densityClasses:u}=On(e),{dimensionStyles:c}=Zt(e),{elevationClasses:d}=dn(e),{loaderClasses:h}=xc(e),{locationStyles:m}=ia(e),{positionClasses:p}=Pl(e),{roundedClasses:v}=Vt(e),y=Vc(e,n),A=C(()=>e.link!==!1&&y.isLink.value),P=C(()=>!e.disabled&&e.link!==!1&&(e.link||y.isClickable.value));return se(()=>{const D=A.value?"a":e.tag,N=!!(i.title||e.title!=null),R=!!(i.subtitle||e.subtitle!=null),V=N||R,S=!!(i.append||e.appendAvatar||e.appendIcon),w=!!(i.prepend||e.prependAvatar||e.prependIcon),_=!!(i.image||e.image),I=V||w||S,E=!!(i.text||e.text!=null);return kt(g(D,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":P.value},r.value,s.value,o.value,u.value,d.value,h.value,p.value,v.value,l.value,e.class],style:[a.value,c.value,m.value,e.style],href:y.href.value,onClick:P.value&&y.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var T;return[_&&g("div",{key:"image",class:"v-card__image"},[i.image?g(Ge,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):g(Dr,{key:"image-img",cover:!0,src:e.image},null)]),g(Rc,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),I&&g(b1,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),E&&g(w1,{key:"text"},{default:()=>{var x;return[((x=i.text)==null?void 0:x.call(i))??e.text]}}),(T=i.default)==null?void 0:T.call(i),i.actions&&g(p1,null,{default:i.actions}),Fs(P.value,"v-card")]}}),[[ai("ripple"),P.value&&e.ripple]])}),{}}}),YK=e=>{const{touchstartX:t,touchendX:n,touchstartY:i,touchendY:r}=e,s=.5,o=16;e.offsetX=n-t,e.offsetY=r-i,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&r<i-o&&e.up(e),e.down&&r>i+o&&e.down(e))};function QK(e,t){var i;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(i=t.start)==null||i.call(t,{originalEvent:e,...t})}function XK(e,t){var i;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(i=t.end)==null||i.call(t,{originalEvent:e,...t}),YK(t)}function JK(e,t){var i;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(i=t.move)==null||i.call(t,{originalEvent:e,...t})}function ZK(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>QK(n,t),touchend:n=>XK(n,t),touchmove:n=>JK(n,t)}}function eq(e,t){var a;const n=t.value,i=n!=null&&n.parent?e.parentElement:e,r=(n==null?void 0:n.options)??{passive:!0},s=(a=t.instance)==null?void 0:a.$.uid;if(!i||!s)return;const o=ZK(t.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[s]=o,kx(o).forEach(l=>{i.addEventListener(l,o[l],r)})}function tq(e,t){var s,o;const n=(s=t.value)!=null&&s.parent?e.parentElement:e,i=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const r=n._touchHandlers[i];kx(r).forEach(a=>{n.removeEventListener(a,r[a])}),delete n._touchHandlers[i]}const x_={mounted:eq,unmounted:tq},I1=Symbol.for("vuetify:v-window"),S1=Symbol.for("vuetify:v-window-group"),em=W({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ee(),...Ue(),...Ye()},"VWindow"),Mo=ne()({name:"VWindow",directives:{Touch:x_},props:em(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{isRtl:r}=Xt(),{t:s}=Mt(),o=Bs(e,S1),a=le(),l=C(()=>r.value?!e.reverse:e.reverse),u=ye(!1),c=C(()=>{const N=e.direction==="vertical"?"y":"x",V=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${N}${V}-transition`}),d=ye(0),h=le(void 0),m=C(()=>o.items.value.findIndex(N=>o.selected.value.includes(N.id)));_e(m,(N,R)=>{const V=o.items.value.length,S=V-1;V<=2?u.value=N<R:N===S&&R===0?u.value=!0:N===0&&R===S?u.value=!1:u.value=N<R}),ft(I1,{transition:c,isReversed:u,transitionCount:d,transitionHeight:h,rootRef:a});const p=C(()=>e.continuous||m.value!==0),v=C(()=>e.continuous||m.value!==o.items.value.length-1);function y(){p.value&&o.prev()}function A(){v.value&&o.next()}const P=C(()=>{const N=[],R={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":s("$vuetify.carousel.prev")};N.push(p.value?n.prev?n.prev({props:R}):g(it,R,null):g("div",null,null));const V={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":s("$vuetify.carousel.next")};return N.push(v.value?n.next?n.next({props:V}):g(it,V,null):g("div",null,null)),N}),D=C(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?y():A()},right:()=>{l.value?A():y()},start:R=>{let{originalEvent:V}=R;V.stopPropagation()}},...e.touch===!0?{}:e.touch});return se(()=>kt(g(e.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},i.value,e.class],style:e.style},{default:()=>{var N,R;return[g("div",{class:"v-window__container",style:{height:h.value}},[(N=n.default)==null?void 0:N.call(n,{group:o}),e.showArrows!==!1&&g("div",{class:"v-window__controls"},[P.value])]),(R=n.additional)==null?void 0:R.call(n,{group:o})]}}),[[ai("touch"),D.value]])),{group:o}}}),nq=W({color:String,cycle:Boolean,delimiterIcon:{type:Oe,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...em({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),iq=ne()({name:"VCarousel",props:nq(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue"),{t:r}=Mt(),s=le();let o=-1;_e(i,l),_e(()=>e.interval,l),_e(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),In(a);function a(){!e.cycle||!s.value||(o=window.setTimeout(s.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(a)}return se(()=>{const u=Mo.filterProps(e);return g(Mo,ae({ref:s},u,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Ie(e.height)},e.style]}),{default:n.default,additional:c=>{let{group:d}=c;return g(Ae,null,[!e.hideDelimiters&&g("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&g(Ge,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((h,m)=>{const p={id:`carousel-item-${h.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",m+1,d.items.value.length),class:["v-carousel__controls__item",d.isSelected(h.id)&&"v-btn--active"],onClick:()=>d.select(h.id,!0)};return n.item?n.item({props:p,item:h}):g(it,ae(h,p),null)})]})]),e.progress&&g(Wh,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(d.getItemIndex(i.value)+1)/d.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),tm=W({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ee(),...ta(),...E_()},"VWindowItem"),Lo=ne()({name:"VWindowItem",directives:{Touch:x_},props:tm(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=$e(I1),r=na(e,S1),{isBooted:s}=Jo();if(!i||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=ye(!1),a=C(()=>s.value&&(i.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!i||(o.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var p;o.value||!i||(o.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Ie((p=i.rootRef.value)==null?void 0:p.clientHeight)),i.transitionCount.value+=1)}function c(){l()}function d(p){o.value&&Ke(()=>{!a.value||!o.value||!i||(i.transitionHeight.value=Ie(p.clientHeight))})}const h=C(()=>{const p=i.isReversed.value?e.reverseTransition:e.transition;return a.value?{name:typeof p!="string"?i.transition.value:p,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:d}:!1}),{hasContent:m}=T_(e,r.isSelected);return se(()=>g(Dn,{transition:h.value,disabled:!s.value},{default:()=>{var p;return[kt(g("div",{class:["v-window-item",r.selectedClass.value,e.class],style:e.style},[m.value&&((p=n.default)==null?void 0:p.call(n))]),[[Wi,r.isSelected.value]])]}})),{groupItem:r}}}),rq=W({...gR(),...tm()},"VCarouselItem"),sq=ne()({name:"VCarouselItem",inheritAttrs:!1,props:rq(),setup(e,t){let{slots:n,attrs:i}=t;se(()=>{const r=Dr.filterProps(e),s=Lo.filterProps(e);return g(Lo,ae({class:["v-carousel-item",e.class]},s),{default:()=>[g(Dr,ae(i,r),n)]})})}}),oq=fr("v-code"),aq=W({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Ee()},"VColorPickerCanvas"),lq=ui({name:"VColorPickerCanvas",props:aq(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const i=ye(!1),r=le(),s=ye(parseFloat(e.width)),o=ye(parseFloat(e.height)),a=le({x:0,y:0}),l=C({get:()=>a.value,set(y){var D,N;if(!r.value)return;const{x:A,y:P}=y;a.value=y,n("update:color",{h:((D=e.color)==null?void 0:D.h)??0,s:Ft(A,0,s.value)/s.value,v:1-Ft(P,0,o.value)/o.value,a:((N=e.color)==null?void 0:N.a)??1})}}),u=C(()=>{const{x:y,y:A}=l.value,P=parseInt(e.dotSize,10)/2;return{width:Ie(e.dotSize),height:Ie(e.dotSize),transform:`translate(${Ie(y-P)}, ${Ie(A-P)})`}}),{resizeRef:c}=Hi(y=>{var D;if(!((D=c.el)!=null&&D.offsetParent))return;const{width:A,height:P}=y[0].contentRect;s.value=A,o.value=P});function d(y,A,P){const{left:D,top:N,width:R,height:V}=P;l.value={x:Ft(y-D,0,R),y:Ft(A-N,0,V)}}function h(y){y.type==="mousedown"&&y.preventDefault(),!e.disabled&&(m(y),window.addEventListener("mousemove",m),window.addEventListener("mouseup",p),window.addEventListener("touchmove",m),window.addEventListener("touchend",p))}function m(y){if(e.disabled||!r.value)return;i.value=!0;const A=T9(y);d(A.clientX,A.clientY,r.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",p)}function v(){var N;if(!r.value)return;const y=r.value,A=y.getContext("2d");if(!A)return;const P=A.createLinearGradient(0,0,y.width,0);P.addColorStop(0,"hsla(0, 0%, 100%, 1)"),P.addColorStop(1,`hsla(${((N=e.color)==null?void 0:N.h)??0}, 100%, 50%, 1)`),A.fillStyle=P,A.fillRect(0,0,y.width,y.height);const D=A.createLinearGradient(0,0,0,y.height);D.addColorStop(0,"hsla(0, 0%, 0%, 0)"),D.addColorStop(1,"hsla(0, 0%, 0%, 1)"),A.fillStyle=D,A.fillRect(0,0,y.width,y.height)}return _e(()=>{var y;return(y=e.color)==null?void 0:y.h},v,{immediate:!0}),_e(()=>[s.value,o.value],(y,A)=>{v(),a.value={x:l.value.x*y[0]/A[0],y:l.value.y*y[1]/A[1]}},{flush:"post"}),_e(()=>e.color,()=>{if(i.value){i.value=!1;return}a.value=e.color?{x:e.color.s*s.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),In(()=>v()),se(()=>g("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:h,onTouchstartPassive:h},[g("canvas",{ref:r,width:s.value,height:o.value},null),e.color&&g("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}});function uq(e,t){if(t){const{a:n,...i}=e;return i}return e}function cq(e,t){if(t==null||typeof t=="string"){const n=zx(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return lo(t,["r","g","b"])?n=Vr(e):lo(t,["h","s","l"])?n=Fx(e):lo(t,["h","s","v"])&&(n=e),uq(n,!lo(t,["a"])&&e.a===1)}return e}const Va={h:0,s:0,v:0,a:1},tp={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Vr,from:Lh};var DE;const dq={...tp,inputs:(DE=tp.inputs)==null?void 0:DE.slice(0,3)},np={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Fx,from:s_},fq={...np,inputs:np.inputs.slice(0,3)},E1={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:zx,from:jx},hq={...E1,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},yo={rgb:dq,rgba:tp,hsl:fq,hsla:np,hex:hq,hexa:E1},mq=e=>{let{label:t,...n}=e;return g("div",{class:"v-color-picker-edit__input"},[g("input",n,null),g("span",null,[t])])},gq=W({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(yo).includes(e)},modes:{type:Array,default:()=>Object.keys(yo),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(yo).includes(t))},...Ee()},"VColorPickerEdit"),vq=ui({name:"VColorPickerEdit",props:gq(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const i=C(()=>e.modes.map(s=>({...yo[s],name:s}))),r=C(()=>{var a;const s=i.value.find(l=>l.name===e.mode);if(!s)return[];const o=e.color?s.to(e.color):null;return(a=s.inputs)==null?void 0:a.map(l=>{let{getValue:u,getColor:c,...d}=l;return{...s.inputProps,...d,disabled:e.disabled,value:o&&u(o),onChange:h=>{const m=h.target;m&&n("update:color",s.from(c(o??s.to(Va),m.value)))}}})});return se(()=>{var s;return g("div",{class:["v-color-picker-edit",e.class],style:e.style},[(s=r.value)==null?void 0:s.map(o=>g(mq,o,null)),i.value.length>1&&g(it,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=i.value.findIndex(a=>a.name===e.mode);n("update:mode",i.value[(o+1)%i.value.length].name)}},null)])}),{}}}),R_=Symbol.for("vuetify:v-slider");function ip(e,t,n){const i=n==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return i?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function pq(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const T1=W({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...wt(),...Gt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),C1=e=>{const t=C(()=>parseFloat(e.min)),n=C(()=>parseFloat(e.max)),i=C(()=>+e.step>0?parseFloat(e.step):0),r=C(()=>Math.max(g0(i.value),g0(t.value)));function s(o){if(o=parseFloat(o),i.value<=0)return o;const a=Ft(o,t.value,n.value),l=t.value%i.value,u=Math.round((a-l)/i.value)*i.value+l;return parseFloat(Math.min(u,n.value).toFixed(r.value))}return{min:t,max:n,step:i,decimals:r,roundValue:s}},k1=e=>{let{props:t,steps:n,onSliderStart:i,onSliderMove:r,onSliderEnd:s,getActiveThumb:o}=e;const{isRtl:a}=Xt(),l=Q(t,"reverse"),u=C(()=>t.direction==="vertical"),c=C(()=>u.value!==l.value),{min:d,max:h,step:m,decimals:p,roundValue:v}=n,y=C(()=>parseInt(t.thumbSize,10)),A=C(()=>parseInt(t.tickSize,10)),P=C(()=>parseInt(t.trackSize,10)),D=C(()=>(h.value-d.value)/m.value),N=Q(t,"disabled"),R=C(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),V=C(()=>t.error||t.disabled?void 0:t.trackColor??t.color),S=C(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),w=ye(!1),_=ye(0),I=le(),E=le();function T(oe){var z;const j=t.direction==="vertical",ue=j?"top":"left",de=j?"height":"width",Z=j?"clientY":"clientX",{[ue]:ve,[de]:re}=(z=I.value)==null?void 0:z.$el.getBoundingClientRect(),O=pq(oe,Z);let L=Math.min(Math.max((O-ve-_.value)/re,0),1)||0;return(j?c.value:c.value!==a.value)&&(L=1-L),v(d.value+L*(h.value-d.value))}const x=oe=>{s({value:T(oe)}),w.value=!1,_.value=0},B=oe=>{E.value=o(oe),E.value&&(E.value.focus(),w.value=!0,E.value.contains(oe.target)?_.value=ip(oe,E.value,t.direction):(_.value=0,r({value:T(oe)})),i({value:T(oe)}))},U={passive:!0,capture:!0};function $(oe){r({value:T(oe)})}function K(oe){oe.stopPropagation(),oe.preventDefault(),x(oe),window.removeEventListener("mousemove",$,U),window.removeEventListener("mouseup",K)}function F(oe){var j;x(oe),window.removeEventListener("touchmove",$,U),(j=oe.target)==null||j.removeEventListener("touchend",F)}function q(oe){var j;B(oe),window.addEventListener("touchmove",$,U),(j=oe.target)==null||j.addEventListener("touchend",F,{passive:!1})}function H(oe){oe.preventDefault(),B(oe),window.addEventListener("mousemove",$,U),window.addEventListener("mouseup",K,{passive:!1})}const G=oe=>{const j=(oe-d.value)/(h.value-d.value)*100;return Ft(isNaN(j)?0:j,0,100)},te=Q(t,"showTicks"),ce=C(()=>te.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(oe=>({value:oe,position:G(oe),label:oe.toString()})):Object.keys(t.ticks).map(oe=>({value:parseFloat(oe),position:G(parseFloat(oe)),label:t.ticks[oe]})):D.value!==1/0?er(D.value+1).map(oe=>{const j=d.value+oe*m.value;return{value:j,position:G(j)}}):[]:[]),Se=C(()=>ce.value.some(oe=>{let{label:j}=oe;return!!j})),he={activeThumbRef:E,color:Q(t,"color"),decimals:p,disabled:N,direction:Q(t,"direction"),elevation:Q(t,"elevation"),hasLabels:Se,isReversed:l,indexFromEnd:c,min:d,max:h,mousePressed:w,numTicks:D,onSliderMousedown:H,onSliderTouchstart:q,parsedTicks:ce,parseMouseMove:T,position:G,readonly:Q(t,"readonly"),rounded:Q(t,"rounded"),roundValue:v,showTicks:te,startOffset:_,step:m,thumbSize:y,thumbColor:R,thumbLabel:Q(t,"thumbLabel"),ticks:Q(t,"ticks"),tickSize:A,trackColor:V,trackContainerRef:I,trackFillColor:S,trackSize:P,vertical:u};return ft(R_,he),he},yq=W({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ee()},"VSliderThumb"),rp=ne()({name:"VSliderThumb",directives:{Ripple:Ur},props:yq(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=$e(R_),{isRtl:s,rtlClasses:o}=Xt();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:l,disabled:u,thumbSize:c,thumbLabel:d,direction:h,isReversed:m,vertical:p,readonly:v,elevation:y,mousePressed:A,decimals:P,indexFromEnd:D}=r,N=C(()=>u.value?void 0:y.value),{elevationClasses:R}=dn(N),{textColorClasses:V,textColorStyles:S}=_n(a),{pageup:w,pagedown:_,end:I,home:E,left:T,right:x,down:B,up:U}=Nv,$=[w,_,I,E,T,x,B,U],K=C(()=>l.value?[1,2,3]:[1,5,10]);function F(H,G){if(!$.includes(H.key))return;H.preventDefault();const te=l.value||.1,ce=(e.max-e.min)/te;if([T,x,B,U].includes(H.key)){const he=(p.value?[s.value?T:x,m.value?B:U]:D.value!==s.value?[T,U]:[x,U]).includes(H.key)?1:-1,oe=H.shiftKey?2:H.ctrlKey?1:0;G=G+he*te*K.value[oe]}else if(H.key===E)G=e.min;else if(H.key===I)G=e.max;else{const Se=H.key===_?1:-1;G=G-Se*te*(ce>100?ce/10:10)}return Math.max(e.min,Math.min(e.max,G))}function q(H){const G=F(H,e.modelValue);G!=null&&i("update:modelValue",G)}return se(()=>{const H=Ie(D.value?100-e.position:e.position,"%");return g("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&A.value},e.class,o.value],style:[{"--v-slider-thumb-position":H,"--v-slider-thumb-size":Ie(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!v.value,"aria-orientation":h.value,onKeydown:v.value?void 0:q},[g("div",{class:["v-slider-thumb__surface",V.value,R.value],style:{...S.value}},null),kt(g("div",{class:["v-slider-thumb__ripple",V.value],style:S.value},null),[[ai("ripple"),e.ripple,null,{circle:!0,center:!0}]]),g(f_,{origin:"bottom center"},{default:()=>{var G;return[kt(g("div",{class:"v-slider-thumb__label-container"},[g("div",{class:["v-slider-thumb__label"]},[g("div",null,[((G=n["thumb-label"])==null?void 0:G.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?P.value:1)])])]),[[Wi,d.value&&e.focused||d.value==="always"]])]}})])}),{}}}),_q=W({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ee()},"VSliderTrack"),A1=ne()({name:"VSliderTrack",props:_q(),emits:{},setup(e,t){let{slots:n}=t;const i=$e(R_);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:o,showTicks:a,tickSize:l,trackColor:u,trackFillColor:c,trackSize:d,vertical:h,min:m,max:p,indexFromEnd:v}=i,{roundedClasses:y}=Vt(o),{backgroundColorClasses:A,backgroundColorStyles:P}=ht(c),{backgroundColorClasses:D,backgroundColorStyles:N}=ht(u),R=C(()=>`inset-${h.value?"block":"inline"}-${v.value?"end":"start"}`),V=C(()=>h.value?"height":"width"),S=C(()=>({[R.value]:"0%",[V.value]:"100%"})),w=C(()=>e.stop-e.start),_=C(()=>({[R.value]:Ie(e.start,"%"),[V.value]:Ie(w.value,"%")})),I=C(()=>a.value?(h.value?s.value.slice().reverse():s.value).map((T,x)=>{var U;const B=T.value!==m.value&&T.value!==p.value?Ie(T.position,"%"):void 0;return g("div",{key:T.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":T.position>=e.start&&T.position<=e.stop,"v-slider-track__tick--first":T.value===m.value,"v-slider-track__tick--last":T.value===p.value}],style:{[R.value]:B}},[(T.label||n["tick-label"])&&g("div",{class:"v-slider-track__tick-label"},[((U=n["tick-label"])==null?void 0:U.call(n,{tick:T,index:x}))??T.label])])}):[]);return se(()=>g("div",{class:["v-slider-track",y.value,e.class],style:[{"--v-slider-track-size":Ie(d.value),"--v-slider-tick-size":Ie(l.value)},e.style]},[g("div",{class:["v-slider-track__background",D.value,{"v-slider-track__background--opacity":!!r.value||!c.value}],style:{...S.value,...N.value}},null),g("div",{class:["v-slider-track__fill",A.value],style:{..._.value,...P.value}},null),a.value&&g("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[I.value])])),{}}}),bq=W({...Nc(),...T1(),...jr(),modelValue:{type:[Number,String],default:0}},"VSlider"),sp=ne()({name:"VSlider",props:bq(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=le(),{rtlClasses:s}=Xt(),o=C1(e),a=xe(e,"modelValue",void 0,V=>o.roundValue(V??o.min.value)),{min:l,max:u,mousePressed:c,roundValue:d,onSliderMousedown:h,onSliderTouchstart:m,trackContainerRef:p,position:v,hasLabels:y,readonly:A}=k1({props:e,steps:o,onSliderStart:()=>{i("start",a.value)},onSliderEnd:V=>{let{value:S}=V;const w=d(S);a.value=w,i("end",w)},onSliderMove:V=>{let{value:S}=V;return a.value=d(S)},getActiveThumb:()=>{var V;return(V=r.value)==null?void 0:V.$el}}),{isFocused:P,focus:D,blur:N}=Hr(e),R=C(()=>v(a.value));return se(()=>{const V=bn.filterProps(e),S=!!(e.label||n.label||n.prepend);return g(bn,ae({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||y.value,"v-slider--focused":P.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},V,{focused:P.value}),{...n,prepend:S?w=>{var _,I;return g(Ae,null,[((_=n.label)==null?void 0:_.call(n,w))??(e.label?g(xl,{id:w.id.value,class:"v-slider__label",text:e.label},null):void 0),(I=n.prepend)==null?void 0:I.call(n,w)])}:void 0,default:w=>{let{id:_,messagesId:I}=w;return g("div",{class:"v-slider__container",onMousedown:A.value?void 0:h,onTouchstartPassive:A.value?void 0:m},[g("input",{id:_.value,name:e.name||_.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value},null),g(A1,{ref:p,start:0,stop:R.value},{"tick-label":n["tick-label"]}),g(rp,{ref:r,"aria-describedby":I.value,focused:P.value,min:l.value,max:u.value,modelValue:a.value,"onUpdate:modelValue":E=>a.value=E,position:R.value,elevation:e.elevation,onFocus:D,onBlur:N,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),wq=W({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Ee()},"VColorPickerPreview"),Iq=ui({name:"VColorPickerPreview",props:wq(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const i=new AbortController;Mp(()=>i.abort());async function r(){if(!f0)return;const s=new window.EyeDropper;try{const o=await s.open({signal:i.signal}),a=jx(o.sRGBHex);n("update:color",{...e.color??Va,...a})}catch{}}return se(()=>{var s,o;return g("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[f0&&g("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[g(it,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),g("div",{class:"v-color-picker-preview__dot"},[g("div",{style:{background:$x(e.color??Va)}},null)]),g("div",{class:"v-color-picker-preview__sliders"},[g(sp,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(s=e.color)==null?void 0:s.h,"onUpdate:modelValue":a=>n("update:color",{...e.color??Va,h:a}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&g(sp,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((o=e.color)==null?void 0:o.a)??1,"onUpdate:modelValue":a=>n("update:color",{...e.color??Va,a}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Sq={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Eq={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Tq={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Cq={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},kq={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Aq={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Pq={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},xq={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Rq={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},Vq={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Dq={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Nq={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Oq={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Mq={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Lq={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Fq={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Bq={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},$q={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Uq={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Hq={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},jq={red:Sq,pink:Eq,purple:Tq,deepPurple:Cq,indigo:kq,blue:Aq,lightBlue:Pq,cyan:xq,teal:Rq,green:Vq,lightGreen:Dq,lime:Nq,yellow:Oq,amber:Mq,orange:Lq,deepOrange:Fq,brown:Bq,blueGrey:$q,grey:Uq,shades:Hq},zq=W({swatches:{type:Array,default:()=>Wq(jq)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Ee()},"VColorPickerSwatches");function Wq(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const Gq=ui({name:"VColorPickerSwatches",props:zq(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return se(()=>g("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:Ie(e.maxHeight)},e.style]},[g("div",null,[e.swatches.map(i=>g("div",{class:"v-color-picker-swatches__swatch"},[i.map(r=>{const s=_i(r),o=Lh(s),a=Bx(s);return g("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[g("div",{style:{background:a}},[e.color&&cr(e.color,o)?g(rt,{size:"x-small",icon:"$success",color:Q9(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),nm=W({color:String,...di(),...Ee(),...Jt(),...Gt(),...$r(),...Al(),...wt(),...Ue(),...Ye()},"VSheet"),Fo=ne()({name:"VSheet",props:nm(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{backgroundColorClasses:r,backgroundColorStyles:s}=ht(Q(e,"color")),{borderClasses:o}=Ci(e),{dimensionStyles:a}=Zt(e),{elevationClasses:l}=dn(e),{locationStyles:u}=ia(e),{positionClasses:c}=Pl(e),{roundedClasses:d}=Vt(e);return se(()=>g(e.tag,{class:["v-sheet",i.value,r.value,o.value,l.value,c.value,d.value,e.class],style:[s.value,a.value,u.value,e.style]},n)),{}}}),Kq=W({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(yo).includes(e)},modes:{type:Array,default:()=>Object.keys(yo),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(yo).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Ut(nm({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),qq=ui({name:"VColorPicker",props:Kq(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=xe(e,"mode"),n=le(null),i=xe(e,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=Lh(_i(l))}catch{return null}return u},l=>l?cq(l,e.modelValue):null),r=C(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:s}=Xt();let o=!0;_e(i,l=>{if(!o){o=!0;return}l&&(n.value=l.h)},{immediate:!0});const a=l=>{o=!1,n.value=l.h,i.value=l};return In(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),Rt({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),se(()=>{const l=Fo.filterProps(e);return g(Fo,ae({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",s.value,e.class],style:[{"--v-color-picker-color-hsv":$x({...r.value??Va,a:1})},e.style]},l,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&g(lq,{key:"canvas",color:r.value,"onUpdate:color":a,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&g("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&g(Iq,{key:"preview",color:r.value,"onUpdate:color":a,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&g(vq,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":u=>t.value=u,color:r.value,"onUpdate:color":a,disabled:e.disabled},null)]),e.showSwatches&&g(Gq,{key:"swatches",color:r.value,"onUpdate:color":a,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function Yq(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?g(Ae,null,[g("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),g("span",{class:"v-combobox__mask"},[e.substr(t,n)]),g("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const Qq=W({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Fc({filterKeys:["title"]}),...A_({hideNoData:!0,returnObject:!0}),...Ut(Jh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Gi({transition:!1})},"VCombobox"),Xq=ne()({name:"VCombobox",props:Qq(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var ve;let{emit:n,slots:i}=t;const{t:r}=Mt(),s=le(),o=ye(!1),a=ye(!0),l=ye(!1),u=le(),c=le(),d=xe(e,"menu"),h=C({get:()=>d.value,set:re=>{var O;d.value&&!re&&((O=u.value)!=null&&O.ΨopenChildren)||(d.value=re)}}),m=ye(-1);let p=!1;const v=C(()=>{var re;return(re=s.value)==null?void 0:re.color}),y=C(()=>h.value?e.closeText:e.openText),{items:A,transformIn:P,transformOut:D}=w_(e),{textColorClasses:N,textColorStyles:R}=_n(v),V=xe(e,"modelValue",[],re=>P(Tt(re)),re=>{const O=D(re);return e.multiple?O:O[0]??null}),S=Yh(),w=C(()=>!!(e.chips||i.chip)),_=C(()=>w.value||!!i.selection),I=ye(!e.multiple&&!_.value?((ve=V.value[0])==null?void 0:ve.title)??"":""),E=C({get:()=>I.value,set:re=>{var O;if(I.value=re??"",!e.multiple&&!_.value&&(V.value=[fs(e,re)]),re&&e.multiple&&((O=e.delimiters)!=null&&O.length)){const L=re.split(new RegExp(`(?:${e.delimiters.join("|")})+`));L.length>1&&(L.forEach(z=>{z=z.trim(),z&&j(fs(e,z))}),I.value="")}re||(m.value=-1),a.value=!re}}),T=C(()=>typeof e.counterValue=="function"?e.counterValue(V.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?V.value.length:E.value.length);_e(I,re=>{p?Ke(()=>p=!1):o.value&&!h.value&&(h.value=!0),n("update:search",re)}),_e(V,re=>{var O;!e.multiple&&!_.value&&(I.value=((O=re[0])==null?void 0:O.title)??"")});const{filteredItems:x,getMatches:B}=Bc(e,A,()=>a.value?"":E.value),U=C(()=>e.hideSelected?x.value.filter(re=>!V.value.some(O=>O.value===re.value)):x.value),$=C(()=>V.value.map(re=>re.value)),K=C(()=>{var O;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&E.value===((O=U.value[0])==null?void 0:O.title))&&U.value.length>0&&!a.value&&!l.value}),F=C(()=>e.hideNoData&&!U.value.length||e.readonly||(S==null?void 0:S.isReadonly.value)),q=le(),{onListScroll:H,onListKeydown:G}=k_(q,s);function te(re){p=!0,e.openOnClear&&(h.value=!0)}function ce(){F.value||(h.value=!0)}function Se(re){F.value||(o.value&&(re.preventDefault(),re.stopPropagation()),h.value=!h.value)}function he(re){var z;if(w9(re)||e.readonly||S!=null&&S.isReadonly.value)return;const O=s.value.selectionStart,L=V.value.length;if((m.value>-1||["Enter","ArrowDown","ArrowUp"].includes(re.key))&&re.preventDefault(),["Enter","ArrowDown"].includes(re.key)&&(h.value=!0),["Escape"].includes(re.key)&&(h.value=!1),["Enter","Escape","Tab"].includes(re.key)&&(K.value&&["Enter","Tab"].includes(re.key)&&!V.value.some(X=>{let{value:ee}=X;return ee===U.value[0].value})&&j(x.value[0]),a.value=!0),re.key==="ArrowDown"&&K.value&&((z=q.value)==null||z.focus("next")),re.key==="Enter"&&E.value&&(j(fs(e,E.value)),_.value&&(I.value="")),["Backspace","Delete"].includes(re.key)){if(!e.multiple&&_.value&&V.value.length>0&&!E.value)return j(V.value[0],!1);if(~m.value){const X=m.value;j(V.value[m.value],!1),m.value=X>=L-1?L-2:X}else re.key==="Backspace"&&!E.value&&(m.value=L-1)}if(e.multiple){if(re.key==="ArrowLeft"){if(m.value<0&&O>0)return;const X=m.value>-1?m.value-1:L-1;V.value[X]?m.value=X:(m.value=-1,s.value.setSelectionRange(E.value.length,E.value.length))}if(re.key==="ArrowRight"){if(m.value<0)return;const X=m.value+1;V.value[X]?m.value=X:(m.value=-1,s.value.setSelectionRange(0,0))}}}function oe(){var re;o.value&&(a.value=!0,(re=s.value)==null||re.focus())}function j(re){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!re||re.props.disabled))if(e.multiple){const L=V.value.findIndex(X=>e.valueComparator(X.value,re.value)),z=O??!~L;if(~L){const X=z?[...V.value,re]:[...V.value];X.splice(L,1),V.value=X}else z&&(V.value=[...V.value,re]);e.clearOnSelect&&(E.value="")}else{const L=O!==!1;V.value=L?[re]:[],I.value=L&&!_.value?re.title:"",Ke(()=>{h.value=!1,a.value=!0})}}function ue(re){o.value=!0,setTimeout(()=>{l.value=!0})}function de(re){l.value=!1}function Z(re){(re==null||re===""&&!e.multiple&&!_.value)&&(V.value=[])}return _e(o,(re,O)=>{if(!(re||re===O)&&(m.value=-1,h.value=!1,E.value)){if(e.multiple){j(fs(e,E.value));return}if(!_.value)return;V.value.some(L=>{let{title:z}=L;return z===E.value})?I.value="":j(fs(e,E.value))}}),_e(h,()=>{if(!e.hideSelected&&h.value&&V.value.length){const re=U.value.findIndex(O=>V.value.some(L=>e.valueComparator(L.value,O.value)));lt&&window.requestAnimationFrame(()=>{var O;re>=0&&((O=c.value)==null||O.scrollToIndex(re))})}}),_e(()=>e.items,(re,O)=>{h.value||o.value&&!O.length&&re.length&&(h.value=!0)}),se(()=>{const re=!!(!e.hideNoData||U.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),O=V.value.length>0,L=Oo.filterProps(e);return g(Oo,ae({ref:s},L,{modelValue:E.value,"onUpdate:modelValue":[z=>E.value=z,Z],focused:o.value,"onUpdate:focused":z=>o.value=z,validationValue:V.externalValue,counterValue:T.value,dirty:O,class:["v-combobox",{"v-combobox--active-menu":h.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!_.value,"v-combobox--selecting-index":m.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:O?void 0:e.placeholder,"onClick:clear":te,"onMousedown:control":ce,onKeydown:he}),{...i,default:()=>g(Ae,null,[g(ml,ae({ref:u,modelValue:h.value,"onUpdate:modelValue":z=>h.value=z,activator:"parent",contentClass:"v-combobox__content",disabled:F.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:oe},e.menuProps),{default:()=>[re&&g(Qh,ae({ref:q,selected:$.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:z=>z.preventDefault(),onKeydown:G,onFocusin:ue,onFocusout:de,onScrollPassive:H,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var z,X,ee;return[(z=i["prepend-item"])==null?void 0:z.call(i),!U.value.length&&!e.hideNoData&&(((X=i["no-data"])==null?void 0:X.call(i))??g(Or,{title:r(e.noDataText)},null)),g(Zh,{ref:c,renderless:!0,items:U.value},{default:fe=>{var ke;let{item:me,index:be,itemRef:pe}=fe;const ge=ae(me.props,{ref:pe,key:be,active:K.value&&be===0?!0:void 0,onClick:()=>j(me,null)});return((ke=i.item)==null?void 0:ke.call(i,{item:me,index:be,props:ge}))??g(Or,ae(ge,{role:"option"}),{prepend:Ve=>{let{isSelected:Re}=Ve;return g(Ae,null,[e.multiple&&!e.hideSelected?g(Nr,{key:me.value,modelValue:Re,ripple:!1,tabindex:"-1"},null):void 0,me.props.prependAvatar&&g(Si,{image:me.props.prependAvatar},null),me.props.prependIcon&&g(rt,{icon:me.props.prependIcon},null)])},title:()=>{var Ve,Re;return a.value?me.title:Yq(me.title,(Ve=B(me))==null?void 0:Ve.title,((Re=E.value)==null?void 0:Re.length)??0)}})}}),(ee=i["append-item"])==null?void 0:ee.call(i)]}})]}),V.value.map((z,X)=>{function ee(pe){pe.stopPropagation(),pe.preventDefault(),j(z,!1)}const fe={"onClick:close":ee,onKeydown(pe){pe.key!=="Enter"&&pe.key!==" "||(pe.preventDefault(),pe.stopPropagation(),ee(pe))},onMousedown(pe){pe.preventDefault(),pe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},me=w.value?!!i.chip:!!i.selection,be=me?Mh(w.value?i.chip({item:z,index:X,props:fe}):i.selection({item:z,index:X})):void 0;if(!(me&&!be))return g("div",{key:z.value,class:["v-combobox__selection",X===m.value&&["v-combobox__selection--selected",N.value]],style:X===m.value?R.value:{}},[w.value?i.chip?g(Ge,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:z.title}}},{default:()=>[be]}):g(Rl,ae({key:"chip",closable:e.closableChips,size:"small",text:z.title,disabled:z.props.disabled},fe),null):be??g("span",{class:"v-combobox__selection-text"},[z.title,e.multiple&&X<V.value.length-1&&g("span",{class:"v-combobox__selection-comma"},[si(",")])])])})]),"append-inner":function(){var fe;for(var z=arguments.length,X=new Array(z),ee=0;ee<z;ee++)X[ee]=arguments[ee];return g(Ae,null,[(fe=i["append-inner"])==null?void 0:fe.call(i,...X),(!e.hideNoData||e.items.length)&&e.menuIcon?g(rt,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:Se,onClick:Vx,"aria-label":r(y.value),title:r(y.value),tabindex:"-1"},null):void 0])}})}),Ai({isFocused:o,isPristine:a,menu:h,search:E,selectionIndex:m,filteredItems:x,select:j},s)}}),Jq=W({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),Zq=ne()({name:"VConfirmEdit",props:Jq(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=xe(e,"modelValue"),s=le();Nt(()=>{s.value=structuredClone(Be(r.value))});const{t:o}=Mt(),a=C(()=>cr(r.value,s.value));function l(){r.value=s.value,n("save",s.value)}function u(){s.value=structuredClone(Be(r.value)),n("cancel")}let c=!1;return se(()=>{var h;const d=g(Ae,null,[g(it,{disabled:a.value,variant:"text",color:e.color,onClick:u,text:o(e.cancelText)},null),g(it,{disabled:a.value,variant:"text",color:e.color,onClick:l,text:o(e.okText)},null)]);return g(Ae,null,[(h=i.default)==null?void 0:h.call(i,{model:s,save:l,cancel:u,isPristine:a.value,get actions(){return c=!0,d}}),!c&&d])}),{save:l,cancel:u,isPristine:a}}}),P1=W({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),x1=Symbol.for("vuetify:datatable:expanded");function im(e){const t=Q(e,"expandOnClick"),n=xe(e,"expanded",e.expanded,a=>new Set(a),a=>[...a.values()]);function i(a,l){const u=new Set(n.value);l?u.add(a.value):u.delete(a.value),n.value=u}function r(a){return n.value.has(a.value)}function s(a){i(a,!r(a))}const o={expand:i,expanded:n,expandOnClick:t,isExpanded:r,toggleExpand:s};return ft(x1,o),o}function R1(){const e=$e(x1);if(!e)throw new Error("foo");return e}const V_=W({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),V1=Symbol.for("vuetify:data-table-group");function D_(e){return{groupBy:xe(e,"groupBy")}}function rm(e){const{disableSort:t,groupBy:n,sortBy:i}=e,r=le(new Set),s=C(()=>n.value.map(c=>({...c,order:c.order??!1})).concat(t!=null&&t.value?[]:i.value));function o(c){return r.value.has(c.id)}function a(c){const d=new Set(r.value);o(c)?d.delete(c.id):d.add(c.id),r.value=d}function l(c){function d(h){const m=[];for(const p of h.items)"type"in p&&p.type==="group"?m.push(...d(p)):m.push(p);return m}return d({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:s,toggleGroup:a,opened:r,groupBy:n,extractRows:l,isGroupOpen:o};return ft(V1,u),u}function D1(){const e=$e(V1);if(!e)throw new Error("Missing group!");return e}function e7(e,t){if(!e.length)return[];const n=new Map;for(const i of e){const r=No(i.raw,t);n.has(r)||n.set(r,[]),n.get(r).push(i)}return n}function N1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=e7(e,t[0]),s=[],o=t.slice(1);return r.forEach((a,l)=>{const u=t[0],c=`${i}_${u}_${l}`;s.push({depth:n,id:c,key:u,value:l,items:o.length?N1(a,o,n+1,c):a,type:"group"})}),s}function O1(e,t){const n=[];for(const i of e)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(t.has(i.id)||i.value==null)&&n.push(...O1(i.items,t))):n.push(i);return n}function sm(e,t,n){return{flatItems:C(()=>{if(!t.value.length)return e.value;const r=N1(e.value,t.value.map(s=>s.key));return O1(r,n.value)})}}function om(e){let{page:t,itemsPerPage:n,sortBy:i,groupBy:r,search:s}=e;const o=Ot("VDataTable"),a=C(()=>({page:t.value,itemsPerPage:n.value,sortBy:i.value,groupBy:r.value,search:s.value}));let l=null;_e(a,()=>{cr(l,a.value)||(l&&l.search!==a.value.search&&(t.value=1),o.emit("update:options",a.value),l=a.value)},{deep:!0,immediate:!0})}const N_=W({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),M1=Symbol.for("vuetify:data-table-pagination");function O_(e){const t=xe(e,"page",void 0,i=>+(i??1)),n=xe(e,"itemsPerPage",void 0,i=>+(i??10));return{page:t,itemsPerPage:n}}function M_(e){const{page:t,itemsPerPage:n,itemsLength:i}=e,r=C(()=>n.value===-1?0:n.value*(t.value-1)),s=C(()=>n.value===-1?i.value:Math.min(i.value,r.value+n.value)),o=C(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));Nt(()=>{t.value>o.value&&(t.value=o.value)});function a(h){n.value=h,t.value=1}function l(){t.value=Ft(t.value+1,1,o.value)}function u(){t.value=Ft(t.value-1,1,o.value)}function c(h){t.value=Ft(h,1,o.value)}const d={page:t,itemsPerPage:n,startIndex:r,stopIndex:s,pageCount:o,itemsLength:i,nextPage:l,prevPage:u,setPage:c,setItemsPerPage:a};return ft(M1,d),d}function t7(){const e=$e(M1);if(!e)throw new Error("Missing pagination!");return e}function L1(e){const t=Ot("usePaginatedItems"),{items:n,startIndex:i,stopIndex:r,itemsPerPage:s}=e,o=C(()=>s.value<=0?n.value:n.value.slice(i.value,r.value));return _e(o,a=>{t.emit("update:currentItems",a)}),{paginatedItems:o}}const n7={showSelectAll:!1,allSelected:()=>[],select:e=>{var i;let{items:t,value:n}=e;return new Set(n?[(i=t[0])==null?void 0:i.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},F1={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,currentPage:n,selected:i}=e;return F1.select({items:n,value:t,selected:i})}},B1={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,allItems:n,selected:i}=e;return B1.select({items:n,value:t,selected:i})}},$1=W({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:cr}},"DataTable-select"),U1=Symbol.for("vuetify:data-table-selection");function am(e,t){let{allItems:n,currentPage:i}=t;const r=xe(e,"modelValue",e.modelValue,A=>new Set(Tt(A).map(P=>{var D;return((D=n.value.find(N=>e.valueComparator(P,N.value)))==null?void 0:D.value)??P})),A=>[...A.values()]),s=C(()=>n.value.filter(A=>A.selectable)),o=C(()=>i.value.filter(A=>A.selectable)),a=C(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return n7;case"all":return B1;case"page":default:return F1}});function l(A){return Tt(A).every(P=>r.value.has(P.value))}function u(A){return Tt(A).some(P=>r.value.has(P.value))}function c(A,P){const D=a.value.select({items:A,value:P,selected:new Set(r.value)});r.value=D}function d(A){c([A],!l([A]))}function h(A){const P=a.value.selectAll({value:A,allItems:s.value,currentPage:o.value,selected:new Set(r.value)});r.value=P}const m=C(()=>r.value.size>0),p=C(()=>{const A=a.value.allSelected({allItems:s.value,currentPage:o.value});return!!A.length&&l(A)}),v=C(()=>a.value.showSelectAll),y={toggleSelect:d,select:c,selectAll:h,isSelected:l,isSomeSelected:u,someSelected:m,allSelected:p,showSelectAll:v};return ft(U1,y),y}function lm(){const e=$e(U1);if(!e)throw new Error("Missing selection!");return e}const H1=W({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),j1=Symbol.for("vuetify:data-table-sort");function um(e){const t=xe(e,"sortBy"),n=Q(e,"mustSort"),i=Q(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:i}}function cm(e){const{sortBy:t,mustSort:n,multiSort:i,page:r}=e,s=l=>{if(l.key==null)return;let u=t.value.map(d=>({...d}))??[];const c=u.find(d=>d.key===l.key);c?c.order==="desc"?n.value?c.order="asc":u=u.filter(d=>d.key!==l.key):c.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],t.value=u,r&&(r.value=1)};function o(l){return!!t.value.find(u=>u.key===l.key)}const a={sortBy:t,toggleSort:s,isSorted:o};return ft(j1,a),a}function z1(){const e=$e(j1);if(!e)throw new Error("Missing sort!");return e}function L_(e,t,n,i){const r=Mt();return{sortedItems:C(()=>{var o,a;return n.value.length?i7(t.value,n.value,r.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...e.customKeySort,...(o=i==null?void 0:i.sortFunctions)==null?void 0:o.value},sortRawFunctions:(a=i==null?void 0:i.sortRawFunctions)==null?void 0:a.value}):t.value})}}function i7(e,t,n,i){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,i!=null&&i.transform?i.transform(o):o]).sort((o,a)=>{var l,u;for(let c=0;c<t.length;c++){let d=!1;const h=t[c].key,m=t[c].order??"asc";if(m===!1)continue;let p=No(o[1],h),v=No(a[1],h),y=o[0].raw,A=a[0].raw;if(m==="desc"&&([p,v]=[v,p],[y,A]=[A,y]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[h]){const P=i.sortRawFunctions[h](y,A);if(P==null)continue;if(d=!0,P)return P}if((u=i==null?void 0:i.sortFunctions)!=null&&u[h]){const P=i.sortFunctions[h](p,v);if(P==null)continue;if(d=!0,P)return P}if(!d){if(p instanceof Date&&v instanceof Date)return p.getTime()-v.getTime();if([p,v]=[p,v].map(P=>P!=null?P.toString().toLocaleLowerCase():P),p!==v)return Ad(p)&&Ad(v)?0:Ad(p)?-1:Ad(v)?1:!isNaN(p)&&!isNaN(v)?Number(p)-Number(v):r.compare(p,v)}}return 0}).map(o=>{let[a]=o;return a})}const r7=W({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function s7(e,t){const n=e.returnObject?t:zt(t,e.itemValue),i=zt(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:t}}function o7(e,t){const n=[];for(const i of t)n.push(s7(e,i));return n}function a7(e){return{items:C(()=>o7(e,e.items))}}const l7=W({search:String,loading:Boolean,...Ee(),...r7(),...$1(),...H1(),...N_({itemsPerPage:5}),...P1(),...V_(),...Fc(),...Ue(),...Gi({transition:{component:ic,hideOnLeave:!0}})},"VDataIterator"),u7=ne()({name:"VDataIterator",props:l7(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"groupBy"),r=Q(e,"search"),{items:s}=a7(e),{filteredItems:o}=Bc(e,s,r,{transform:G=>G.raw}),{sortBy:a,multiSort:l,mustSort:u}=um(e),{page:c,itemsPerPage:d}=O_(e),{toggleSort:h}=cm({sortBy:a,multiSort:l,mustSort:u,page:c}),{sortByWithGroups:m,opened:p,extractRows:v,isGroupOpen:y,toggleGroup:A}=rm({groupBy:i,sortBy:a}),{sortedItems:P}=L_(e,o,m,{transform:G=>G.raw}),{flatItems:D}=sm(P,i,p),N=C(()=>D.value.length),{startIndex:R,stopIndex:V,pageCount:S,prevPage:w,nextPage:_,setItemsPerPage:I,setPage:E}=M_({page:c,itemsPerPage:d,itemsLength:N}),{paginatedItems:T}=L1({items:D,startIndex:R,stopIndex:V,itemsPerPage:d}),x=C(()=>v(T.value)),{isSelected:B,select:U,selectAll:$,toggleSelect:K}=am(e,{allItems:s,currentPage:x}),{isExpanded:F,toggleExpand:q}=im(e);om({page:c,itemsPerPage:d,sortBy:a,groupBy:i,search:r});const H=C(()=>({page:c.value,itemsPerPage:d.value,sortBy:a.value,pageCount:S.value,toggleSort:h,prevPage:w,nextPage:_,setPage:E,setItemsPerPage:I,isSelected:B,select:U,selectAll:$,toggleSelect:K,isExpanded:F,toggleExpand:q,isGroupOpen:y,toggleGroup:A,items:x.value,groupedItems:T.value}));return se(()=>g(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var G,te;return[(G=n.header)==null?void 0:G.call(n,H.value),g(Dn,{transition:e.transition},{default:()=>{var ce,Se;return[e.loading?g(Rc,{key:"loader",name:"v-data-iterator",active:!0},{default:he=>{var oe;return(oe=n.loader)==null?void 0:oe.call(n,he)}}):g("div",{key:"items"},[T.value.length?(Se=n.default)==null?void 0:Se.call(n,H.value):(ce=n["no-data"])==null?void 0:ce.call(n)])]}}),(te=n.footer)==null?void 0:te.call(n,H.value)]}})),{}}});function c7(){const e=le([]);IT(()=>e.value=[]);function t(n,i){e.value[i]=n}return{refs:e,updateRef:t}}const d7=W({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Oe,default:"$first"},prevIcon:{type:Oe,default:"$prev"},nextIcon:{type:Oe,default:"$next"},lastIcon:{type:Oe,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...di(),...Ee(),...en(),...Gt(),...wt(),...hr(),...Ue({tag:"nav"}),...Ye(),...ki({variant:"text"})},"VPagination"),op=ne()({name:"VPagination",props:d7(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=xe(e,"modelValue"),{t:s,n:o}=Mt(),{isRtl:a}=Xt(),{themeClasses:l}=st(e),{width:u}=Ti(),c=ye(-1);Rt(void 0,{scoped:!0});const{resizeRef:d}=Hi(w=>{if(!w.length)return;const{target:_,contentRect:I}=w[0],E=_.querySelector(".v-pagination__list > *");if(!E)return;const T=I.width,x=E.offsetWidth+parseFloat(getComputedStyle(E).marginRight)*2;c.value=v(T,x)}),h=C(()=>parseInt(e.length,10)),m=C(()=>parseInt(e.start,10)),p=C(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):c.value>=0?c.value:v(u.value,58));function v(w,_){const I=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((w-_*I)/_).toFixed(2)))}const y=C(()=>{if(h.value<=0||isNaN(h.value)||h.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=0)return[];if(p.value===1)return[r.value];if(h.value<=p.value)return er(h.value,m.value);const w=p.value%2===0,_=w?p.value/2:Math.floor(p.value/2),I=w?_:_+1,E=h.value-_;if(I-r.value>=0)return[...er(Math.max(1,p.value-1),m.value),e.ellipsis,h.value];if(r.value-E>=(w?1:0)){const T=p.value-1,x=h.value-T+m.value;return[m.value,e.ellipsis,...er(T,x)]}else{const T=Math.max(1,p.value-3),x=T===1?r.value:r.value-Math.ceil(T/2)+m.value;return[m.value,e.ellipsis,...er(T,x),e.ellipsis,h.value]}});function A(w,_,I){w.preventDefault(),r.value=_,I&&i(I,_)}const{refs:P,updateRef:D}=c7();Rt({VPaginationBtn:{color:Q(e,"color"),border:Q(e,"border"),density:Q(e,"density"),size:Q(e,"size"),variant:Q(e,"variant"),rounded:Q(e,"rounded"),elevation:Q(e,"elevation")}});const N=C(()=>y.value.map((w,_)=>{const I=E=>D(E,_);if(typeof w=="string")return{isActive:!1,key:`ellipsis-${_}`,page:w,props:{ref:I,ellipsis:!0,icon:!0,disabled:!0}};{const E=w===r.value;return{isActive:E,key:w,page:o(w),props:{ref:I,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:E?e.activeColor:e.color,"aria-current":E,"aria-label":s(E?e.currentPageAriaLabel:e.pageAriaLabel,w),onClick:T=>A(T,w)}}}})),R=C(()=>{const w=!!e.disabled||r.value<=m.value,_=!!e.disabled||r.value>=m.value+h.value-1;return{first:e.showFirstLastPage?{icon:a.value?e.lastIcon:e.firstIcon,onClick:I=>A(I,m.value,"first"),disabled:w,"aria-label":s(e.firstAriaLabel),"aria-disabled":w}:void 0,prev:{icon:a.value?e.nextIcon:e.prevIcon,onClick:I=>A(I,r.value-1,"prev"),disabled:w,"aria-label":s(e.previousAriaLabel),"aria-disabled":w},next:{icon:a.value?e.prevIcon:e.nextIcon,onClick:I=>A(I,r.value+1,"next"),disabled:_,"aria-label":s(e.nextAriaLabel),"aria-disabled":_},last:e.showFirstLastPage?{icon:a.value?e.firstIcon:e.lastIcon,onClick:I=>A(I,m.value+h.value-1,"last"),disabled:_,"aria-label":s(e.lastAriaLabel),"aria-disabled":_}:void 0}});function V(){var _;const w=r.value-m.value;(_=P.value[w])==null||_.$el.focus()}function S(w){w.key===Nv.left&&!e.disabled&&r.value>+e.start?(r.value=r.value-1,Ke(V)):w.key===Nv.right&&!e.disabled&&r.value<m.value+h.value-1&&(r.value=r.value+1,Ke(V))}return se(()=>g(e.tag,{ref:d,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:S,"data-test":"v-pagination-root"},{default:()=>[g("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&g("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(R.value.first):g(it,ae({_as:"VPaginationBtn"},R.value.first),null)]),g("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(R.value.prev):g(it,ae({_as:"VPaginationBtn"},R.value.prev),null)]),N.value.map((w,_)=>g("li",{key:w.key,class:["v-pagination__item",{"v-pagination__item--is-active":w.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(w):g(it,ae({_as:"VPaginationBtn"},w.props),{default:()=>[w.page]})])),g("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(R.value.next):g(it,ae({_as:"VPaginationBtn"},R.value.next),null)]),e.showFirstLastPage&&g("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(R.value.last):g(it,ae({_as:"VPaginationBtn"},R.value.last),null)])])]})),{}}}),F_=W({prevIcon:{type:Oe,default:"$prev"},nextIcon:{type:Oe,default:"$next"},firstIcon:{type:Oe,default:"$first"},lastIcon:{type:Oe,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),uc=ne()({name:"VDataTableFooter",props:F_(),setup(e,t){let{slots:n}=t;const{t:i}=Mt(),{page:r,pageCount:s,startIndex:o,stopIndex:a,itemsLength:l,itemsPerPage:u,setItemsPerPage:c}=t7(),d=C(()=>e.itemsPerPageOptions.map(h=>typeof h=="number"?{value:h,title:h===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(h)}:{...h,title:isNaN(Number(h.title))?i(h.title):h.title}));return se(()=>{var m;const h=op.filterProps(e);return g("div",{class:"v-data-table-footer"},[(m=n.prepend)==null?void 0:m.call(n),g("div",{class:"v-data-table-footer__items-per-page"},[g("span",null,[i(e.itemsPerPageText)]),g(P_,{items:d.value,modelValue:u.value,"onUpdate:modelValue":p=>c(Number(p)),density:"compact",variant:"outlined","hide-details":!0},null)]),g("div",{class:"v-data-table-footer__info"},[g("div",null,[i(e.pageText,l.value?o.value+1:0,a.value,l.value)])]),g("div",{class:"v-data-table-footer__pagination"},[g(op,ae({modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},h),null)])])}),{}}}),Wf=t3({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const i=e.tag??"td";return g(i,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Ie(e.height),width:Ie(e.width),maxWidth:Ie(e.maxWidth),left:Ie(e.fixedOffset||null)}},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}),f7=W({headers:Array},"DataTable-header"),W1=Symbol.for("vuetify:data-table-headers"),G1={title:"",sortable:!1},h7={...G1,width:48};function m7(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let r=!1;for(let s=0;s<t.length;s++)if(t[s].priority>i){t.splice(s,0,{element:n,priority:i}),r=!0;break}r||t.push({element:n,priority:i})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const i=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===i&&(n+=1);return n},dequeue:()=>t.shift()}}function ap(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)ap(n,t);return t}function K1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&K1(n.children,t);return t}function g7(e){if(e.key){if(e.key==="data-table-group")return G1;if(["data-table-expand","data-table-select"].includes(e.key))return h7}}function B_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>B_(n,t+1))):t}function v7(e){let t=!1;function n(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(o&&(s.fixed=!0),s.fixed)if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a],!0);else t?isNaN(+s.width)&&(`${s.key}`,void 0):s.lastFixed=!0,t=!0;else if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a]);else t=!1}for(let s=e.length-1;s>=0;s--)n(e[s]);function i(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return o;if(s.children){s.fixedOffset=o;for(const a of s.children)o=i(a,o)}else s.fixed&&(s.fixedOffset=o,o+=parseFloat(s.width||"0")||0);return o}let r=0;for(const s of e)r=i(s,r)}function p7(e,t){const n=[];let i=0;const r=m7(e);for(;r.size()>0;){let o=r.count();const a=[];let l=1;for(;o>0;){const{element:u,priority:c}=r.dequeue(),d=t-i-B_(u);if(a.push({...u,rowspan:d??1,colspan:u.children?ap(u).length:1}),u.children)for(const h of u.children){const m=c%1+l/Math.pow(10,i+2);r.enqueue(h,i+d+m)}l+=1,o-=1}i+=1,n.push(a)}return{columns:e.map(o=>ap(o)).flat(),headers:n}}function q1(e){const t=[];for(const n of e){const i={...g7(n),...n},r=i.key??(typeof i.value=="string"?i.value:null),s=i.value??r??null,o={...i,key:r,value:s,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?q1(i.children):void 0};t.push(o)}return t}function $_(e,t){const n=le([]),i=le([]),r=le({}),s=le({}),o=le({});Nt(()=>{var v,y,A;const u=(e.headers||Object.keys(e.items[0]??{}).map(P=>({key:P,title:lr(P)}))).slice(),c=K1(u);(v=t==null?void 0:t.groupBy)!=null&&v.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(y=t==null?void 0:t.showSelect)!=null&&y.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(A=t==null?void 0:t.showExpand)!=null&&A.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const d=q1(u);v7(d);const h=Math.max(...d.map(P=>B_(P)))+1,m=p7(d,h);n.value=m.headers,i.value=m.columns;const p=m.headers.flat(1);for(const P of p)P.key&&(P.sortable&&(P.sort&&(r.value[P.key]=P.sort),P.sortRaw&&(s.value[P.key]=P.sortRaw)),P.filter&&(o.value[P.key]=P.filter))});const a={headers:n,columns:i,sortFunctions:r,sortRawFunctions:s,filterFunctions:o};return ft(W1,a),a}function dm(){const e=$e(W1);if(!e)throw new Error("Missing headers!");return e}const Y1=W({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Oe,default:"$sortAsc"},sortDescIcon:{type:Oe,default:"$sortDesc"},headerProps:{type:Object},...Yo(),...Gh()},"VDataTableHeaders"),Bo=ne()({name:"VDataTableHeaders",props:Y1(),setup(e,t){let{slots:n}=t;const{t:i}=Mt(),{toggleSort:r,sortBy:s,isSorted:o}=z1(),{someSelected:a,allSelected:l,selectAll:u,showSelectAll:c}=lm(),{columns:d,headers:h}=dm(),{loaderClasses:m}=xc(e);function p(w,_){if(!(!e.sticky&&!w.fixed))return{position:"sticky",left:w.fixed?Ie(w.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${_})`:void 0}}function v(w){const _=s.value.find(I=>I.key===w.key);return _?_.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:A}=ht(e,"color"),{displayClasses:P,mobile:D}=Ti(e),N=C(()=>({headers:h.value,columns:d.value,toggleSort:r,isSorted:o,sortBy:s.value,someSelected:a.value,allSelected:l.value,selectAll:u,getSortIcon:v})),R=C(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},P.value,m.value]),V=w=>{let{column:_,x:I,y:E}=w;const T=_.key==="data-table-select"||_.key==="data-table-expand",x=ae(e.headerProps??{},_.headerProps??{});return g(Wf,ae({tag:"th",align:_.align,class:[{"v-data-table__th--sortable":_.sortable&&!e.disableSort,"v-data-table__th--sorted":o(_),"v-data-table__th--fixed":_.fixed},...R.value],style:{width:Ie(_.width),minWidth:Ie(_.minWidth),maxWidth:Ie(_.maxWidth),...p(_,E)},colspan:_.colspan,rowspan:_.rowspan,onClick:_.sortable?()=>r(_):void 0,fixed:_.fixed,nowrap:_.nowrap,lastFixed:_.lastFixed,noPadding:T},x),{default:()=>{var $;const B=`header.${_.key}`,U={column:_,selectAll:u,isSorted:o,toggleSort:r,sortBy:s.value,someSelected:a.value,allSelected:l.value,getSortIcon:v};return n[B]?n[B](U):_.key==="data-table-select"?(($=n["header.data-table-select"])==null?void 0:$.call(n,U))??(c.value&&g(Nr,{modelValue:l.value,indeterminate:a.value&&!l.value,"onUpdate:modelValue":u},null)):g("div",{class:"v-data-table-header__content"},[g("span",null,[_.title]),_.sortable&&!e.disableSort&&g(rt,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(_)},null),e.multiSort&&o(_)&&g("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:A.value},[s.value.findIndex(K=>K.key===_.key)+1])])}})},S=()=>{const w=ae(e.headerProps??{}??{}),_=C(()=>d.value.filter(E=>(E==null?void 0:E.sortable)&&!e.disableSort)),I=C(()=>{if(d.value.find(T=>T.key==="data-table-select")!=null)return l.value?"$checkboxOn":a.value?"$checkboxIndeterminate":"$checkboxOff"});return g(Wf,ae({tag:"th",class:[...R.value],colspan:h.value.length+1},w),{default:()=>[g("div",{class:"v-data-table-header__content"},[g(P_,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:_.value,label:i("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:I.value,"onClick:append":()=>u(!l.value)},{...n,chip:E=>{var T;return g(Rl,{onClick:(T=E.item.raw)!=null&&T.sortable?()=>r(E.item.raw):void 0,onMousedown:x=>{x.preventDefault(),x.stopPropagation()}},{default:()=>[E.item.title,g(rt,{class:["v-data-table__td-sort-icon",o(E.item.raw)&&"v-data-table__td-sort-icon-active"],icon:v(E.item.raw),size:"small"},null)]})}})])]})};se(()=>D.value?g("tr",null,[g(S,null,null)]):g(Ae,null,[n.headers?n.headers(N.value):h.value.map((w,_)=>g("tr",null,[w.map((I,E)=>g(V,{column:I,x:E,y:_},null))])),e.loading&&g("tr",{class:"v-data-table-progress"},[g("th",{colspan:d.value.length},[g(Rc,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),y7=W({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),_7=ne()({name:"VDataTableGroupHeaderRow",props:y7(),setup(e,t){let{slots:n}=t;const{isGroupOpen:i,toggleGroup:r,extractRows:s}=D1(),{isSelected:o,isSomeSelected:a,select:l}=lm(),{columns:u}=dm(),c=C(()=>s([e.item]));return()=>g("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(d=>{var h,m;if(d.key==="data-table-group"){const p=i(e.item)?"$expand":"$next",v=()=>r(e.item);return((h=n["data-table-group"])==null?void 0:h.call(n,{item:e.item,count:c.value.length,props:{icon:p,onClick:v}}))??g(Wf,{class:"v-data-table-group-header-row__column"},{default:()=>[g(it,{size:"small",variant:"text",icon:p,onClick:v},null),g("span",null,[e.item.value]),g("span",null,[si("("),c.value.length,si(")")])]})}if(d.key==="data-table-select"){const p=o(c.value),v=a(c.value)&&!p,y=A=>l(c.value,A);return((m=n["data-table-select"])==null?void 0:m.call(n,{props:{modelValue:p,indeterminate:v,"onUpdate:modelValue":y}}))??g("td",null,[g(Nr,{modelValue:p,indeterminate:v,"onUpdate:modelValue":y},null)])}return g("td",null,null)})])}}),b7=W({index:Number,item:Object,cellProps:[Object,Function],onClick:ln(),onContextmenu:ln(),onDblclick:ln(),...Yo()},"VDataTableRow"),U_=ne()({name:"VDataTableRow",props:b7(),setup(e,t){let{slots:n}=t;const{displayClasses:i,mobile:r}=Ti(e,"v-data-table__tr"),{isSelected:s,toggleSelect:o,someSelected:a,allSelected:l,selectAll:u}=lm(),{isExpanded:c,toggleExpand:d}=R1(),{toggleSort:h,sortBy:m,isSorted:p}=z1(),{columns:v}=dm();se(()=>g("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},i.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&v.value.map((y,A)=>{const P=e.item,D=`item.${y.key}`,N=`header.${y.key}`,R={index:e.index,item:P.raw,internalItem:P,value:No(P.columns,y.key),column:y,isSelected:s,toggleSelect:o,isExpanded:c,toggleExpand:d},V={column:y,selectAll:u,isSorted:p,toggleSort:h,sortBy:m.value,someSelected:a.value,allSelected:l.value,getSortIcon:()=>""},S=typeof e.cellProps=="function"?e.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value,column:y}):e.cellProps,w=typeof y.cellProps=="function"?y.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value}):y.cellProps;return g(Wf,ae({align:y.align,class:{"v-data-table__td--expanded-row":y.key==="data-table-expand","v-data-table__td--select-row":y.key==="data-table-select"},fixed:y.fixed,fixedOffset:y.fixedOffset,lastFixed:y.lastFixed,maxWidth:r.value?void 0:y.maxWidth,noPadding:y.key==="data-table-select"||y.key==="data-table-expand",nowrap:y.nowrap,width:r.value?void 0:y.width},S,w),{default:()=>{var I,E,T,x,B;if(n[D]&&!r.value)return(I=n[D])==null?void 0:I.call(n,R);if(y.key==="data-table-select")return((E=n["item.data-table-select"])==null?void 0:E.call(n,R))??g(Nr,{disabled:!P.selectable,modelValue:s([P]),onClick:Hg(()=>o(P),["stop"])},null);if(y.key==="data-table-expand")return((T=n["item.data-table-expand"])==null?void 0:T.call(n,R))??g(it,{icon:c(P)?"$collapse":"$expand",size:"small",variant:"text",onClick:Hg(()=>d(P),["stop"])},null);const _=_o(R.value);return r.value?g(Ae,null,[g("div",{class:"v-data-table__td-title"},[((x=n[N])==null?void 0:x.call(n,V))??y.title]),g("div",{class:"v-data-table__td-value"},[((B=n[D])==null?void 0:B.call(n,R))??_])]):_}})})]))}}),Q1=W({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Yo()},"VDataTableRows"),$o=ne()({name:"VDataTableRows",inheritAttrs:!1,props:Q1(),setup(e,t){let{attrs:n,slots:i}=t;const{columns:r}=dm(),{expandOnClick:s,toggleExpand:o,isExpanded:a}=R1(),{isSelected:l,toggleSelect:u}=lm(),{toggleGroup:c,isGroupOpen:d}=D1(),{t:h}=Mt(),{mobile:m}=Ti(e);return se(()=>{var p,v;return e.loading&&(!e.items.length||i.loading)?g("tr",{class:"v-data-table-rows-loading",key:"loading"},[g("td",{colspan:r.value.length},[((p=i.loading)==null?void 0:p.call(i))??h(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?g("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[g("td",{colspan:r.value.length},[((v=i["no-data"])==null?void 0:v.call(i))??h(e.noDataText)])]):g(Ae,null,[e.items.map((y,A)=>{var N;if(y.type==="group"){const R={index:A,item:y,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u,toggleGroup:c,isGroupOpen:d};return i["group-header"]?i["group-header"](R):g(_7,ae({key:`group-header_${y.id}`,item:y},N0(n,":group-header",()=>R)),i)}const P={index:A,item:y.raw,internalItem:y,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u},D={...P,props:ae({key:`item_${y.key??y.index}`,onClick:s.value?()=>{o(y)}:void 0,index:A,item:y,cellProps:e.cellProps,mobile:m.value},N0(n,":row",()=>P),typeof e.rowProps=="function"?e.rowProps({item:P.item,index:P.index,internalItem:P.internalItem}):e.rowProps)};return g(Ae,{key:D.props.key},[i.item?i.item(D):g(U_,D.props,i),a(y)&&((N=i["expanded-row"])==null?void 0:N.call(i,P))])})])}),{}}}),X1=W({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ee(),...en(),...Ue(),...Ye()},"VTable"),Uo=ne()({name:"VTable",props:X1(),setup(e,t){let{slots:n,emit:i}=t;const{themeClasses:r}=st(e),{densityClasses:s}=On(e);return se(()=>g(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,s.value,e.class],style:e.style},{default:()=>{var o,a,l;return[(o=n.top)==null?void 0:o.call(n),n.default?g("div",{class:"v-table__wrapper",style:{height:Ie(e.height)}},[g("table",null,[n.default()])]):(a=n.wrapper)==null?void 0:a.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),w7=W({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function I7(e,t,n,i){const r=e.returnObject?t:zt(t,e.itemValue),s=zt(t,e.itemSelectable,!0),o=i.reduce((a,l)=>(l.key!=null&&(a[l.key]=zt(t,l.value)),a),{});return{type:"item",key:e.returnObject?zt(t,e.itemValue):r,index:n,value:r,selectable:s,columns:o,raw:t}}function S7(e,t,n){return t.map((i,r)=>I7(e,i,r,n))}function H_(e,t){return{items:C(()=>S7(e,e.items,t.value))}}const j_=W({...Q1(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...P1(),...V_(),...f7(),...w7(),...$1(),...H1(),...Y1(),...X1()},"DataTable"),E7=W({...N_(),...j_(),...Fc(),...F_()},"VDataTable"),T7=ne()({name:"VDataTable",props:E7(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=D_(e),{sortBy:s,multiSort:o,mustSort:a}=um(e),{page:l,itemsPerPage:u}=O_(e),{disableSort:c}=Rs(e),{columns:d,headers:h,sortFunctions:m,sortRawFunctions:p,filterFunctions:v}=$_(e,{groupBy:r,showSelect:Q(e,"showSelect"),showExpand:Q(e,"showExpand")}),{items:y}=H_(e,d),A=Q(e,"search"),{filteredItems:P}=Bc(e,y,A,{transform:j=>j.columns,customKeyFilter:v}),{toggleSort:D}=cm({sortBy:s,multiSort:o,mustSort:a,page:l}),{sortByWithGroups:N,opened:R,extractRows:V,isGroupOpen:S,toggleGroup:w}=rm({groupBy:r,sortBy:s,disableSort:c}),{sortedItems:_}=L_(e,P,N,{transform:j=>({...j.raw,...j.columns}),sortFunctions:m,sortRawFunctions:p}),{flatItems:I}=sm(_,r,R),E=C(()=>I.value.length),{startIndex:T,stopIndex:x,pageCount:B,setItemsPerPage:U}=M_({page:l,itemsPerPage:u,itemsLength:E}),{paginatedItems:$}=L1({items:I,startIndex:T,stopIndex:x,itemsPerPage:u}),K=C(()=>V($.value)),{isSelected:F,select:q,selectAll:H,toggleSelect:G,someSelected:te,allSelected:ce}=am(e,{allItems:y,currentPage:K}),{isExpanded:Se,toggleExpand:he}=im(e);om({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:A}),Rt({VDataTableRows:{hideNoData:Q(e,"hideNoData"),noDataText:Q(e,"noDataText"),loading:Q(e,"loading"),loadingText:Q(e,"loadingText")}});const oe=C(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:B.value,toggleSort:D,setItemsPerPage:U,someSelected:te.value,allSelected:ce.value,isSelected:F,select:q,selectAll:H,toggleSelect:G,isExpanded:Se,toggleExpand:he,isGroupOpen:S,toggleGroup:w,items:K.value.map(j=>j.raw),internalItems:K.value,groupedItems:$.value,columns:d.value,headers:h.value}));return se(()=>{const j=uc.filterProps(e),ue=Bo.filterProps(e),de=$o.filterProps(e),Z=Uo.filterProps(e);return g(Uo,ae({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Z),{top:()=>{var ve;return(ve=i.top)==null?void 0:ve.call(i,oe.value)},default:()=>{var ve,re,O,L,z,X;return i.default?i.default(oe.value):g(Ae,null,[(ve=i.colgroup)==null?void 0:ve.call(i,oe.value),!e.hideDefaultHeader&&g("thead",{key:"thead"},[g(Bo,ue,i)]),(re=i.thead)==null?void 0:re.call(i,oe.value),!e.hideDefaultBody&&g("tbody",null,[(O=i["body.prepend"])==null?void 0:O.call(i,oe.value),i.body?i.body(oe.value):g($o,ae(n,de,{items:$.value}),i),(L=i["body.append"])==null?void 0:L.call(i,oe.value)]),(z=i.tbody)==null?void 0:z.call(i,oe.value),(X=i.tfoot)==null?void 0:X.call(i,oe.value)])},bottom:()=>i.bottom?i.bottom(oe.value):!e.hideDefaultFooter&&g(Ae,null,[g(Oc,null,null),g(uc,j,{prepend:i["footer.prepend"]})])})}),{}}}),C7=W({...j_(),...V_(),...c1(),...Fc()},"VDataTableVirtual"),k7=ne()({name:"VDataTableVirtual",props:C7(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=D_(e),{sortBy:s,multiSort:o,mustSort:a}=um(e),{disableSort:l}=Rs(e),{columns:u,headers:c,filterFunctions:d,sortFunctions:h,sortRawFunctions:m}=$_(e,{groupBy:r,showSelect:Q(e,"showSelect"),showExpand:Q(e,"showExpand")}),{items:p}=H_(e,u),v=Q(e,"search"),{filteredItems:y}=Bc(e,p,v,{transform:ue=>ue.columns,customKeyFilter:d}),{toggleSort:A}=cm({sortBy:s,multiSort:o,mustSort:a}),{sortByWithGroups:P,opened:D,extractRows:N,isGroupOpen:R,toggleGroup:V}=rm({groupBy:r,sortBy:s,disableSort:l}),{sortedItems:S}=L_(e,y,P,{transform:ue=>({...ue.raw,...ue.columns}),sortFunctions:h,sortRawFunctions:m}),{flatItems:w}=sm(S,r,D),_=C(()=>N(w.value)),{isSelected:I,select:E,selectAll:T,toggleSelect:x,someSelected:B,allSelected:U}=am(e,{allItems:_,currentPage:_}),{isExpanded:$,toggleExpand:K}=im(e),{containerRef:F,markerRef:q,paddingTop:H,paddingBottom:G,computedItems:te,handleItemResize:ce,handleScroll:Se,handleScrollend:he}=d1(e,w),oe=C(()=>te.value.map(ue=>ue.raw));om({sortBy:s,page:ye(1),itemsPerPage:ye(-1),groupBy:r,search:v}),Rt({VDataTableRows:{hideNoData:Q(e,"hideNoData"),noDataText:Q(e,"noDataText"),loading:Q(e,"loading"),loadingText:Q(e,"loadingText")}});const j=C(()=>({sortBy:s.value,toggleSort:A,someSelected:B.value,allSelected:U.value,isSelected:I,select:E,selectAll:T,toggleSelect:x,isExpanded:$,toggleExpand:K,isGroupOpen:R,toggleGroup:V,items:_.value.map(ue=>ue.raw),internalItems:_.value,groupedItems:w.value,columns:u.value,headers:c.value}));se(()=>{const ue=Bo.filterProps(e),de=$o.filterProps(e),Z=Uo.filterProps(e);return g(Uo,ae({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Z),{top:()=>{var ve;return(ve=i.top)==null?void 0:ve.call(i,j.value)},wrapper:()=>{var ve,re,O;return g("div",{ref:F,onScrollPassive:Se,onScrollend:he,class:"v-table__wrapper",style:{height:Ie(e.height)}},[g("table",null,[(ve=i.colgroup)==null?void 0:ve.call(i,j.value),!e.hideDefaultHeader&&g("thead",{key:"thead"},[g(Bo,ae(ue,{sticky:e.fixedHeader}),i)]),!e.hideDefaultBody&&g("tbody",null,[g("tr",{ref:q,style:{height:Ie(H.value),border:0}},[g("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(re=i["body.prepend"])==null?void 0:re.call(i,j.value),g($o,ae(n,de,{items:oe.value}),{...i,item:L=>g(u1,{key:L.internalItem.index,renderless:!0,"onUpdate:height":z=>ce(L.internalItem.index,z)},{default:z=>{var ee;let{itemRef:X}=z;return((ee=i.item)==null?void 0:ee.call(i,{...L,itemRef:X}))??g(U_,ae(L.props,{ref:X,key:L.internalItem.index,index:L.internalItem.index}),i)}})}),(O=i["body.append"])==null?void 0:O.call(i,j.value),g("tr",{style:{height:Ie(G.value),border:0}},[g("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var ve;return(ve=i.bottom)==null?void 0:ve.call(i,j.value)}})})}}),A7=W({itemsLength:{type:[Number,String],required:!0},...N_(),...j_(),...F_()},"VDataTableServer"),P7=ne()({name:"VDataTableServer",props:A7(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=D_(e),{sortBy:s,multiSort:o,mustSort:a}=um(e),{page:l,itemsPerPage:u}=O_(e),{disableSort:c}=Rs(e),d=C(()=>parseInt(e.itemsLength,10)),{columns:h,headers:m}=$_(e,{groupBy:r,showSelect:Q(e,"showSelect"),showExpand:Q(e,"showExpand")}),{items:p}=H_(e,h),{toggleSort:v}=cm({sortBy:s,multiSort:o,mustSort:a,page:l}),{opened:y,isGroupOpen:A,toggleGroup:P,extractRows:D}=rm({groupBy:r,sortBy:s,disableSort:c}),{pageCount:N,setItemsPerPage:R}=M_({page:l,itemsPerPage:u,itemsLength:d}),{flatItems:V}=sm(p,r,y),{isSelected:S,select:w,selectAll:_,toggleSelect:I,someSelected:E,allSelected:T}=am(e,{allItems:p,currentPage:p}),{isExpanded:x,toggleExpand:B}=im(e),U=C(()=>D(p.value));om({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:Q(e,"search")}),ft("v-data-table",{toggleSort:v,sortBy:s}),Rt({VDataTableRows:{hideNoData:Q(e,"hideNoData"),noDataText:Q(e,"noDataText"),loading:Q(e,"loading"),loadingText:Q(e,"loadingText")}});const $=C(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:N.value,toggleSort:v,setItemsPerPage:R,someSelected:E.value,allSelected:T.value,isSelected:S,select:w,selectAll:_,toggleSelect:I,isExpanded:x,toggleExpand:B,isGroupOpen:A,toggleGroup:P,items:U.value.map(K=>K.raw),internalItems:U.value,groupedItems:V.value,columns:h.value,headers:m.value}));se(()=>{const K=uc.filterProps(e),F=Bo.filterProps(e),q=$o.filterProps(e),H=Uo.filterProps(e);return g(Uo,ae({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},H),{top:()=>{var G;return(G=i.top)==null?void 0:G.call(i,$.value)},default:()=>{var G,te,ce,Se,he,oe;return i.default?i.default($.value):g(Ae,null,[(G=i.colgroup)==null?void 0:G.call(i,$.value),!e.hideDefaultHeader&&g("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[g(Bo,ae(F,{sticky:e.fixedHeader}),i)]),(te=i.thead)==null?void 0:te.call(i,$.value),!e.hideDefaultBody&&g("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(ce=i["body.prepend"])==null?void 0:ce.call(i,$.value),i.body?i.body($.value):g($o,ae(n,q,{items:V.value}),i),(Se=i["body.append"])==null?void 0:Se.call(i,$.value)]),(he=i.tbody)==null?void 0:he.call(i,$.value),(oe=i.tfoot)==null?void 0:oe.call(i,$.value)])},bottom:()=>i.bottom?i.bottom($.value):!e.hideDefaultFooter&&g(Ae,null,[g(Oc,null,null),g(uc,K,{prepend:i["footer.prepend"]})])})})}}),x7=W({fluid:{type:Boolean,default:!1},...Ee(),...Ue()},"VContainer"),R7=ne()({name:"VContainer",props:x7(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=Xt();return se(()=>g(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:e.style},n)),{}}}),J1=Bh.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),Z1=Bh.reduce((e,t)=>{const n="offset"+lr(t);return e[n]={type:[String,Number],default:null},e},{}),eV=Bh.reduce((e,t)=>{const n="order"+lr(t);return e[n]={type:[String,Number],default:null},e},{}),sE={col:Object.keys(J1),offset:Object.keys(Z1),order:Object.keys(eV)};function V7(e,t,n){let i=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");i+=`-${r}`}return e==="col"&&(i="v-"+i),e==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const D7=["auto","start","end","center","baseline","stretch"],N7=W({cols:{type:[Boolean,String,Number],default:!1},...J1,offset:{type:[String,Number],default:null},...Z1,order:{type:[String,Number],default:null},...eV,alignSelf:{type:String,default:null,validator:e=>D7.includes(e)},...Ee(),...Ue()},"VCol"),O7=ne()({name:"VCol",props:N7(),setup(e,t){let{slots:n}=t;const i=C(()=>{const r=[];let s;for(s in sE)sE[s].forEach(a=>{const l=e[a],u=V7(s,a,l);u&&r.push(u)});const o=r.some(a=>a.startsWith("v-col-"));return r.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return zi(e.tag,{class:[i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),z_=["start","end","center"],tV=["space-between","space-around","space-evenly"];function W_(e,t){return Bh.reduce((n,i)=>{const r=e+lr(i);return n[r]=t(),n},{})}const M7=[...z_,"baseline","stretch"],nV=e=>M7.includes(e),iV=W_("align",()=>({type:String,default:null,validator:nV})),L7=[...z_,...tV],rV=e=>L7.includes(e),sV=W_("justify",()=>({type:String,default:null,validator:rV})),F7=[...z_,...tV,"stretch"],oV=e=>F7.includes(e),aV=W_("alignContent",()=>({type:String,default:null,validator:oV})),oE={align:Object.keys(iV),justify:Object.keys(sV),alignContent:Object.keys(aV)},B7={align:"align",justify:"justify",alignContent:"align-content"};function $7(e,t,n){let i=B7[e];if(n!=null){if(t){const r=t.replace(e,"");i+=`-${r}`}return i+=`-${n}`,i.toLowerCase()}}const U7=W({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:nV},...iV,justify:{type:String,default:null,validator:rV},...sV,alignContent:{type:String,default:null,validator:oV},...aV,...Ee(),...Ue()},"VRow"),H7=ne()({name:"VRow",props:U7(),setup(e,t){let{slots:n}=t;const i=C(()=>{const r=[];let s;for(s in oE)oE[s].forEach(o=>{const a=e[o],l=$7(s,o,a);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return zi(e.tag,{class:["v-row",i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),lV=fr("v-spacer","div","VSpacer"),uV=W({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Oe,default:"$next"},prevIcon:{type:Oe,default:"$prev"},modeIcon:{type:Oe,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),lp=ne()({name:"VDatePickerControls",props:uV(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const i=C(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),r=C(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),s=C(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=C(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function a(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function c(){n("click:month")}return se(()=>g("div",{class:["v-date-picker-controls"]},[g(it,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:e.text,variant:"text",rounded:!0,onClick:c},null),g(it,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:r.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),g(lV,{key:"mode-spacer"},null),g("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[g(it,{disabled:s.value,icon:e.prevIcon,variant:"text",onClick:a},null),g(it,{disabled:o.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),j7=W({appendIcon:String,color:String,header:String,transition:String,onClick:ln()},"VDatePickerHeader"),up=ne()({name:"VDatePickerHeader",props:j7(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=ht(e,"color");function o(){n("click")}function a(){n("click:append")}return se(()=>{const l=!!(i.default||e.header),u=!!(i.append||e.appendIcon);return g("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value],style:s.value,onClick:o},[i.prepend&&g("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&g(Dn,{key:"content",name:e.transition},{default:()=>{var c;return[g("div",{key:e.header,class:"v-date-picker-header__content"},[((c=i.default)==null?void 0:c.call(i))??e.header])]}}),u&&g("div",{class:"v-date-picker-header__append"},[i.append?g(Ge,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=i.append)==null?void 0:c.call(i)]}}):g(it,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:a},null)])])}),{}}}),z7=W({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function W7(e){const t=Ac(),n=xe(e,"modelValue",[],m=>Tt(m)),i=C(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=xe(e,"year",void 0,m=>{const p=m!=null?Number(m):t.getYear(i.value);return t.startOfYear(t.setYear(t.date(),p))},m=>t.getYear(m)),s=xe(e,"month",void 0,m=>{const p=m!=null?Number(m):t.getMonth(i.value),v=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(v,p)},m=>t.getMonth(m)),o=C(()=>{const m=Number(e.firstDayOfWeek??0);return e.weekdays.map(p=>(p+m)%7)}),a=C(()=>{const m=t.getWeekArray(s.value,e.firstDayOfWeek),p=m.flat(),v=6*7;if(e.weeksInMonth==="static"&&p.length<v){const y=p[p.length-1];let A=[];for(let P=1;P<=v-p.length;P++)A.push(t.addDays(y,P)),P%7===0&&(m.push(A),A=[])}return m});function l(m,p){return m.filter(v=>o.value.includes(t.toJsDate(v).getDay())).map((v,y)=>{const A=t.toISO(v),P=!t.isSameMonth(v,s.value),D=t.isSameDay(v,t.startOfMonth(s.value)),N=t.isSameDay(v,t.endOfMonth(s.value)),R=t.isSameDay(v,s.value);return{date:v,isoDate:A,formatted:t.format(v,"keyboardDate"),year:t.getYear(v),month:t.getMonth(v),isDisabled:h(v),isWeekStart:y%7===0,isWeekEnd:y%7===6,isToday:t.isSameDay(v,p),isAdjacent:P,isHidden:P&&!e.showAdjacentMonths,isStart:D,isSelected:n.value.some(V=>t.isSameDay(v,V)),isEnd:N,isSame:R,localized:t.format(v,"dayOfMonth")}})}const u=C(()=>{const m=t.startOfWeek(i.value,e.firstDayOfWeek),p=[];for(let y=0;y<=6;y++)p.push(t.addDays(m,y));const v=t.date();return l(p,v)}),c=C(()=>{const m=a.value.flat(),p=t.date();return l(m,p)}),d=C(()=>a.value.map(m=>m.length?Z3(t,m[0]):null));function h(m){if(e.disabled)return!0;const p=t.date(m);return e.min&&t.isAfter(t.date(e.min),p)||e.max&&t.isAfter(p,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(v=>t.isSameDay(t.date(v),p)):typeof e.allowedDates=="function"?!e.allowedDates(p):!1}return{displayValue:i,daysInMonth:c,daysInWeek:u,genDays:l,model:n,weeksInMonth:a,weekDays:o,weekNumbers:d}}const cV=W({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...z7()},"VDatePickerMonth"),cp=ne()({name:"VDatePickerMonth",props:cV(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=le(),{daysInMonth:s,model:o,weekNumbers:a}=W7(e),l=Ac(),u=ye(),c=ye(),d=ye(!1),h=C(()=>d.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(u.value=o.value[0],o.value.length>1&&(c.value=o.value[o.value.length-1]));const m=C(()=>{const A=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=A});_e(s,(A,P)=>{P&&(d.value=l.isBefore(A[0].date,P[0].date))});function p(A){const P=l.startOfDay(A);if(o.value.length===0?u.value=void 0:o.value.length===1&&(u.value=o.value[0],c.value=void 0),!u.value)u.value=P,o.value=[u.value];else if(c.value)u.value=A,c.value=void 0,o.value=[u.value];else{if(l.isSameDay(P,u.value)){u.value=void 0,o.value=[];return}else l.isBefore(P,u.value)?(c.value=l.endOfDay(u.value),u.value=P):c.value=l.endOfDay(P);const D=l.getDiff(c.value,u.value,"days"),N=[u.value];for(let R=1;R<D;R++){const V=l.addDays(u.value,R);N.push(V)}N.push(c.value),o.value=N}}function v(A){const P=o.value.findIndex(D=>l.isSameDay(D,A));if(P===-1)o.value=[...o.value,A];else{const D=[...o.value];D.splice(P,1),o.value=D}}function y(A){e.multiple==="range"?p(A):e.multiple?v(A):o.value=[A]}return()=>g("div",{class:"v-date-picker-month"},[e.showWeek&&g("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&g("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[si(" ")]),a.value.map(A=>g("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[A]))]),g(Dn,{name:h.value},{default:()=>{var A;return[g("div",{ref:r,key:(A=s.value[0].date)==null?void 0:A.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays(e.firstDayOfWeek).map(P=>g("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[P])),s.value.map((P,D)=>{const N={props:{onClick:()=>y(P.date)},item:P,i:D};return m.value&&!P.isSelected&&(P.isDisabled=!0),g("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":P.isAdjacent,"v-date-picker-month__day--hide-adjacent":P.isHidden,"v-date-picker-month__day--selected":P.isSelected,"v-date-picker-month__day--week-end":P.isWeekEnd,"v-date-picker-month__day--week-start":P.isWeekStart}],"data-v-date":P.isDisabled?void 0:P.isoDate},[(e.showAdjacentMonths||!P.isAdjacent)&&g(Ge,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(P.isSelected||P.isToday)&&!P.isDisabled?e.color:void 0,disabled:P.isDisabled,icon:!0,ripple:!1,text:P.localized,variant:P.isDisabled?P.isToday?"outlined":"text":P.isToday&&!P.isSelected?"outlined":"flat",onClick:()=>y(P.date)}}},{default:()=>{var R;return[((R=i.day)==null?void 0:R.call(i,N))??g(it,N.props,null)]}})])})])]}})])}}),dV=W({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),dp=ne()({name:"VDatePickerMonths",props:dV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Ac(),s=xe(e,"modelValue"),o=C(()=>{let a=r.startOfYear(r.date());return e.year&&(a=r.setYear(a,e.year)),er(12).map(l=>{const u=r.format(a,"monthShort"),c=!!(e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),a)||e.max&&r.isAfter(a,r.startOfMonth(r.date(e.max))));return a=r.getNextMonth(a),{isDisabled:c,text:u,value:l}})});return Nt(()=>{s.value=s.value??r.getMonth(r.date())}),se(()=>g("div",{class:"v-date-picker-months",style:{height:Ie(e.height)}},[g("div",{class:"v-date-picker-months__content"},[o.value.map((a,l)=>{var d;const u={active:s.value===l,color:s.value===l?e.color:void 0,disabled:a.isDisabled,rounded:!0,text:a.text,variant:s.value===a.value?"flat":"text",onClick:()=>c(l)};function c(h){if(s.value===h){n("update:modelValue",s.value);return}s.value=h}return((d=i.month)==null?void 0:d.call(i,{month:a,i:l,props:u}))??g(it,ae({key:"month"},u),null)})])])),{}}}),fV=W({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),fp=ne()({name:"VDatePickerYears",props:fV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Ac(),s=xe(e,"modelValue"),o=C(()=>{const l=r.getYear(r.date());let u=l-100,c=l+52;e.min&&(u=r.getYear(r.date(e.min))),e.max&&(c=r.getYear(r.date(e.max)));let d=r.startOfYear(r.date());return d=r.setYear(d,u),er(c-u+1,u).map(h=>{const m=r.format(d,"year");return d=r.setYear(d,r.getYear(d)+1),{text:m,value:h}})});Nt(()=>{s.value=s.value??r.getYear(r.date())});const a=Bf();return In(async()=>{var l;await Ke(),(l=a.el)==null||l.scrollIntoView({block:"center"})}),se(()=>g("div",{class:"v-date-picker-years",style:{height:Ie(e.height)}},[g("div",{class:"v-date-picker-years__content"},[o.value.map((l,u)=>{var d;const c={ref:s.value===l.value?a:void 0,active:s.value===l.value,color:s.value===l.value?e.color:void 0,rounded:!0,text:l.text,variant:s.value===l.value?"flat":"text",onClick:()=>{if(s.value===l.value){n("update:modelValue",s.value);return}s.value=l.value}};return((d=i.year)==null?void 0:d.call(i,{year:l,i:u,props:c}))??g(it,ae({key:"month"},c),null)})])])),{}}}),G7=fr("v-picker-title"),hV=W({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...nm()},"VPicker"),aE=ne()({name:"VPicker",props:hV(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=ht(Q(e,"color"));return se(()=>{const s=Fo.filterProps(e),o=!!(e.title||n.title);return g(Fo,ae(s,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var a;return[!e.hideHeader&&g("div",{key:"header",class:[i.value],style:[r.value]},[o&&g(G7,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??e.title]}}),n.header&&g("div",{class:"v-picker__header"},[n.header()])]),g("div",{class:"v-picker__body"},[(a=n.default)==null?void 0:a.call(n)]),n.actions&&g(Ge,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[g("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),K7=W({header:{type:String,default:"$vuetify.datePicker.header"},...uV(),...cV({weeksInMonth:"static"}),...Ut(dV(),["modelValue"]),...Ut(fV(),["modelValue"]),...hV({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),q7=ne()({name:"VDatePicker",props:K7(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Ac(),{t:s}=Mt(),o=xe(e,"modelValue",void 0,_=>Tt(_),_=>e.multiple?_:_[0]),a=xe(e,"viewMode"),l=C(()=>{var I;const _=r.date((I=o.value)==null?void 0:I[0]);return _&&r.isValid(_)?_:r.date()}),u=le(Number(e.month??r.getMonth(r.startOfMonth(l.value)))),c=le(Number(e.year??r.getYear(r.startOfYear(r.setMonth(l.value,u.value))))),d=ye(!1),h=C(()=>e.multiple&&o.value.length>1?s("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&r.isValid(o.value[0])?r.format(r.date(o.value[0]),"normalDateWithWeekday"):s(e.header)),m=C(()=>{let _=r.date();return _=r.setDate(_,1),_=r.setMonth(_,u.value),_=r.setYear(_,c.value),r.format(_,"monthAndYear")}),p=C(()=>`date-picker-header${d.value?"-reverse":""}-transition`),v=C(()=>{const _=r.date(e.min);return e.min&&r.isValid(_)?_:null}),y=C(()=>{const _=r.date(e.max);return e.max&&r.isValid(_)?_:null}),A=C(()=>{if(e.disabled)return!0;const _=[];if(a.value!=="month")_.push("prev","next");else{let I=r.date();if(I=r.setYear(I,c.value),I=r.setMonth(I,u.value),v.value){const E=r.addDays(r.startOfMonth(I),-1);r.isAfter(v.value,E)&&_.push("prev")}if(y.value){const E=r.addDays(r.endOfMonth(I),1);r.isAfter(E,y.value)&&_.push("next")}}return _});function P(){u.value<11?u.value++:(c.value++,u.value=0,w(c.value)),S(u.value)}function D(){u.value>0?u.value--:(c.value--,u.value=11,w(c.value)),S(u.value)}function N(){a.value="month"}function R(){a.value=a.value==="months"?"month":"months"}function V(){a.value=a.value==="year"?"month":"year"}function S(_){a.value==="months"&&R(),n("update:month",_)}function w(_){a.value==="year"&&V(),n("update:year",_)}return _e(o,(_,I)=>{const E=Tt(I),T=Tt(_);if(!T.length)return;const x=r.date(E[E.length-1]),B=r.date(T[T.length-1]),U=r.getMonth(B),$=r.getYear(B);U!==u.value&&(u.value=U,S(u.value)),$!==c.value&&(c.value=$,w(c.value)),d.value=r.isBefore(x,B)}),se(()=>{const _=aE.filterProps(e),I=lp.filterProps(e),E=up.filterProps(e),T=cp.filterProps(e),x=Ut(dp.filterProps(e),["modelValue"]),B=Ut(fp.filterProps(e),["modelValue"]),U={header:h.value,transition:p.value};return g(aE,ae(_,{class:["v-date-picker",`v-date-picker--${a.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var $;return(($=i.title)==null?void 0:$.call(i))??g("div",{class:"v-date-picker__title"},[s(e.title)])},header:()=>i.header?g(Ge,{defaults:{VDatePickerHeader:{...U}}},{default:()=>{var $;return[($=i.header)==null?void 0:$.call(i,U)]}}):g(up,ae({key:"header"},E,U,{onClick:a.value!=="month"?N:void 0}),{...i,default:void 0}),default:()=>g(Ae,null,[g(lp,ae(I,{disabled:A.value,text:m.value,"onClick:next":P,"onClick:prev":D,"onClick:month":R,"onClick:year":V}),null),g(ic,{hideOnLeave:!0},{default:()=>[a.value==="months"?g(dp,ae({key:"date-picker-months"},x,{modelValue:u.value,"onUpdate:modelValue":[$=>u.value=$,S],min:v.value,max:y.value,year:c.value}),null):a.value==="year"?g(fp,ae({key:"date-picker-years"},B,{modelValue:c.value,"onUpdate:modelValue":[$=>c.value=$,w],min:v.value,max:y.value}),null):g(cp,ae({key:"date-picker-month"},T,{modelValue:o.value,"onUpdate:modelValue":$=>o.value=$,month:u.value,"onUpdate:month":[$=>u.value=$,S],year:c.value,"onUpdate:year":[$=>c.value=$,w],min:v.value,max:y.value}),null)]})]),actions:i.actions})}),{}}}),Y7=W({actionText:String,bgColor:String,color:String,icon:Oe,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Ee(),...Jt(),...hr({size:void 0}),...Ye()},"VEmptyState"),Q7=ne()({name:"VEmptyState",props:Y7(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{themeClasses:r}=st(e),{backgroundColorClasses:s,backgroundColorStyles:o}=ht(Q(e,"bgColor")),{dimensionStyles:a}=Zt(e),{displayClasses:l}=Ti();function u(c){n("click:action",c)}return se(()=>{var y,A,P;const c=!!(i.actions||e.actionText),d=!!(i.headline||e.headline),h=!!(i.title||e.title),m=!!(i.text||e.text),p=!!(i.media||e.image||e.icon),v=e.size||(e.image?200:96);return g("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,s.value,l.value,e.class],style:[o.value,a.value,e.style]},[p&&g("div",{key:"media",class:"v-empty-state__media"},[i.media?g(Ge,{key:"media-defaults",defaults:{VImg:{src:e.image,height:v},VIcon:{size:v,icon:e.icon}}},{default:()=>[i.media()]}):g(Ae,null,[e.image?g(Dr,{key:"image",src:e.image,height:v},null):e.icon?g(rt,{key:"icon",color:e.color,size:v,icon:e.icon},null):void 0])]),d&&g("div",{key:"headline",class:"v-empty-state__headline"},[((y=i.headline)==null?void 0:y.call(i))??e.headline]),h&&g("div",{key:"title",class:"v-empty-state__title"},[((A=i.title)==null?void 0:A.call(i))??e.title]),m&&g("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Ie(e.textWidth)}},[((P=i.text)==null?void 0:P.call(i))??e.text]),i.default&&g("div",{key:"content",class:"v-empty-state__content"},[i.default()]),c&&g("div",{key:"actions",class:"v-empty-state__actions"},[g(Ge,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var D;return[((D=i.actions)==null?void 0:D.call(i,{props:{onClick:u}}))??g(it,{onClick:u},null)]}})])])}),{}}}),cc=Symbol.for("vuetify:v-expansion-panel"),mV=W({...Ee(),...E_()},"VExpansionPanelText"),hp=ne()({name:"VExpansionPanelText",props:mV(),setup(e,t){let{slots:n}=t;const i=$e(cc);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:s}=T_(e,i.isSelected);return se(()=>g(jh,{onAfterLeave:s},{default:()=>{var o;return[kt(g("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&r.value&&g("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[Wi,i.isSelected.value]])]}})),{}}}),gV=W({color:String,expandIcon:{type:Oe,default:"$expand"},collapseIcon:{type:Oe,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ee()},"VExpansionPanelTitle"),mp=ne()({name:"VExpansionPanelTitle",directives:{Ripple:Ur},props:gV(),setup(e,t){let{slots:n}=t;const i=$e(cc);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:s}=ht(e,"color"),o=C(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),a=C(()=>i.isSelected.value?e.collapseIcon:e.expandIcon);return se(()=>{var l;return kt(g("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class],style:[s.value,e.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[g("span",{class:"v-expansion-panel-title__overlay"},null),(l=n.default)==null?void 0:l.call(n,o.value),!e.hideActions&&g(Ge,{defaults:{VIcon:{icon:a.value}}},{default:()=>{var u;return[g("span",{class:"v-expansion-panel-title__icon"},[((u=n.actions)==null?void 0:u.call(n,o.value))??g(rt,null,null)])]}})]),[[ai("ripple"),e.ripple]])}),{}}}),vV=W({title:String,text:String,bgColor:String,...Gt(),...ta(),...wt(),...Ue(),...gV(),...mV()},"VExpansionPanel"),X7=ne()({name:"VExpansionPanel",props:vV(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=na(e,cc),{backgroundColorClasses:r,backgroundColorStyles:s}=ht(e,"bgColor"),{elevationClasses:o}=dn(e),{roundedClasses:a}=Vt(e),l=C(()=>(i==null?void 0:i.disabled.value)||e.disabled),u=C(()=>i.group.items.value.reduce((h,m,p)=>(i.group.selected.value.includes(m.id)&&h.push(p),h),[])),c=C(()=>{const h=i.group.items.value.findIndex(m=>m.id===i.id);return!i.isSelected.value&&u.value.some(m=>m-h===1)}),d=C(()=>{const h=i.group.items.value.findIndex(m=>m.id===i.id);return!i.isSelected.value&&u.value.some(m=>m-h===-1)});return ft(cc,i),se(()=>{const h=!!(n.text||e.text),m=!!(n.title||e.title),p=mp.filterProps(e),v=hp.filterProps(e);return g(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},a.value,r.value,e.class],style:[s.value,e.style]},{default:()=>[g("div",{class:["v-expansion-panel__shadow",...o.value]},null),g(Ge,{defaults:{VExpansionPanelTitle:{...p},VExpansionPanelText:{...v}}},{default:()=>{var y;return[m&&g(mp,{key:"title"},{default:()=>[n.title?n.title():e.title]}),h&&g(hp,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(y=n.default)==null?void 0:y.call(n)]}})]})}),{groupItem:i}}}),J7=["default","accordion","inset","popout"],Z7=W({flat:Boolean,...ea(),...e_(vV(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ye(),...Ee(),...Ue(),variant:{type:String,default:"default",validator:e=>J7.includes(e)}},"VExpansionPanels"),e8=ne()({name:"VExpansionPanels",props:Z7(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:i,prev:r}=Bs(e,cc),{themeClasses:s}=st(e),o=C(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Rt({VExpansionPanel:{bgColor:Q(e,"bgColor"),collapseIcon:Q(e,"collapseIcon"),color:Q(e,"color"),eager:Q(e,"eager"),elevation:Q(e,"elevation"),expandIcon:Q(e,"expandIcon"),focusable:Q(e,"focusable"),hideActions:Q(e,"hideActions"),readonly:Q(e,"readonly"),ripple:Q(e,"ripple"),rounded:Q(e,"rounded"),static:Q(e,"static")}}),se(()=>g(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,o.value,e.class],style:e.style},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n,{prev:r,next:i})]}})),{next:i,prev:r}}}),t8=W({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...Ut(Kh({active:!0}),["location"]),...Qo(),...$r(),...Gi({transition:"fab-transition"})},"VFab"),n8=ne()({name:"VFab",props:t8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue"),r=ye(56),s=le(),{resizeRef:o}=Hi(d=>{d.length&&(r.value=d[0].target.clientHeight)}),a=C(()=>e.app||e.absolute),l=C(()=>{var d;return a.value?((d=e.location)==null?void 0:d.split(" ").shift())??"bottom":!1}),u=C(()=>{var d;return a.value?((d=e.location)==null?void 0:d.split(" ")[1])??"end":!1});Gn(()=>e.app,()=>{const d=Xo({id:e.name,order:C(()=>parseInt(e.order,10)),position:l,layoutSize:C(()=>e.layout?r.value+24:0),elementSize:C(()=>r.value+24),active:C(()=>e.app&&i.value),absolute:Q(e,"absolute")});Nt(()=>{s.value=d.layoutItemStyles.value})});const c=le();return se(()=>{const d=it.filterProps(e);return g("div",{ref:c,class:["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${l.value}`]:a.value,[`v-fab--${u.value}`]:a.value},e.class],style:[e.app?{...s.value}:{height:"inherit",width:void 0},e.style]},[g("div",{class:"v-fab__container"},[g(Dn,{appear:e.appear,transition:e.transition},{default:()=>[kt(g(it,ae({ref:o},d,{active:void 0,location:void 0}),n),[[Wi,e.active]])]})])])}),{}}}),i8=W({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...jr({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Tt(e).every(t=>t!=null&&typeof t=="object")},...Lc({clearable:!0})},"VFileInput"),r8=ne()({name:"VFileInput",inheritAttrs:!1,props:i8(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=Mt(),o=xe(e,"modelValue",e.modelValue,_=>Tt(_),_=>e.multiple||Array.isArray(e.modelValue)?_:_[0]??null),{isFocused:a,focus:l,blur:u}=Hr(e),c=C(()=>typeof e.showSize!="boolean"?e.showSize:void 0),d=C(()=>(o.value??[]).reduce((_,I)=>{let{size:E=0}=I;return _+E},0)),h=C(()=>y0(d.value,c.value)),m=C(()=>(o.value??[]).map(_=>{const{name:I="",size:E=0}=_;return e.showSize?`${I} (${y0(E,c.value)})`:I})),p=C(()=>{var I;const _=((I=o.value)==null?void 0:I.length)??0;return e.showSize?s(e.counterSizeString,_,h.value):s(e.counterString,_)}),v=le(),y=le(),A=le(),P=C(()=>a.value||e.active),D=C(()=>["plain","underlined"].includes(e.variant));function N(){var _;A.value!==document.activeElement&&((_=A.value)==null||_.focus()),a.value||l()}function R(_){var I;(I=A.value)==null||I.click()}function V(_){i("mousedown:control",_)}function S(_){var I;(I=A.value)==null||I.click(),i("click:control",_)}function w(_){_.stopPropagation(),N(),Ke(()=>{o.value=[],n_(e["onClick:clear"],_)})}return _e(o,_=>{(!Array.isArray(_)||!_.length)&&A.value&&(A.value.value="")}),se(()=>{const _=!!(r.counter||e.counter),I=!!(_||r.details),[E,T]=Ls(n),{modelValue:x,...B}=bn.filterProps(e),U=C_(e);return g(bn,ae({ref:v,modelValue:o.value,"onUpdate:modelValue":$=>o.value=$,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":D.value},e.class],style:e.style,"onClick:prepend":R},E,B,{centerAffix:!D.value,focused:a.value}),{...r,default:$=>{let{id:K,isDisabled:F,isDirty:q,isReadonly:H,isValid:G}=$;return g(Vl,ae({ref:y,"prepend-icon":e.prependIcon,onMousedown:V,onClick:S,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},U,{id:K.value,active:P.value||q.value,dirty:q.value||e.dirty,disabled:F.value,focused:a.value,error:G.value===!1}),{...r,default:te=>{var he;let{props:{class:ce,...Se}}=te;return g(Ae,null,[g("input",ae({ref:A,type:"file",readonly:H.value,disabled:F.value,multiple:e.multiple,name:e.name,onClick:oe=>{oe.stopPropagation(),H.value&&oe.preventDefault(),N()},onChange:oe=>{if(!oe.target)return;const j=oe.target;o.value=[...j.files??[]]},onFocus:N,onBlur:u},Se,T),null),g("div",{class:ce},[!!((he=o.value)!=null&&he.length)&&!e.hideInput&&(r.selection?r.selection({fileNames:m.value,totalBytes:d.value,totalBytesReadable:h.value}):e.chips?m.value.map(oe=>g(Rl,{key:oe,size:"small",text:oe},null)):m.value.join(", "))])])}})},details:I?$=>{var K,F;return g(Ae,null,[(K=r.details)==null?void 0:K.call(r,$),_&&g(Ae,null,[g("span",null,null),g(Xh,{active:!!((F=o.value)!=null&&F.length),value:p.value,disabled:e.disabled},r.counter)])])}:void 0})}),Ai({},v,y,A)}}),s8=W({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...di(),...Ee(),...Gt(),...Qo(),...wt(),...Ue({tag:"footer"}),...Ye()},"VFooter"),o8=ne()({name:"VFooter",props:s8(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{backgroundColorClasses:r,backgroundColorStyles:s}=ht(Q(e,"color")),{borderClasses:o}=Ci(e),{elevationClasses:a}=dn(e),{roundedClasses:l}=Vt(e),u=ye(32),{resizeRef:c}=Hi(p=>{p.length&&(u.value=p[0].target.clientHeight)}),d=C(()=>e.height==="auto"?u.value:parseInt(e.height,10)),{layoutItemStyles:h,layoutIsReady:m}=Xo({id:e.name,order:C(()=>parseInt(e.order,10)),position:C(()=>"bottom"),layoutSize:d,elementSize:C(()=>e.height==="auto"?void 0:d.value),active:C(()=>e.app),absolute:Q(e,"absolute")});return se(()=>g(e.tag,{ref:c,class:["v-footer",i.value,r.value,o.value,a.value,l.value,e.class],style:[s.value,e.app?h.value:{height:Ie(e.height)},e.style]},n)),e.app?m:{}}}),a8=W({...Ee(),...mG()},"VForm"),l8=ne()({name:"VForm",props:a8(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=gG(e),s=le();function o(l){l.preventDefault(),r.reset()}function a(l){const u=l,c=r.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),i("submit",u),u.defaultPrevented||c.then(d=>{var m;let{valid:h}=d;h&&((m=s.value)==null||m.submit())}),u.preventDefault()}return se(()=>{var l;return g("form",{ref:s,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,r)])}),Ai(r,s)}}),u8=W({disabled:Boolean,modelValue:{type:Boolean,default:null},...I_()},"VHover"),c8=ne()({name:"VHover",props:u8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue"),{runOpenDelay:r,runCloseDelay:s}=S_(e,o=>!e.disabled&&(i.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:i.value,props:{onMouseenter:r,onMouseleave:s}})}}}),d8=W({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Jt(),...Ue()},"VInfiniteScroll"),lE=ui({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootRef:null,rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:i,isIntersecting:r}=zh(s=>{},e.rootMargin?{rootMargin:e.rootMargin}:void 0);return _e(r,async s=>{n("intersect",e.side,s)}),se(()=>g("div",{class:"v-infinite-scroll-intersect",ref:i},[si(" ")])),{}}}),f8=ne()({name:"VInfiniteScroll",props:d8(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=le(),s=ye("ok"),o=ye("ok"),a=C(()=>Ie(e.margin)),l=ye(!1);function u(R){if(!r.value)return;const V=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[V]=R}function c(){if(!r.value)return 0;const R=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[R]}function d(){if(!r.value)return 0;const R=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[R]}function h(){if(!r.value)return 0;const R=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[R]}In(()=>{r.value&&(e.side==="start"?u(d()):e.side==="both"&&u(d()/2-h()/2))});function m(R,V){R==="start"?s.value=V:R==="end"&&(o.value=V)}function p(R){return R==="start"?s.value:o.value}let v=0;function y(R,V){l.value=V,l.value&&A(R)}function A(R){if(e.mode!=="manual"&&!l.value)return;const V=p(R);if(!r.value||["empty","loading"].includes(V))return;v=d(),m(R,"loading");function S(w){m(R,w),Ke(()=>{w==="empty"||w==="error"||(w==="ok"&&R==="start"&&u(d()-v+c()),e.mode!=="manual"&&Ke(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{A(R)})})})}))})}i("load",{side:R,done:S})}const{t:P}=Mt();function D(R,V){var _,I,E,T,x;if(e.side!==R&&e.side!=="both")return;const S=()=>A(R),w={side:R,props:{onClick:S,color:e.color}};return V==="error"?(_=n.error)==null?void 0:_.call(n,w):V==="empty"?((I=n.empty)==null?void 0:I.call(n,w))??g("div",null,[P(e.emptyText)]):e.mode==="manual"?V==="loading"?((E=n.loading)==null?void 0:E.call(n,w))??g(hl,{indeterminate:!0,color:e.color},null):((T=n["load-more"])==null?void 0:T.call(n,w))??g(it,{variant:"outlined",color:e.color,onClick:S},{default:()=>[P(e.loadMoreText)]}):((x=n.loading)==null?void 0:x.call(n,w))??g(hl,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:N}=Zt(e);se(()=>{const R=e.tag,V=e.side==="start"||e.side==="both",S=e.side==="end"||e.side==="both",w=e.mode==="intersect";return g(R,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":V,"v-infinite-scroll--end":S}],style:N.value},{default:()=>{var _;return[g("div",{class:"v-infinite-scroll__side"},[D("start",s.value)]),r.value&&V&&w&&g(lE,{key:"start",side:"start",onIntersect:y,rootRef:r.value,rootMargin:a.value},null),(_=n.default)==null?void 0:_.call(n),r.value&&S&&w&&g(lE,{key:"end",side:"end",onIntersect:y,rootRef:r.value,rootMargin:a.value},null),g("div",{class:"v-infinite-scroll__side"},[D("end",o.value)])]}})})}}),pV=Symbol.for("vuetify:v-item-group"),h8=W({...Ee(),...ea({selectedClass:"v-item--selected"}),...Ue(),...Ye()},"VItemGroup"),m8=ne()({name:"VItemGroup",props:h8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=Bs(e,pV);return()=>g(e.tag,{class:["v-item-group",i.value,e.class],style:e.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}}),g8=ne()({name:"VItem",props:ta(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,select:r,toggle:s,selectedClass:o,value:a,disabled:l}=na(e,pV);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:i.value,selectedClass:o.value,select:r,toggle:s,value:a.value,disabled:l.value})}}}),v8=fr("v-kbd"),p8=W({...Ee(),...Jt(),...oR()},"VLayout"),y8=ne()({name:"VLayout",props:p8(),setup(e,t){let{slots:n}=t;const{layoutClasses:i,layoutStyles:r,getLayoutItem:s,items:o,layoutRef:a}=lR(e),{dimensionStyles:l}=Zt(e);return se(()=>g("div",{ref:a,class:[i.value,e.class],style:[l.value,r.value,e.style]},[g($T,null,{default:()=>{var u;return[g(Ae,null,[(u=n.default)==null?void 0:u.call(n)])]}})])),{getLayoutItem:s,items:o}}}),_8=W({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Ee(),...Qo()},"VLayoutItem"),b8=ne()({name:"VLayoutItem",props:_8(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:i,layoutIsReady:r}=Xo({id:e.name,order:C(()=>parseInt(e.order,10)),position:Q(e,"position"),elementSize:Q(e,"size"),layoutSize:Q(e,"size"),active:Q(e,"modelValue"),absolute:Q(e,"absolute")});return se(()=>{var s;return g("div",{class:["v-layout-item",e.class],style:[i.value,e.style]},[(s=n.default)==null?void 0:s.call(n)])}),r}}),w8=W({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Ee(),...Jt(),...Ue(),...Gi({transition:"fade-transition"})},"VLazy"),I8=ne()({name:"VLazy",directives:{intersect:Pc},props:w8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Zt(e),r=xe(e,"modelValue");function s(o){r.value||(r.value=o)}return se(()=>kt(g(e.tag,{class:["v-lazy",e.class],style:[i.value,e.style]},{default:()=>[r.value&&g(Dn,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})]}),[[ai("intersect"),{handler:s,options:e.options},null]])),{}}}),S8=W({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Ee()},"VLocaleProvider"),E8=ne()({name:"VLocaleProvider",props:S8(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=c3(e);return se(()=>{var r;return g("div",{class:["v-locale-provider",i.value,e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),T8=W({scrollable:Boolean,...Ee(),...Jt(),...Ue({tag:"main"})},"VMain"),C8=ne()({name:"VMain",props:T8(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Zt(e),{mainStyles:r,layoutIsReady:s}=aR(),{ssrBootStyles:o}=Jo();return se(()=>g(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,o.value,i.value,e.style]},{default:()=>{var a,l;return[e.scrollable?g("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(l=n.default)==null?void 0:l.call(n)]}})),s}});function k8(e){let{rootEl:t,isSticky:n,layoutItemStyles:i}=e;const r=ye(!1),s=ye(0),o=C(()=>{const u=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[u]:Ie(s.value)}:{top:i.value.top}]});In(()=>{_e(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Sn(()=>{window.removeEventListener("scroll",l)});let a=0;function l(){const u=a>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),h=window.scrollY-Math.max(0,s.value-d),m=c.height+Math.max(s.value,d)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(r.value="top",s.value=d):u==="up"&&r.value==="bottom"||u==="down"&&r.value==="top"?(s.value=window.scrollY+c.top-p,r.value=!0):u==="down"&&m<=0?(s.value=0,r.value="bottom"):u==="up"&&h<=0&&(p?r.value!=="top"&&(s.value=-h+p+d,r.value="top"):(s.value=c.top+h,r.value="top")),a=window.scrollY}return{isStuck:r,stickyStyles:o}}const A8=100,P8=20;function uE(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function cE(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const i=uE(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-i)*Math.abs(r),n===e.length-1&&(t*=.5)}return uE(t)*1e3}function x8(){const e={};function t(r){Array.from(r.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new E9(P8))).push([r.timeStamp,s])})}function n(r){Array.from(r.changedTouches).forEach(s=>{delete e[s.identifier]})}function i(r){var u;const s=(u=e[r])==null?void 0:u.values().reverse();if(!s)throw new Error(`No samples for touch id ${r}`);const o=s[0],a=[],l=[];for(const c of s){if(o[0]-c[0]>A8)break;a.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:cE(a),y:cE(l),get direction(){const{x:c,y:d}=this,[h,m]=[Math.abs(c),Math.abs(d)];return h>m&&c>=0?"right":h>m&&c<=0?"left":m>h&&d>=0?"down":m>h&&d<=0?"up":R8()}}}return{addMovement:t,endTouch:n,getVelocity:i}}function R8(){throw new Error}function V8(e){let{el:t,isActive:n,isTemporary:i,width:r,touchless:s,position:o}=e;In(()=>{window.addEventListener("touchstart",P,{passive:!0}),window.addEventListener("touchmove",D,{passive:!1}),window.addEventListener("touchend",N,{passive:!0})}),Sn(()=>{window.removeEventListener("touchstart",P),window.removeEventListener("touchmove",D),window.removeEventListener("touchend",N)});const a=C(()=>["left","right"].includes(o.value)),{addMovement:l,endTouch:u,getVelocity:c}=x8();let d=!1;const h=ye(!1),m=ye(0),p=ye(0);let v;function y(V,S){return(o.value==="left"?V:o.value==="right"?document.documentElement.clientWidth-V:o.value==="top"?V:o.value==="bottom"?document.documentElement.clientHeight-V:ba())-(S?r.value:0)}function A(V){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const w=o.value==="left"?(V-p.value)/r.value:o.value==="right"?(document.documentElement.clientWidth-V-p.value)/r.value:o.value==="top"?(V-p.value)/r.value:o.value==="bottom"?(document.documentElement.clientHeight-V-p.value)/r.value:ba();return S?Math.max(0,Math.min(1,w)):w}function P(V){if(s.value)return;const S=V.changedTouches[0].clientX,w=V.changedTouches[0].clientY,_=25,I=o.value==="left"?S<_:o.value==="right"?S>document.documentElement.clientWidth-_:o.value==="top"?w<_:o.value==="bottom"?w>document.documentElement.clientHeight-_:ba(),E=n.value&&(o.value==="left"?S<r.value:o.value==="right"?S>document.documentElement.clientWidth-r.value:o.value==="top"?w<r.value:o.value==="bottom"?w>document.documentElement.clientHeight-r.value:ba());(I||E||n.value&&i.value)&&(v=[S,w],p.value=y(a.value?S:w,n.value),m.value=A(a.value?S:w),d=p.value>-20&&p.value<80,u(V),l(V))}function D(V){const S=V.changedTouches[0].clientX,w=V.changedTouches[0].clientY;if(d){if(!V.cancelable){d=!1;return}const I=Math.abs(S-v[0]),E=Math.abs(w-v[1]);(a.value?I>E&&I>3:E>I&&E>3)?(h.value=!0,d=!1):(a.value?E:I)>3&&(d=!1)}if(!h.value)return;V.preventDefault(),l(V);const _=A(a.value?S:w,!1);m.value=Math.max(0,Math.min(1,_)),_>1?p.value=y(a.value?S:w,!0):_<0&&(p.value=y(a.value?S:w,!1))}function N(V){if(d=!1,!h.value)return;l(V),h.value=!1;const S=c(V.changedTouches[0].identifier),w=Math.abs(S.x),_=Math.abs(S.y);(a.value?w>_&&w>400:_>w&&_>3)?n.value=S.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||ba()):n.value=m.value>.5}const R=C(()=>h.value?{transform:o.value==="left"?`translateX(calc(-100% + ${m.value*r.value}px))`:o.value==="right"?`translateX(calc(100% - ${m.value*r.value}px))`:o.value==="top"?`translateY(calc(-100% + ${m.value*r.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${m.value*r.value}px))`:ba(),transition:"none"}:void 0);return Gn(h,()=>{var w,_;const V=((w=t.value)==null?void 0:w.style.transform)??null,S=((_=t.value)==null?void 0:_.style.transition)??null;Nt(()=>{var I,E,T,x;(E=t.value)==null||E.style.setProperty("transform",((I=R.value)==null?void 0:I.transform)||"none"),(x=t.value)==null||x.style.setProperty("transition",((T=R.value)==null?void 0:T.transition)||null)}),wn(()=>{var I,E;(I=t.value)==null||I.style.setProperty("transform",V),(E=t.value)==null||E.style.setProperty("transition",S)})}),{isDragging:h,dragProgress:m,dragStyles:R}}function ba(){throw new Error}const D8=["start","end","left","right","top","bottom"],N8=W({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>D8.includes(e)},sticky:Boolean,...di(),...Ee(),...I_(),...Yo({mobile:null}),...Gt(),...Qo(),...wt(),...Ue({tag:"nav"}),...Ye()},"VNavigationDrawer"),O8=ne()({name:"VNavigationDrawer",props:N8(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{isRtl:s}=Xt(),{themeClasses:o}=st(e),{borderClasses:a}=Ci(e),{backgroundColorClasses:l,backgroundColorStyles:u}=ht(Q(e,"color")),{elevationClasses:c}=dn(e),{displayClasses:d,mobile:h}=Ti(e),{roundedClasses:m}=Vt(e),p=_R(),v=xe(e,"modelValue",null,te=>!!te),{ssrBootStyles:y}=Jo(),{scopeId:A}=ra(),P=le(),D=ye(!1),{runOpenDelay:N,runCloseDelay:R}=S_(e,te=>{D.value=te}),V=C(()=>e.rail&&e.expandOnHover&&D.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),S=C(()=>Lv(e.location,s.value)),w=C(()=>e.persistent),_=C(()=>!e.permanent&&(h.value||e.temporary)),I=C(()=>e.sticky&&!_.value&&S.value!=="bottom");Gn(()=>e.expandOnHover&&e.rail!=null,()=>{_e(D,te=>i("update:rail",!te))}),Gn(()=>!e.disableResizeWatcher,()=>{_e(_,te=>!e.permanent&&Ke(()=>v.value=!te))}),Gn(()=>!e.disableRouteWatcher&&!!p,()=>{_e(p.currentRoute,()=>_.value&&(v.value=!1))}),_e(()=>e.permanent,te=>{te&&(v.value=!0)}),e.modelValue==null&&!_.value&&(v.value=e.permanent||!h.value);const{isDragging:E,dragProgress:T}=V8({el:P,isActive:v,isTemporary:_,width:V,touchless:Q(e,"touchless"),position:S}),x=C(()=>{const te=_.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):V.value;return E.value?te*T.value:te}),B=C(()=>["top","bottom"].includes(e.location)?0:V.value),{layoutItemStyles:U,layoutItemScrimStyles:$,layoutIsReady:K}=Xo({id:e.name,order:C(()=>parseInt(e.order,10)),position:S,layoutSize:x,elementSize:B,active:C(()=>v.value||E.value),disableTransitions:C(()=>E.value),absolute:C(()=>e.absolute||I.value&&typeof F.value!="string")}),{isStuck:F,stickyStyles:q}=k8({rootEl:P,isSticky:I,layoutItemStyles:U}),H=ht(C(()=>typeof e.scrim=="string"?e.scrim:null)),G=C(()=>({...E.value?{opacity:T.value*.2,transition:"none"}:void 0,...$.value}));return Rt({VList:{bgColor:"transparent"}}),se(()=>{const te=r.image||e.image;return g(Ae,null,[g(e.tag,ae({ref:P,onMouseenter:N,onMouseleave:R,class:["v-navigation-drawer",`v-navigation-drawer--${S.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":D.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":_.value,"v-navigation-drawer--persistent":w.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":I.value},o.value,l.value,a.value,d.value,c.value,m.value,e.class],style:[u.value,U.value,y.value,q.value,e.style,["top","bottom"].includes(S.value)?{height:"auto"}:{}]},A,n),{default:()=>{var ce,Se,he;return[te&&g("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?g(Ge,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):g(Dr,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&g("div",{class:"v-navigation-drawer__prepend"},[(ce=r.prepend)==null?void 0:ce.call(r)]),g("div",{class:"v-navigation-drawer__content"},[(Se=r.default)==null?void 0:Se.call(r)]),r.append&&g("div",{class:"v-navigation-drawer__append"},[(he=r.append)==null?void 0:he.call(r)])]}}),g(ir,{name:"fade-transition"},{default:()=>[_.value&&(E.value||v.value)&&!!e.scrim&&g("div",ae({class:["v-navigation-drawer__scrim",H.backgroundColorClasses.value],style:[G.value,H.backgroundColorStyles.value],onClick:()=>{w.value||(v.value=!1)}},A),null)]})])}),K.then(()=>({isStuck:F}))}}),M8=ui({name:"VNoSsr",setup(e,t){let{slots:n}=t;const i=r1();return()=>{var r;return i.value&&((r=n.default)==null?void 0:r.call(n))}}}),L8=W({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Jt(),...Nc(),...Nh(Lc({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),F8=ne()({name:"VOtpInput",props:L8(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{dimensionStyles:s}=Zt(e),{isFocused:o,focus:a,blur:l}=Hr(e),u=xe(e,"modelValue","",w=>w==null?[]:String(w).split(""),w=>w.join("")),{t:c}=Mt(),d=C(()=>Number(e.length)),h=C(()=>Array(d.value).fill(0)),m=le(-1),p=le(),v=le([]),y=C(()=>v.value[m.value]);function A(){if(S(y.value.value)){y.value.value="";return}const w=u.value.slice(),_=y.value.value;w[m.value]=_;let I=null;m.value>u.value.length?I=u.value.length+1:m.value+1!==d.value&&(I="next"),u.value=w,I&&ul(p.value,I)}function P(w){const _=u.value.slice(),I=m.value;let E=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(w.key)&&(w.preventDefault(),w.key==="ArrowLeft"?E="prev":w.key==="ArrowRight"?E="next":["Backspace","Delete"].includes(w.key)&&(_[m.value]="",u.value=_,m.value>0&&w.key==="Backspace"?E="prev":requestAnimationFrame(()=>{var T;(T=v.value[I])==null||T.select()})),requestAnimationFrame(()=>{E!=null&&ul(p.value,E)}))}function D(w,_){var E,T;_.preventDefault(),_.stopPropagation();const I=((E=_==null?void 0:_.clipboardData)==null?void 0:E.getData("Text").slice(0,d.value))??"";S(I)||(u.value=I.split(""),(T=v.value)==null||T[w].blur())}function N(){u.value=[]}function R(w,_){a(),m.value=_}function V(){l(),m.value=-1}function S(w){return e.type==="number"&&/[^0-9]/g.test(w)}return Rt({VField:{color:C(()=>e.color),bgColor:C(()=>e.color),baseColor:C(()=>e.baseColor),disabled:C(()=>e.disabled),error:C(()=>e.error),variant:C(()=>e.variant)}},{scoped:!0}),_e(u,w=>{w.length===d.value&&i("finish",w.join(""))},{deep:!0}),_e(m,w=>{w<0||Ke(()=>{var _;(_=v.value[w])==null||_.select()})}),se(()=>{var I;const[w,_]=Ls(n);return g("div",ae({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},w),[g("div",{ref:p,class:"v-otp-input__content",style:[s.value]},[h.value.map((E,T)=>g(Ae,null,[e.divider&&T!==0&&g("span",{class:"v-otp-input__divider"},[e.divider]),g(Vl,{focused:o.value&&e.focusAll||m.value===T,key:T},{...r,loader:void 0,default:()=>g("input",{ref:x=>v.value[T]=x,"aria-label":c(e.label,T+1),autofocus:T===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:u.value[T],onInput:A,onFocus:x=>R(x,T),onBlur:V,onKeydown:P,onPaste:x=>D(T,x)},null)})])),g("input",ae({class:"v-otp-input-input",type:"hidden"},_,{value:u.value.join("")}),null),g(ar,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var E;return[((E=r.loader)==null?void 0:E.call(r))??g(hl,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(I=r.default)==null?void 0:I.call(r)])])}),{blur:()=>{var w;(w=v.value)==null||w.some(_=>_.blur())},focus:()=>{var w;(w=v.value)==null||w[0].focus()},reset:N,isFocused:o}}});function B8(e){return Math.floor(Math.abs(e))*Math.sign(e)}const $8=W({scale:{type:[Number,String],default:.5},...Ee()},"VParallax"),U8=ne()({name:"VParallax",props:$8(),setup(e,t){let{slots:n}=t;const{intersectionRef:i,isIntersecting:r}=zh(),{resizeRef:s,contentRect:o}=Hi(),{height:a}=Ti(),l=le();Nt(()=>{var m;i.value=s.value=(m=l.value)==null?void 0:m.$el});let u;_e(r,m=>{m?(u=a_(i.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",h,{passive:!0}),h()):u.removeEventListener("scroll",h)}),Sn(()=>{u==null||u.removeEventListener("scroll",h)}),_e(a,h),_e(()=>{var m;return(m=o.value)==null?void 0:m.height},h);const c=C(()=>1-Ft(+e.scale));let d=-1;function h(){r.value&&(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var R;const m=((R=l.value)==null?void 0:R.$el).querySelector(".v-img__img");if(!m)return;const p=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,v=u instanceof Document?window.scrollY:u.scrollTop,y=i.value.getBoundingClientRect().top+v,A=o.value.height,P=y+(A-p)/2,D=B8((v-P)*c.value),N=Math.max(1,(c.value*(p-A)+A)/A);m.style.setProperty("transform",`translateY(${D}px) scale(${N})`)}))}return se(()=>g(Dr,{class:["v-parallax",{"v-parallax--active":r.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:h,onLoad:h},n)),{}}}),H8=W({...qh({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),j8=ne()({name:"VRadio",props:H8(),setup(e,t){let{slots:n}=t;return se(()=>{const i=ks.filterProps(e);return g(ks,ae(i,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),z8=W({height:{type:[Number,String],default:"auto"},...jr(),...Ut(p_(),["multiple"]),trueIcon:{type:Oe,default:"$radioOn"},falseIcon:{type:Oe,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),W8=ne()({name:"VRadioGroup",inheritAttrs:!1,props:z8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=cn(),s=C(()=>e.id||`radio-group-${r}`),o=xe(e,"modelValue");return se(()=>{const[a,l]=Ls(n),u=bn.filterProps(e),c=ks.filterProps(e),d=i.label?i.label({label:e.label,props:{for:s.value}}):e.label;return g(bn,ae({class:["v-radio-group",e.class],style:e.style},a,u,{modelValue:o.value,"onUpdate:modelValue":h=>o.value=h,id:s.value}),{...i,default:h=>{let{id:m,messagesId:p,isDisabled:v,isReadonly:y}=h;return g(Ae,null,[d&&g(xl,{id:m.value},{default:()=>[d]}),g(xR,ae(c,{id:m.value,"aria-describedby":p.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:v.value,readonly:y.value,"aria-labelledby":d?m.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":A=>o.value=A}),i)])}})}),{}}}),G8=W({...Nc(),...jr(),...T1(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),K8=ne()({name:"VRangeSlider",props:G8(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=le(),s=le(),o=le(),{rtlClasses:a}=Xt();function l(I){if(!r.value||!s.value)return;const E=ip(I,r.value.$el,e.direction),T=ip(I,s.value.$el,e.direction),x=Math.abs(E),B=Math.abs(T);return x<B||x===B&&E<0?r.value.$el:s.value.$el}const u=C1(e),c=xe(e,"modelValue",void 0,I=>I!=null&&I.length?I.map(E=>u.roundValue(E)):[0,0]),{activeThumbRef:d,hasLabels:h,max:m,min:p,mousePressed:v,onSliderMousedown:y,onSliderTouchstart:A,position:P,trackContainerRef:D,readonly:N}=k1({props:e,steps:u,onSliderStart:()=>{i("start",c.value)},onSliderEnd:I=>{var x;let{value:E}=I;const T=d.value===((x=r.value)==null?void 0:x.$el)?[E,c.value[1]]:[c.value[0],E];!e.strict&&T[0]<T[1]&&(c.value=T),i("end",c.value)},onSliderMove:I=>{var B,U,$,K;let{value:E}=I;const[T,x]=c.value;!e.strict&&T===x&&T!==p.value&&(d.value=E>T?(B=s.value)==null?void 0:B.$el:(U=r.value)==null?void 0:U.$el,($=d.value)==null||$.focus()),d.value===((K=r.value)==null?void 0:K.$el)?c.value=[Math.min(E,x),x]:c.value=[T,Math.max(T,E)]},getActiveThumb:l}),{isFocused:R,focus:V,blur:S}=Hr(e),w=C(()=>P(c.value[0])),_=C(()=>P(c.value[1]));return se(()=>{const I=bn.filterProps(e),E=!!(e.label||n.label||n.prepend);return g(bn,ae({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||h.value,"v-slider--focused":R.value,"v-slider--pressed":v.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style,ref:o},I,{focused:R.value}),{...n,prepend:E?T=>{var x,B;return g(Ae,null,[((x=n.label)==null?void 0:x.call(n,T))??(e.label?g(xl,{class:"v-slider__label",text:e.label},null):void 0),(B=n.prepend)==null?void 0:B.call(n,T)])}:void 0,default:T=>{var U,$;let{id:x,messagesId:B}=T;return g("div",{class:"v-slider__container",onMousedown:N.value?void 0:y,onTouchstartPassive:N.value?void 0:A},[g("input",{id:`${x.value}_start`,name:e.name||x.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[0]},null),g("input",{id:`${x.value}_stop`,name:e.name||x.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[1]},null),g(A1,{ref:D,start:w.value,stop:_.value},{"tick-label":n["tick-label"]}),g(rp,{ref:r,"aria-describedby":B.value,focused:R&&d.value===((U=r.value)==null?void 0:U.$el),modelValue:c.value[0],"onUpdate:modelValue":K=>c.value=[K,c.value[1]],onFocus:K=>{var F,q,H,G;V(),d.value=(F=r.value)==null?void 0:F.$el,c.value[0]===c.value[1]&&c.value[1]===p.value&&K.relatedTarget!==((q=s.value)==null?void 0:q.$el)&&((H=r.value)==null||H.$el.blur(),(G=s.value)==null||G.$el.focus())},onBlur:()=>{S(),d.value=void 0},min:p.value,max:c.value[1],position:w.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),g(rp,{ref:s,"aria-describedby":B.value,focused:R&&d.value===(($=s.value)==null?void 0:$.$el),modelValue:c.value[1],"onUpdate:modelValue":K=>c.value=[c.value[0],K],onFocus:K=>{var F,q,H,G;V(),d.value=(F=s.value)==null?void 0:F.$el,c.value[0]===c.value[1]&&c.value[0]===m.value&&K.relatedTarget!==((q=r.value)==null?void 0:q.$el)&&((H=s.value)==null||H.$el.blur(),(G=r.value)==null||G.$el.focus())},onBlur:()=>{S(),d.value=void 0},min:c.value[0],max:m.value,position:_.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),q8=W({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Oe,default:"$ratingEmpty"},fullIcon:{type:Oe,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Ee(),...en(),...hr(),...Ue(),...Ye()},"VRating"),Y8=ne()({name:"VRating",props:q8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Mt(),{themeClasses:r}=st(e),s=xe(e,"modelValue"),o=C(()=>Ft(parseFloat(s.value),0,+e.length)),a=C(()=>er(Number(e.length),1)),l=C(()=>a.value.flatMap(v=>e.halfIncrements?[v-.5,v]:[v])),u=ye(-1),c=C(()=>l.value.map(v=>{const y=e.hover&&u.value>-1,A=o.value>=v,P=u.value>=v,N=(y?P:A)?e.fullIcon:e.emptyIcon,R=e.activeColor??e.color,V=A||P?R:e.color;return{isFilled:A,isHovered:P,icon:N,color:V}})),d=C(()=>[0,...l.value].map(v=>{function y(){u.value=v}function A(){u.value=-1}function P(){e.disabled||e.readonly||(s.value=o.value===v&&e.clearable?0:v)}return{onMouseenter:e.hover?y:void 0,onMouseleave:e.hover?A:void 0,onClick:P}})),h=C(()=>e.name??`v-rating-${cn()}`);function m(v){var w,_;let{value:y,index:A,showStar:P=!0}=v;const{onMouseenter:D,onMouseleave:N,onClick:R}=d.value[A+1],V=`${h.value}-${String(y).replace(".","-")}`,S={color:(w=c.value[A])==null?void 0:w.color,density:e.density,disabled:e.disabled,icon:(_=c.value[A])==null?void 0:_.icon,ripple:e.ripple,size:e.size,variant:"plain"};return g(Ae,null,[g("label",{for:V,class:{"v-rating__item--half":e.halfIncrements&&y%1>0,"v-rating__item--full":e.halfIncrements&&y%1===0},onMouseenter:D,onMouseleave:N,onClick:R},[g("span",{class:"v-rating__hidden"},[i(e.itemAriaLabel,y,e.length)]),P?n.item?n.item({...c.value[A],props:S,value:y,index:A,rating:o.value}):g(it,ae({"aria-label":i(e.itemAriaLabel,y,e.length)},S),null):void 0]),g("input",{class:"v-rating__hidden",name:h.value,id:V,type:"radio",value:y,checked:o.value===y,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function p(v){return n["item-label"]?n["item-label"](v):v.label?g("span",null,[v.label]):g("span",null,[si(" ")])}return se(()=>{var y;const v=!!((y=e.itemLabels)!=null&&y.length)||n["item-label"];return g(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class],style:e.style},{default:()=>[g(m,{value:0,index:-1,showStar:!1},null),a.value.map((A,P)=>{var D,N;return g("div",{class:"v-rating__wrapper"},[v&&e.itemLabelPosition==="top"?p({value:A,index:P,label:(D=e.itemLabels)==null?void 0:D[P]}):void 0,g("div",{class:"v-rating__item"},[e.halfIncrements?g(Ae,null,[g(m,{value:A-.5,index:P*2},null),g(m,{value:A,index:P*2+1},null)]):g(m,{value:A,index:P},null)]),v&&e.itemLabelPosition==="bottom"?p({value:A,index:P,label:(N=e.itemLabels)==null?void 0:N[P]}):void 0])})]})}),{}}}),Q8={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function X8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return g("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function dE(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>fm(t))}function fm(e){let t=[];if(!e)return t;const n=Q8[e];if(e!==n){if(e.includes(","))return fE(e);if(e.includes("@"))return dE(e);n.includes(",")?t=fE(n):n.includes("@")?t=dE(n):n&&t.push(fm(n))}return[X8(e,t)]}function fE(e){return e.replace(/\s/g,"").split(",").map(fm)}const J8=W({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Jt(),...Gt(),...Ye()},"VSkeletonLoader"),Z8=ne()({name:"VSkeletonLoader",props:J8(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=ht(Q(e,"color")),{dimensionStyles:s}=Zt(e),{elevationClasses:o}=dn(e),{themeClasses:a}=st(e),{t:l}=Mt(),u=C(()=>fm(Tt(e.type).join(",")));return se(()=>{var d;const c=!n.default||e.loading;return g("div",{class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},a.value,i.value,o.value],style:[r.value,c?s.value:{}],"aria-busy":e.boilerplate?void 0:c,"aria-live":e.boilerplate?void 0:"polite","aria-label":e.boilerplate?void 0:l(e.loadingText),role:e.boilerplate?void 0:"alert"},[c?u.value:(d=n.default)==null?void 0:d.call(n)])}),{}}}),eY=ne()({name:"VSlideGroupItem",props:ta(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=na(e,BR);return()=>{var r;return(r=n.default)==null?void 0:r.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function tY(e){const t=ye(e);let n=-1;function i(){clearInterval(n)}function r(){i(),Ke(()=>t.value=e)}function s(o){const a=o?getComputedStyle(o):{transitionDuration:.2},l=parseFloat(a.transitionDuration)*1e3||200;if(i(),t.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const c=performance.now()-u+l;t.value=Math.max(e-c,0),t.value<=0&&i()},l)}return wn(i),{clear:i,time:t,start:s,reset:r}}const nY=W({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...$r({location:"bottom"}),...Al(),...wt(),...ki(),...Ye(),...Ut(Mc({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),iY=ne()({name:"VSnackbar",props:nY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue"),{positionClasses:r}=Pl(e),{scopeId:s}=ra(),{themeClasses:o}=st(e),{colorClasses:a,colorStyles:l,variantClasses:u}=Zo(e),{roundedClasses:c}=Vt(e),d=tY(Number(e.timeout)),h=le(),m=le(),p=ye(!1),v=ye(0),y=le(),A=$e(nc,void 0);Gn(()=>!!A,()=>{const I=aR();Nt(()=>{y.value=I.mainStyles.value})}),_e(i,D),_e(()=>e.timeout,D),In(()=>{i.value&&D()});let P=-1;function D(){d.reset(),window.clearTimeout(P);const I=Number(e.timeout);if(!i.value||I===-1)return;const E=Zy(m.value);d.start(E),P=window.setTimeout(()=>{i.value=!1},I)}function N(){d.reset(),window.clearTimeout(P)}function R(){p.value=!0,N()}function V(){p.value=!1,D()}function S(I){v.value=I.touches[0].clientY}function w(I){Math.abs(v.value-I.changedTouches[0].clientY)>50&&(i.value=!1)}const _=C(()=>e.location.split(" ").reduce((I,E)=>(I[`v-snackbar--${E}`]=!0,I),{}));return se(()=>{const I=ar.filterProps(e),E=!!(n.default||n.text||e.text);return g(ar,ae({ref:h,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},_.value,r.value,e.class],style:[y.value,e.style]},I,{modelValue:i.value,"onUpdate:modelValue":T=>i.value=T,contentProps:ae({class:["v-snackbar__wrapper",o.value,a.value,c.value,u.value],style:[l.value],onPointerenter:R,onPointerleave:V},I.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:S,onTouchend:w},s),{default:()=>{var T,x;return[Fs(!1,"v-snackbar"),e.timer&&!p.value&&g("div",{key:"timer",class:"v-snackbar__timer"},[g(Wh,{ref:m,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),E&&g("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((T=n.text)==null?void 0:T.call(n))??e.text,(x=n.default)==null?void 0:x.call(n)]),n.actions&&g(Ge,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[g("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Ai({},h)}}),yV=W({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),_V=W({autoLineWidth:Boolean,...yV()},"VBarline"),hE=ne()({name:"VBarline",props:_V(),setup(e,t){let{slots:n}=t;const i=cn(),r=C(()=>e.id||`barline-${i}`),s=C(()=>Number(e.autoDrawDuration)||500),o=C(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),a=C(()=>parseFloat(e.lineWidth)||4),l=C(()=>Math.max(e.modelValue.length*a.value,Number(e.width))),u=C(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(e.height,10)})),c=C(()=>e.modelValue.map(v=>zt(v,e.itemValue,v)));function d(v,y){const{minX:A,maxX:P,minY:D,maxY:N}=y,R=v.length;let V=e.max!=null?Number(e.max):Math.max(...v),S=e.min!=null?Number(e.min):Math.min(...v);S>0&&e.min==null&&(S=0),V<0&&e.max==null&&(V=0);const w=P/R,_=(N-D)/(V-S||1),I=N-Math.abs(S*_);return v.map((E,T)=>{const x=Math.abs(_*E);return{x:A+T*w,y:I-x+ +(E<0)*x,height:x,value:E}})}const h=C(()=>{const v=[],y=d(c.value,u.value),A=y.length;for(let P=0;v.length<A;P++){const D=y[P];let N=e.labels[P];N||(N=typeof D=="object"?D.value:D),v.push({x:D.x,value:String(N)})}return v}),m=C(()=>d(c.value,u.value)),p=C(()=>(Math.abs(m.value[0].x-m.value[1].x)-a.value)/2);se(()=>{const v=e.gradient.slice().length?e.gradient.slice().reverse():[""];return g("svg",{display:"block"},[g("defs",null,[g("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[v.map((y,A)=>g("stop",{offset:A/Math.max(v.length-1,1),"stop-color":y||"currentColor"},null))])]),g("clipPath",{id:`${r.value}-clip`},[m.value.map(y=>g("rect",{x:y.x+p.value,y:y.y,width:a.value,height:y.height,rx:typeof e.smooth=="number"?e.smooth:e.smooth?2:0,ry:typeof e.smooth=="number"?e.smooth:e.smooth?2:0},[e.autoDraw&&g(Ae,null,[g("animate",{attributeName:"y",from:y.y+y.height,to:y.y,dur:`${s.value}ms`,fill:"freeze"},null),g("animate",{attributeName:"height",from:"0",to:y.height,dur:`${s.value}ms`,fill:"freeze"},null)])]))]),o.value&&g("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[h.value.map((y,A)=>{var P;return g("text",{x:y.x+p.value+a.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((P=n.label)==null?void 0:P.call(n,{index:A,value:y.value}))??y.value])})]),g("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[g("rect",{x:0,y:0,width:Math.max(e.modelValue.length*a.value,Number(e.width)),height:e.height},null)])])})}});function rY(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const r=e.shift(),s=e[e.length-1];return(n?`M${r.x} ${i-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((o,a)=>{const l=e[a+1],u=e[a-1]||r,c=l&&sY(l,o,u);if(!l||c)return`L${o.x} ${o.y}`;const d=Math.min(mE(u,o),mE(l,o)),m=d/2<t?d/2:t,p=gE(u,o,m),v=gE(l,o,m);return`L${p.x} ${p.y}S${o.x} ${o.y} ${v.x} ${v.y}`}).join("")+(n?`L${s.x} ${i-r.x+2} Z`:"")}function Vd(e){return parseInt(e,10)}function sY(e,t,n){return Vd(e.x+n.x)===Vd(2*t.x)&&Vd(e.y+n.y)===Vd(2*t.y)}function mE(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function gE(e,t,n){const i={x:e.x-t.x,y:e.y-t.y},r=Math.sqrt(i.x*i.x+i.y*i.y),s={x:i.x/r,y:i.y/r};return{x:t.x+s.x*n,y:t.y+s.y*n}}const bV=W({fill:Boolean,...yV()},"VTrendline"),vE=ne()({name:"VTrendline",props:bV(),setup(e,t){let{slots:n}=t;const i=cn(),r=C(()=>e.id||`trendline-${i}`),s=C(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=le(0),a=le(null);function l(y,A){const{minX:P,maxX:D,minY:N,maxY:R}=A,V=y.length,S=e.max!=null?Number(e.max):Math.max(...y),w=e.min!=null?Number(e.min):Math.min(...y),_=(D-P)/(V-1),I=(R-N)/(S-w||1);return y.map((E,T)=>({x:P+T*_,y:R-(E-w)*I,value:E}))}const u=C(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),c=C(()=>parseFloat(e.lineWidth)||4),d=C(()=>Number(e.width)),h=C(()=>{const y=Number(e.padding);return{minX:y,maxX:d.value-y,minY:y,maxY:parseInt(e.height,10)-y}}),m=C(()=>e.modelValue.map(y=>zt(y,e.itemValue,y))),p=C(()=>{const y=[],A=l(m.value,h.value),P=A.length;for(let D=0;y.length<P;D++){const N=A[D];let R=e.labels[D];R||(R=typeof N=="object"?N.value:N),y.push({x:N.x,value:String(R)})}return y});_e(()=>e.modelValue,async()=>{if(await Ke(),!e.autoDraw||!a.value)return;const y=a.value,A=y.getTotalLength();e.fill?(y.style.transformOrigin="bottom center",y.style.transition="none",y.style.transform="scaleY(0)",y.getBoundingClientRect(),y.style.transition=`transform ${s.value}ms ${e.autoDrawEasing}`,y.style.transform="scaleY(1)"):(y.style.strokeDasharray=`${A}`,y.style.strokeDashoffset=`${A}`,y.getBoundingClientRect(),y.style.transition=`stroke-dashoffset ${s.value}ms ${e.autoDrawEasing}`,y.style.strokeDashoffset="0"),o.value=A},{immediate:!0});function v(y){return rY(l(m.value,h.value),e.smooth?8:Number(e.smooth),y,parseInt(e.height,10))}se(()=>{var A;const y=e.gradient.slice().length?e.gradient.slice().reverse():[""];return g("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[g("defs",null,[g("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[y.map((P,D)=>g("stop",{offset:D/Math.max(y.length-1,1),"stop-color":P||"currentColor"},null))])]),u.value&&g("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[p.value.map((P,D)=>{var N;return g("text",{x:P.x+c.value/2+c.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((N=n.label)==null?void 0:N.call(n,{index:D,value:P.value}))??P.value])})]),g("path",{ref:a,d:v(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&g("path",{d:v(!1),fill:"none",stroke:e.color??((A=e.gradient)==null?void 0:A[0])},null)])})}}),oY=W({type:{type:String,default:"trend"},..._V(),...bV()},"VSparkline"),aY=ne()({name:"VSparkline",props:oY(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=_n(Q(e,"color")),s=C(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),o=C(()=>{let a=parseInt(e.height,10);return s.value&&(a+=parseInt(e.labelSize,10)*1.5),a});se(()=>{const a=e.type==="trend"?vE:hE,l=e.type==="trend"?vE.filterProps(e):hE.filterProps(e);return g(a,ae({key:e.type,class:i.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},l),n)})}}),lY=W({...Ee(),...l1({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),uY=ne()({name:"VSpeedDial",props:lY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue"),r=le(),s=C(()=>{const[a,l="center"]=e.location.split(" ");return`${a} ${l}`}),o=C(()=>({[`v-speed-dial__content--${s.value.replace(" ","-")}`]:!0}));return se(()=>{const a=ml.filterProps(e);return g(ml,ae(a,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value],location:s.value,ref:r,transition:"fade-transition"}),{...n,default:l=>g(Ge,{defaults:{VBtn:{size:"small"}}},{default:()=>[g(Dn,{appear:!0,group:!0,transition:e.transition},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,l)]}})]})})}),{}}}),G_=Symbol.for("vuetify:v-stepper"),wV=W({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),IV=ne()({name:"VStepperActions",props:wV(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=Mt();function s(){n("click:prev")}function o(){n("click:next")}return se(()=>{const a={onClick:s},l={onClick:o};return g("div",{class:"v-stepper-actions"},[g(Ge,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>{var u;return[((u=i.prev)==null?void 0:u.call(i,{props:a}))??g(it,a,null)]}}),g(Ge,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=i.next)==null?void 0:u.call(i,{props:l}))??g(it,l,null)]}})])}),{}}}),SV=fr("v-stepper-header"),cY=W({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),dY=W({...cY(),...ta()},"VStepperItem"),EV=ne()({name:"VStepperItem",directives:{Ripple:Ur},props:dY(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=na(e,G_,!0),r=C(()=>(i==null?void 0:i.value.value)??e.value),s=C(()=>e.rules.every(h=>h()===!0)),o=C(()=>!e.disabled&&e.editable),a=C(()=>!e.disabled&&e.editable),l=C(()=>e.error||!s.value),u=C(()=>e.complete||e.rules.length>0&&s.value),c=C(()=>l.value?e.errorIcon:u.value?e.completeIcon:i.isSelected.value&&e.editable?e.editIcon:e.icon),d=C(()=>({canEdit:a.value,hasError:l.value,hasCompleted:u.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return se(()=>{var y,A,P;const h=(!i||i.isSelected.value||u.value||a.value)&&!l.value&&!e.disabled,m=!!(e.title!=null||n.title),p=!!(e.subtitle!=null||n.subtitle);function v(){i==null||i.toggle()}return kt(g("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!e.editable,onClick:v},[o.value&&Fs(!0,"v-stepper-item"),g(Si,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:h?e.color:void 0,size:24},{default:()=>{var D;return[((D=n.icon)==null?void 0:D.call(n,d.value))??(c.value?g(rt,{icon:c.value},null):r.value)]}}),g("div",{class:"v-stepper-item__content"},[m&&g("div",{key:"title",class:"v-stepper-item__title"},[((y=n.title)==null?void 0:y.call(n,d.value))??e.title]),p&&g("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((A=n.subtitle)==null?void 0:A.call(n,d.value))??e.subtitle]),(P=n.default)==null?void 0:P.call(n,d.value)])]),[[ai("ripple"),e.ripple&&e.editable,null]])}),{}}}),fY=W({...Ut(em(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),TV=ne()({name:"VStepperWindow",props:fY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=$e(G_,null),r=xe(e,"modelValue"),s=C({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return se(()=>{const o=Mo.filterProps(e);return g(Mo,ae({_as:"VStepperWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),hY=W({...tm()},"VStepperWindowItem"),CV=ne()({name:"VStepperWindowItem",props:hY(),setup(e,t){let{slots:n}=t;return se(()=>{const i=Lo.filterProps(e);return g(Lo,ae({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),mY=W({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Yo()},"Stepper"),gY=W({...mY(),...ea({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...nm(),...Nh(wV(),["prevText","nextText"])},"VStepper"),vY=ne()({name:"VStepper",props:gY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:i,next:r,prev:s,selected:o}=Bs(e,G_),{displayClasses:a,mobile:l}=Ti(e),{completeIcon:u,editIcon:c,errorIcon:d,color:h,editable:m,prevText:p,nextText:v}=Rs(e),y=C(()=>e.items.map((D,N)=>{const R=zt(D,e.itemTitle,D),V=zt(D,e.itemValue,N+1);return{title:R,value:V,raw:D}})),A=C(()=>i.value.findIndex(D=>o.value.includes(D.id))),P=C(()=>e.disabled?e.disabled:A.value===0?"prev":A.value===i.value.length-1?"next":!1);return Rt({VStepperItem:{editable:m,errorIcon:d,completeIcon:u,editIcon:c,prevText:p,nextText:v},VStepperActions:{color:h,disabled:P,prevText:p,nextText:v}}),se(()=>{const D=Fo.filterProps(e),N=!!(n.header||e.items.length),R=e.items.length>0,V=!e.hideActions&&!!(R||n.actions);return g(Fo,ae(D,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":l.value},a.value,e.class],style:e.style}),{default:()=>{var S,w;return[N&&g(SV,{key:"stepper-header"},{default:()=>[y.value.map((_,I)=>{let{raw:E,...T}=_;return g(Ae,null,[!!I&&g(Oc,null,null),g(EV,T,{default:n[`header-item.${T.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),R&&g(TV,{key:"stepper-window"},{default:()=>[y.value.map(_=>g(CV,{value:_.value},{default:()=>{var I,E;return((I=n[`item.${_.value}`])==null?void 0:I.call(n,_))??((E=n.item)==null?void 0:E.call(n,_))}}))]}),(S=n.default)==null?void 0:S.call(n,{prev:s,next:r}),V&&(((w=n.actions)==null?void 0:w.call(n,{next:r,prev:s}))??g(IV,{key:"stepper-actions","onClick:prev":s,"onClick:next":r},n))]}})}),{prev:s,next:r}}}),pY=W({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...jr(),...qh()},"VSwitch"),yY=ne()({name:"VSwitch",inheritAttrs:!1,props:pY(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=xe(e,"indeterminate"),s=xe(e,"modelValue"),{loaderClasses:o}=xc(e),{isFocused:a,focus:l,blur:u}=Hr(e),c=le(),d=lt&&window.matchMedia("(forced-colors: active)").matches,h=C(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),m=cn(),p=C(()=>e.id||`switch-${m}`);function v(){r.value&&(r.value=!1)}function y(A){var P,D;A.stopPropagation(),A.preventDefault(),(D=(P=c.value)==null?void 0:P.input)==null||D.click()}return se(()=>{const[A,P]=Ls(n),D=bn.filterProps(e),N=ks.filterProps(e);return g(bn,ae({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},o.value,e.class]},A,D,{modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,id:p.value,focused:a.value,style:e.style}),{...i,default:R=>{let{id:V,messagesId:S,isDisabled:w,isReadonly:_,isValid:I}=R;const E={model:s,isValid:I};return g(ks,ae({ref:c},N,{modelValue:s.value,"onUpdate:modelValue":[T=>s.value=T,v],id:V.value,"aria-describedby":S.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:w.value,readonly:_.value,onFocus:l,onBlur:u},P),{...i,default:T=>{let{backgroundColorClasses:x,backgroundColorStyles:B}=T;return g("div",{class:["v-switch__track",d?void 0:x.value],style:B.value,onClick:y},[i["track-true"]&&g("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](E)]),i["track-false"]&&g("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](E)])])},input:T=>{let{inputNode:x,icon:B,backgroundColorClasses:U,backgroundColorStyles:$}=T;return g(Ae,null,[x,g("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":B||e.loading},e.inset||d?void 0:U.value],style:e.inset?void 0:$.value},[i.thumb?g(Ge,{defaults:{VIcon:{icon:B,size:"x-small"}}},{default:()=>[i.thumb({...E,icon:B})]}):g(f_,null,{default:()=>[e.loading?g(Rc,{name:"v-switch",active:!0,color:I.value===!1?void 0:h.value},{default:K=>i.loader?i.loader(K):g(hl,{active:K.isActive,color:K.color,indeterminate:!0,size:"16",width:"2"},null)}):B&&g(rt,{key:String(B),icon:B,size:"x-small"},null)]})])])}})}})}),{}}}),_Y=W({color:String,height:[Number,String],window:Boolean,...Ee(),...Gt(),...Qo(),...wt(),...Ue(),...Ye()},"VSystemBar"),bY=ne()({name:"VSystemBar",props:_Y(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{backgroundColorClasses:r,backgroundColorStyles:s}=ht(Q(e,"color")),{elevationClasses:o}=dn(e),{roundedClasses:a}=Vt(e),{ssrBootStyles:l}=Jo(),u=C(()=>e.height??(e.window?32:24)),{layoutItemStyles:c}=Xo({id:e.name,order:C(()=>parseInt(e.order,10)),position:ye("top"),layoutSize:u,elementSize:u,active:C(()=>!0),absolute:Q(e,"absolute")});return se(()=>g(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},i.value,r.value,o.value,a.value,e.class],style:[s.value,c.value,l.value,e.style]},n)),{}}}),K_=Symbol.for("vuetify:v-tabs"),wY=W({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ut(Kh({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),kV=ne()({name:"VTab",props:wY(),setup(e,t){let{slots:n,attrs:i}=t;const{textColorClasses:r,textColorStyles:s}=_n(e,"sliderColor"),o=le(),a=le(),l=C(()=>e.direction==="horizontal"),u=C(()=>{var d,h;return((h=(d=o.value)==null?void 0:d.group)==null?void 0:h.isSelected.value)??!1});function c(d){var m,p;let{value:h}=d;if(h){const v=(p=(m=o.value)==null?void 0:m.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),y=a.value;if(!v||!y)return;const A=getComputedStyle(v).color,P=v.getBoundingClientRect(),D=y.getBoundingClientRect(),N=l.value?"x":"y",R=l.value?"X":"Y",V=l.value?"right":"bottom",S=l.value?"width":"height",w=P[N],_=D[N],I=w>_?P[V]-D[V]:P[N]-D[N],E=Math.sign(I)>0?l.value?"right":"bottom":Math.sign(I)<0?l.value?"left":"top":"center",x=(Math.abs(I)+(Math.sign(I)<0?P[S]:D[S]))/Math.max(P[S],D[S])||0,B=P[S]/D[S]||0,U=1.5;uo(y,{backgroundColor:[A,"currentcolor"],transform:[`translate${R}(${I}px) scale${R}(${B})`,`translate${R}(${I/U}px) scale${R}(${(x-1)/U+1})`,"none"],transformOrigin:Array(3).fill(E)},{duration:225,easing:ec})}}return se(()=>{const d=it.filterProps(e);return g(it,ae({symbol:K_,ref:o,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},d,i,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":c}),{...n,default:()=>{var h;return g(Ae,null,[((h=n.default)==null?void 0:h.call(n))??e.text,!e.hideSlider&&g("div",{ref:a,class:["v-tab__slider",r.value],style:s.value},null)])}})}),Ai({},o)}}),IY=W({...Ut(em(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),AV=ne()({name:"VTabsWindow",props:IY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=$e(K_,null),r=xe(e,"modelValue"),s=C({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return se(()=>{const o=Mo.filterProps(e);return g(Mo,ae({_as:"VTabsWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),SY=W({...tm()},"VTabsWindowItem"),PV=ne()({name:"VTabsWindowItem",props:SY(),setup(e,t){let{slots:n}=t;return se(()=>{const i=Lo.filterProps(e);return g(Lo,ae({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function EY(e){return e?e.map(t=>Ju(t)?t:{text:t,value:t}):[]}const TY=W({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...y_({mandatory:"force",selectedClass:"v-tab-item--selected"}),...en(),...Ue()},"VTabs"),CY=ne()({name:"VTabs",props:TY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=xe(e,"modelValue"),s=C(()=>EY(e.items)),{densityClasses:o}=On(e),{backgroundColorClasses:a,backgroundColorStyles:l}=ht(Q(e,"bgColor")),{scopeId:u}=ra();return Rt({VTab:{color:Q(e,"color"),direction:Q(e,"direction"),stacked:Q(e,"stacked"),fixed:Q(e,"fixedTabs"),sliderColor:Q(e,"sliderColor"),hideSlider:Q(e,"hideSlider")}}),se(()=>{const c=ac.filterProps(e),d=!!(i.window||e.items.length>0);return g(Ae,null,[g(ac,ae(c,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,a.value,e.class],style:[{"--v-tabs-height":Ie(e.height)},l.value,e.style],role:"tablist",symbol:K_},u,n),{default:()=>{var h;return[((h=i.default)==null?void 0:h.call(i))??s.value.map(m=>{var p;return((p=i.tab)==null?void 0:p.call(i,{item:m}))??g(kV,ae(m,{key:m.text,value:m.value}),{default:i[`tab.${m.value}`]?()=>{var v;return(v=i[`tab.${m.value}`])==null?void 0:v.call(i,{item:m})}:void 0})})]}}),d&&g(AV,ae({modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,key:"tabs-window"},u),{default:()=>{var h;return[s.value.map(m=>{var p;return((p=i.item)==null?void 0:p.call(i,{item:m}))??g(PV,{value:m.value},{default:()=>{var v;return(v=i[`item.${m.value}`])==null?void 0:v.call(i,{item:m})}})}),(h=i.window)==null?void 0:h.call(i)]}})])}),{}}}),kY=W({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...jr(),...Lc()},"VTextarea"),AY=ne()({name:"VTextarea",directives:{Intersect:Pc},inheritAttrs:!1,props:kY(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=xe(e,"modelValue"),{isFocused:o,focus:a,blur:l}=Hr(e),u=C(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),c=C(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function d(E,T){var x,B;!e.autofocus||!E||(B=(x=T[0].target)==null?void 0:x.focus)==null||B.call(x)}const h=le(),m=le(),p=ye(""),v=le(),y=C(()=>e.persistentPlaceholder||o.value||e.active);function A(){var E;v.value!==document.activeElement&&((E=v.value)==null||E.focus()),o.value||a()}function P(E){A(),i("click:control",E)}function D(E){i("mousedown:control",E)}function N(E){E.stopPropagation(),A(),Ke(()=>{s.value="",n_(e["onClick:clear"],E)})}function R(E){var x;const T=E.target;if(s.value=T.value,(x=e.modelModifiers)!=null&&x.trim){const B=[T.selectionStart,T.selectionEnd];Ke(()=>{T.selectionStart=B[0],T.selectionEnd=B[1]})}}const V=le(),S=le(+e.rows),w=C(()=>["plain","underlined"].includes(e.variant));Nt(()=>{e.autoGrow||(S.value=+e.rows)});function _(){e.autoGrow&&Ke(()=>{if(!V.value||!m.value)return;const E=getComputedStyle(V.value),T=getComputedStyle(m.value.$el),x=parseFloat(E.getPropertyValue("--v-field-padding-top"))+parseFloat(E.getPropertyValue("--v-input-padding-top"))+parseFloat(E.getPropertyValue("--v-field-padding-bottom")),B=V.value.scrollHeight,U=parseFloat(E.lineHeight),$=Math.max(parseFloat(e.rows)*U+x,parseFloat(T.getPropertyValue("--v-input-control-height"))),K=parseFloat(e.maxRows)*U+x||1/0,F=Ft(B??0,$,K);S.value=Math.floor((F-x)/U),p.value=Ie(F)})}In(_),_e(s,_),_e(()=>e.rows,_),_e(()=>e.maxRows,_),_e(()=>e.density,_);let I;return _e(V,E=>{E?(I=new ResizeObserver(_),I.observe(V.value)):I==null||I.disconnect()}),Sn(()=>{I==null||I.disconnect()}),se(()=>{const E=!!(r.counter||e.counter||e.counterValue),T=!!(E||r.details),[x,B]=Ls(n),{modelValue:U,...$}=bn.filterProps(e),K=C_(e);return g(bn,ae({ref:h,modelValue:s.value,"onUpdate:modelValue":F=>s.value=F,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":w.value},e.class],style:e.style},x,$,{centerAffix:S.value===1&&!w.value,focused:o.value}),{...r,default:F=>{let{id:q,isDisabled:H,isDirty:G,isReadonly:te,isValid:ce}=F;return g(Vl,ae({ref:m,style:{"--v-textarea-control-height":p.value},onClick:P,onMousedown:D,"onClick:clear":N,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},K,{id:q.value,active:y.value||G.value,centerAffix:S.value===1&&!w.value,dirty:G.value||e.dirty,disabled:H.value,focused:o.value,error:ce.value===!1}),{...r,default:Se=>{let{props:{class:he,...oe}}=Se;return g(Ae,null,[e.prefix&&g("span",{class:"v-text-field__prefix"},[e.prefix]),kt(g("textarea",ae({ref:v,class:he,value:s.value,onInput:R,autofocus:e.autofocus,readonly:te.value,disabled:H.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:A,onBlur:l},oe,B),null),[[ai("intersect"),{handler:d},null,{once:!0}]]),e.autoGrow&&kt(g("textarea",{class:[he,"v-textarea__sizer"],id:`${oe.id}-sizer`,"onUpdate:modelValue":j=>s.value=j,ref:V,readonly:!0,"aria-hidden":"true"},null),[[GO,s.value]]),e.suffix&&g("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:T?F=>{var q;return g(Ae,null,[(q=r.details)==null?void 0:q.call(r,F),E&&g(Ae,null,[g("span",null,null),g(Xh,{active:e.persistentCounter||o.value,value:u.value,max:c.value,disabled:e.disabled},r.counter)])])}:void 0})}),Ai({},h,m,v)}}),PY=W({withBackground:Boolean,...Ee(),...Ye(),...Ue()},"VThemeProvider"),xY=ne()({name:"VThemeProvider",props:PY(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e);return()=>{var r;return e.withBackground?g(e.tag,{class:["v-theme-provider",i.value,e.class],style:e.style},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}}):(r=n.default)==null?void 0:r.call(n)}}}),RY=W({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Oe,iconColor:String,lineColor:String,...Ee(),...wt(),...hr(),...Gt()},"VTimelineDivider"),VY=ne()({name:"VTimelineDivider",props:RY(),setup(e,t){let{slots:n}=t;const{sizeClasses:i,sizeStyles:r}=kl(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=ht(Q(e,"dotColor")),{roundedClasses:a}=Vt(e,"v-timeline-divider__dot"),{elevationClasses:l}=dn(e),{backgroundColorClasses:u,backgroundColorStyles:c}=ht(Q(e,"lineColor"));return se(()=>g("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[g("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&g("div",{key:"dot",class:["v-timeline-divider__dot",l.value,a.value,i.value],style:r.value},[g("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:s.value},[n.default?g(Ge,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):g(rt,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),g("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)])),{}}}),xV=W({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Oe,iconColor:String,lineInset:[Number,String],...Ee(),...Jt(),...Gt(),...wt(),...hr(),...Ue()},"VTimelineItem"),DY=ne()({name:"VTimelineItem",props:xV(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Zt(e),r=ye(0),s=le();return _e(s,o=>{var a;o&&(r.value=((a=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)??0)},{flush:"post"}),se(()=>{var o,a;return g("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":Ie(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Ie(e.lineInset)})`:Ie(0)},e.style]},[g("div",{class:"v-timeline-item__body",style:i.value},[(o=n.default)==null?void 0:o.call(n)]),g(VY,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&g("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((a=n.opposite)==null?void 0:a.call(n))])])}),{}}}),NY=W({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Nh(xV({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Ee(),...en(),...Ue(),...Ye()},"VTimeline"),OY=ne()({name:"VTimeline",props:NY(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=st(e),{densityClasses:r}=On(e),{rtlClasses:s}=Xt();Rt({VTimelineDivider:{lineColor:Q(e,"lineColor")},VTimelineItem:{density:Q(e,"density"),dotColor:Q(e,"dotColor"),fillDot:Q(e,"fillDot"),hideOpposite:Q(e,"hideOpposite"),iconColor:Q(e,"iconColor"),lineColor:Q(e,"lineColor"),lineInset:Q(e,"lineInset"),size:Q(e,"size")}});const o=C(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),a=C(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return se(()=>g(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,a.value,{"v-timeline--inset-line":!!e.lineInset},i.value,r.value,o.value,s.value,e.class],style:[{"--v-timeline-line-thickness":Ie(e.lineThickness)},e.style]},n)),{}}}),MY=W({...Ee(),...ki({variant:"text"})},"VToolbarItems"),LY=ne()({name:"VToolbarItems",props:MY(),setup(e,t){let{slots:n}=t;return Rt({VBtn:{color:Q(e,"color"),height:"inherit",variant:Q(e,"variant")}}),se(()=>{var i;return g("div",{class:["v-toolbar-items",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),FY=W({id:String,text:String,...Ut(Mc({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),RV=ne()({name:"VTooltip",props:FY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=xe(e,"modelValue"),{scopeId:r}=ra(),s=cn(),o=C(()=>e.id||`v-tooltip-${s}`),a=le(),l=C(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=C(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=C(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),d=C(()=>ae({"aria-describedby":o.value},e.activatorProps));return se(()=>{const h=ar.filterProps(e);return g(ar,ae({ref:a,class:["v-tooltip",e.class],style:e.style,id:o.value},h,{modelValue:i.value,"onUpdate:modelValue":m=>i.value=m,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var y;for(var m=arguments.length,p=new Array(m),v=0;v<m;v++)p[v]=arguments[v];return((y=n.default)==null?void 0:y.call(n,...p))??e.text}})}),Ai({},a)}}),BY=ne()({name:"VValidation",props:OR(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=MR(e,"validation");return()=>{var r;return(r=n.default)==null?void 0:r.call(n,i)}}}),$Y=Object.freeze(Object.defineProperty({__proto__:null,VAlert:lG,VAlertTitle:AR,VApp:pW,VAppBar:LW,VAppBarNavIcon:rG,VAppBarTitle:sG,VAutocomplete:xK,VAvatar:Si,VBadge:VK,VBanner:OK,VBannerActions:f1,VBannerText:h1,VBottomNavigation:LK,VBottomSheet:BK,VBreadcrumbs:jK,VBreadcrumbsDivider:g1,VBreadcrumbsItem:v1,VBtn:it,VBtnGroup:Gv,VBtnToggle:jW,VCard:qK,VCardActions:p1,VCardItem:b1,VCardSubtitle:y1,VCardText:w1,VCardTitle:_1,VCarousel:iq,VCarouselItem:sq,VCheckbox:pG,VCheckboxBtn:Nr,VChip:Rl,VChipGroup:IG,VClassIcon:Uh,VCode:oq,VCol:O7,VColorPicker:qq,VCombobox:Xq,VComponentIcon:jv,VConfirmEdit:Zq,VContainer:R7,VCounter:Xh,VDataIterator:u7,VDataTable:T7,VDataTableFooter:uc,VDataTableHeaders:Bo,VDataTableRow:U_,VDataTableRows:$o,VDataTableServer:P7,VDataTableVirtual:k7,VDatePicker:q7,VDatePickerControls:lp,VDatePickerHeader:up,VDatePickerMonth:cp,VDatePickerMonths:dp,VDatePickerYears:fp,VDefaultsProvider:Ge,VDialog:ep,VDialogBottomTransition:wW,VDialogTopTransition:IW,VDialogTransition:Hh,VDivider:Oc,VEmptyState:Q7,VExpandTransition:jh,VExpandXTransition:m_,VExpansionPanel:X7,VExpansionPanelText:hp,VExpansionPanelTitle:mp,VExpansionPanels:e8,VFab:n8,VFabTransition:bW,VFadeTransition:ic,VField:Vl,VFieldLabel:mu,VFileInput:r8,VFooter:o8,VForm:l8,VHover:c8,VIcon:rt,VImg:Dr,VInfiniteScroll:f8,VInput:bn,VItem:g8,VItemGroup:m8,VKbd:v8,VLabel:xl,VLayout:y8,VLayoutItem:b8,VLazy:I8,VLigatureIcon:lW,VList:Qh,VListGroup:Qv,VListImg:WG,VListItem:Or,VListItemAction:KG,VListItemMedia:YG,VListItemSubtitle:qR,VListItemTitle:YR,VListSubheader:QR,VLocaleProvider:E8,VMain:C8,VMenu:ml,VMessages:DR,VNavigationDrawer:O8,VNoSsr:M8,VOtpInput:F8,VOverlay:ar,VPagination:op,VParallax:U8,VProgressCircular:hl,VProgressLinear:Wh,VRadio:j8,VRadioGroup:W8,VRangeSlider:K8,VRating:Y8,VResponsive:zv,VRow:H7,VScaleTransition:f_,VScrollXReverseTransition:EW,VScrollXTransition:SW,VScrollYReverseTransition:CW,VScrollYTransition:TW,VSelect:P_,VSelectionControl:ks,VSelectionControlGroup:xR,VSheet:Fo,VSkeletonLoader:Z8,VSlideGroup:ac,VSlideGroupItem:eY,VSlideXReverseTransition:AW,VSlideXTransition:kW,VSlideYReverseTransition:PW,VSlideYTransition:h_,VSlider:sp,VSnackbar:iY,VSpacer:lV,VSparkline:aY,VSpeedDial:uY,VStepper:vY,VStepperActions:IV,VStepperHeader:SV,VStepperItem:EV,VStepperWindow:TV,VStepperWindowItem:CV,VSvgIcon:c_,VSwitch:yY,VSystemBar:bY,VTab:kV,VTable:Uo,VTabs:CY,VTabsWindow:AV,VTabsWindowItem:PV,VTextField:Oo,VTextarea:AY,VThemeProvider:xY,VTimeline:OY,VTimelineItem:DY,VToolbar:Wv,VToolbarItems:LY,VToolbarTitle:d_,VTooltip:RV,VValidation:BY,VVirtualScroll:Zh,VWindow:Mo,VWindowItem:Lo},Symbol.toStringTag,{value:"Module"}));function UY(e,t){const n=t.modifiers||{},i=t.value,{once:r,immediate:s,...o}=n,a=!Object.keys(o).length,{handler:l,options:u}=typeof i=="object"?i:{handler:i,options:{attributes:(o==null?void 0:o.attr)??a,characterData:(o==null?void 0:o.char)??a,childList:(o==null?void 0:o.child)??a,subtree:(o==null?void 0:o.sub)??a}},c=new MutationObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;l==null||l(d,h),r&&VV(e,t)});s&&(l==null||l([],c)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:c},c.observe(e,u)}function VV(e,t){var n;(n=e._mutate)!=null&&n[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const HY={mounted:UY,unmounted:VV};function jY(e,t){var r,s;const n=t.value,i={passive:!((r=t.modifiers)!=null&&r.active)};window.addEventListener("resize",n,i),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:i},(s=t.modifiers)!=null&&s.quiet||n()}function zY(e,t){var r;if(!((r=e._onResize)!=null&&r[t.instance.$.uid]))return;const{handler:n,options:i}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,i),delete e._onResize[t.instance.$.uid]}const WY={mounted:jY,unmounted:zY};function DV(e,t){const{self:n=!1}=t.modifiers??{},i=t.value,r=typeof i=="object"&&i.options||{passive:!0},s=typeof i=="function"||"handleEvent"in i?i:i.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",s,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:s,options:r,target:n?void 0:o})}function NV(e,t){var s;if(!((s=e._onScroll)!=null&&s[t.instance.$.uid]))return;const{handler:n,options:i,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",n,i),delete e._onScroll[t.instance.$.uid]}function GY(e,t){t.value!==t.oldValue&&(NV(e,t),DV(e,t))}const KY={mounted:DV,unmounted:NV,updated:GY};function qY(e,t){const n=typeof e=="string"?zn(e):e,i=YY(n,t);return{mounted:i,updated:i,unmounted(r){nC(null,r)}}}function YY(e,t){return function(n,i,r){var d,h,m;const s=typeof t=="function"?t(i):t,o=((d=i.value)==null?void 0:d.text)??i.value??(s==null?void 0:s.text),a=Ju(i.value)?i.value:{},l=()=>o??n.innerHTML,u=(r.ctx===i.instance.$?(h=QY(r,i.instance.$))==null?void 0:h.provides:(m=r.ctx)==null?void 0:m.provides)??i.instance.$.provides,c=zi(e,ae(s,a),l);c.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:u}),nC(c,n)}}function QY(e,t){const n=new Set,i=s=>{var o,a;for(const l of s){if(!l)continue;if(l===e)return!0;n.add(l);let u;if(l.suspense?u=i([l.ssContent]):Array.isArray(l.children)?u=i(l.children):(o=l.component)!=null&&o.vnode&&(u=i([(a=l.component)==null?void 0:a.subTree])),u)return u;n.delete(l)}return!1};if(!i([t.subTree]))throw new Error("Could not find original vnode");const r=Array.from(n).reverse();for(const s of r)if(s.component)return s.component;return t}const XY=qY(RV,e=>{var t;return{activator:"parent",location:((t=e.arg)==null?void 0:t.replace("-"," "))??"top",text:typeof e.value=="boolean"?void 0:e.value}}),JY=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:a1,Intersect:Pc,Mutate:HY,Resize:WY,Ripple:Ur,Scroll:KY,Tooltip:XY,Touch:x_},Symbol.toStringTag,{value:"Module"})),ZY={collapse:"fas fa-chevron-up",complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sortAsc:"fas fa-arrow-up",sortDesc:"fas fa-arrow-down",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus",calendar:"fas fa-calendar",treeviewCollapse:"fas fa-caret-down",treeviewExpand:"fas fa-caret-right",eyeDropper:"fas fa-eye-dropper"},eQ={component:Uh};var OV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MV(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var LV={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(OV,function(){var n=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",h="quarter",m="year",p="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var U=["th","st","nd","rd"],$=B%100;return"["+B+(U[($-20)%10]||U[$]||U[0])+"]"}},D=function(B,U,$){var K=String(B);return!K||K.length>=U?B:""+Array(U+1-K.length).join($)+B},N={s:D,z:function(B){var U=-B.utcOffset(),$=Math.abs(U),K=Math.floor($/60),F=$%60;return(U<=0?"+":"-")+D(K,2,"0")+":"+D(F,2,"0")},m:function B(U,$){if(U.date()<$.date())return-B($,U);var K=12*($.year()-U.year())+($.month()-U.month()),F=U.clone().add(K,d),q=$-F<0,H=U.clone().add(K+(q?-1:1),d);return+(-(K+($-F)/(q?F-H:H-F))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:d,y:m,w:c,d:u,D:p,h:l,m:a,s:o,ms:s,Q:h}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},R="en",V={};V[R]=P;var S="$isDayjsObject",w=function(B){return B instanceof T||!(!B||!B[S])},_=function B(U,$,K){var F;if(!U)return R;if(typeof U=="string"){var q=U.toLowerCase();V[q]&&(F=q),$&&(V[q]=$,F=q);var H=U.split("-");if(!F&&H.length>1)return B(H[0])}else{var G=U.name;V[G]=U,F=G}return!K&&F&&(R=F),F||!K&&R},I=function(B,U){if(w(B))return B.clone();var $=typeof U=="object"?U:{};return $.date=B,$.args=arguments,new T($)},E=N;E.l=_,E.i=w,E.w=function(B,U){return I(B,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var T=function(){function B($){this.$L=_($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[S]=!0}var U=B.prototype;return U.parse=function($){this.$d=function(K){var F=K.date,q=K.utc;if(F===null)return new Date(NaN);if(E.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var H=F.match(y);if(H){var G=H[2]-1||0,te=(H[7]||"0").substring(0,3);return q?new Date(Date.UTC(H[1],G,H[3]||1,H[4]||0,H[5]||0,H[6]||0,te)):new Date(H[1],G,H[3]||1,H[4]||0,H[5]||0,H[6]||0,te)}}return new Date(F)}($),this.init()},U.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},U.$utils=function(){return E},U.isValid=function(){return this.$d.toString()!==v},U.isSame=function($,K){var F=I($);return this.startOf(K)<=F&&F<=this.endOf(K)},U.isAfter=function($,K){return I($)<this.startOf(K)},U.isBefore=function($,K){return this.endOf(K)<I($)},U.$g=function($,K,F){return E.u($)?this[K]:this.set(F,$)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function($,K){var F=this,q=!!E.u(K)||K,H=E.p($),G=function(de,Z){var ve=E.w(F.$u?Date.UTC(F.$y,Z,de):new Date(F.$y,Z,de),F);return q?ve:ve.endOf(u)},te=function(de,Z){return E.w(F.toDate()[de].apply(F.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(Z)),F)},ce=this.$W,Se=this.$M,he=this.$D,oe="set"+(this.$u?"UTC":"");switch(H){case m:return q?G(1,0):G(31,11);case d:return q?G(1,Se):G(0,Se+1);case c:var j=this.$locale().weekStart||0,ue=(ce<j?ce+7:ce)-j;return G(q?he-ue:he+(6-ue),Se);case u:case p:return te(oe+"Hours",0);case l:return te(oe+"Minutes",1);case a:return te(oe+"Seconds",2);case o:return te(oe+"Milliseconds",3);default:return this.clone()}},U.endOf=function($){return this.startOf($,!1)},U.$set=function($,K){var F,q=E.p($),H="set"+(this.$u?"UTC":""),G=(F={},F[u]=H+"Date",F[p]=H+"Date",F[d]=H+"Month",F[m]=H+"FullYear",F[l]=H+"Hours",F[a]=H+"Minutes",F[o]=H+"Seconds",F[s]=H+"Milliseconds",F)[q],te=q===u?this.$D+(K-this.$W):K;if(q===d||q===m){var ce=this.clone().set(p,1);ce.$d[G](te),ce.init(),this.$d=ce.set(p,Math.min(this.$D,ce.daysInMonth())).$d}else G&&this.$d[G](te);return this.init(),this},U.set=function($,K){return this.clone().$set($,K)},U.get=function($){return this[E.p($)]()},U.add=function($,K){var F,q=this;$=Number($);var H=E.p(K),G=function(Se){var he=I(q);return E.w(he.date(he.date()+Math.round(Se*$)),q)};if(H===d)return this.set(d,this.$M+$);if(H===m)return this.set(m,this.$y+$);if(H===u)return G(1);if(H===c)return G(7);var te=(F={},F[a]=i,F[l]=r,F[o]=n,F)[H]||1,ce=this.$d.getTime()+$*te;return E.w(ce,this)},U.subtract=function($,K){return this.add(-1*$,K)},U.format=function($){var K=this,F=this.$locale();if(!this.isValid())return F.invalidDate||v;var q=$||"YYYY-MM-DDTHH:mm:ssZ",H=E.z(this),G=this.$H,te=this.$m,ce=this.$M,Se=F.weekdays,he=F.months,oe=F.meridiem,j=function(Z,ve,re,O){return Z&&(Z[ve]||Z(K,q))||re[ve].slice(0,O)},ue=function(Z){return E.s(G%12||12,Z,"0")},de=oe||function(Z,ve,re){var O=Z<12?"AM":"PM";return re?O.toLowerCase():O};return q.replace(A,function(Z,ve){return ve||function(re){switch(re){case"YY":return String(K.$y).slice(-2);case"YYYY":return E.s(K.$y,4,"0");case"M":return ce+1;case"MM":return E.s(ce+1,2,"0");case"MMM":return j(F.monthsShort,ce,he,3);case"MMMM":return j(he,ce);case"D":return K.$D;case"DD":return E.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return j(F.weekdaysMin,K.$W,Se,2);case"ddd":return j(F.weekdaysShort,K.$W,Se,3);case"dddd":return Se[K.$W];case"H":return String(G);case"HH":return E.s(G,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return de(G,te,!0);case"A":return de(G,te,!1);case"m":return String(te);case"mm":return E.s(te,2,"0");case"s":return String(K.$s);case"ss":return E.s(K.$s,2,"0");case"SSS":return E.s(K.$ms,3,"0");case"Z":return H}return null}(Z)||H.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function($,K,F){var q,H=this,G=E.p(K),te=I($),ce=(te.utcOffset()-this.utcOffset())*i,Se=this-te,he=function(){return E.m(H,te)};switch(G){case m:q=he()/12;break;case d:q=he();break;case h:q=he()/3;break;case c:q=(Se-ce)/6048e5;break;case u:q=(Se-ce)/864e5;break;case l:q=Se/r;break;case a:q=Se/i;break;case o:q=Se/n;break;default:q=Se}return F?q:E.a(q)},U.daysInMonth=function(){return this.endOf(d).$D},U.$locale=function(){return V[this.$L]},U.locale=function($,K){if(!$)return this.$L;var F=this.clone(),q=_($,K,!0);return q&&(F.$L=q),F},U.clone=function(){return E.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},B}(),x=T.prototype;return I.prototype=x,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",m],["$D",p]].forEach(function(B){x[B[1]]=function(U){return this.$g(U,B[0],B[1])}}),I.extend=function(B,U){return B.$i||(B(U,T,I),B.$i=!0),I},I.locale=_,I.isDayjs=w,I.unix=function(B){return I(1e3*B)},I.en=V[R],I.Ls=V,I.p={},I})})(LV);var tQ=LV.exports;const nQ=MV(tQ);var FV={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(OV,function(){return function(n,i,r){n=n||{};var s=i.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,c,d,h){return s.fromToBase(u,c,d,h)}r.en.relativeTime=o,s.fromToBase=function(u,c,d,h,m){for(var p,v,y,A=d.$locale().relativeTime||o,P=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],D=P.length,N=0;N<D;N+=1){var R=P[N];R.d&&(p=h?r(u).diff(d,R.d,!0):d.diff(u,R.d,!0));var V=(n.rounding||Math.round)(Math.abs(p));if(y=p>0,V<=R.r||!R.r){V<=1&&N>0&&(R=P[N-1]);var S=A[R.l];m&&(V=m(""+V)),v=typeof S=="string"?S.replace("%d",V):S(V,c,R.l,y);break}}if(c)return v;var w=y?A.future:A.past;return typeof w=="function"?w(v):w.replace("%s",v)},s.to=function(u,c){return a(u,c,this,!0)},s.from=function(u,c){return a(u,c,this)};var l=function(u){return u.$u?r.utc():r()};s.toNow=function(u){return this.to(l(this),u)},s.fromNow=function(u){return this.from(l(this),u)}}})})(FV);var iQ=FV.exports;const rQ=MV(iQ);/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ca=typeof document<"u";function sQ(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const mt=Object.assign;function Eg(e,t){const n={};for(const i in t){const r=t[i];n[i]=ji(r)?r.map(e):e(r)}return n}const Vu=()=>{},ji=Array.isArray,BV=/#/g,oQ=/&/g,aQ=/\//g,lQ=/=/g,uQ=/\?/g,$V=/\+/g,cQ=/%5B/g,dQ=/%5D/g,UV=/%5E/g,fQ=/%60/g,HV=/%7B/g,hQ=/%7C/g,jV=/%7D/g,mQ=/%20/g;function q_(e){return encodeURI(""+e).replace(hQ,"|").replace(cQ,"[").replace(dQ,"]")}function gQ(e){return q_(e).replace(HV,"{").replace(jV,"}").replace(UV,"^")}function gp(e){return q_(e).replace($V,"%2B").replace(mQ,"+").replace(BV,"%23").replace(oQ,"%26").replace(fQ,"`").replace(HV,"{").replace(jV,"}").replace(UV,"^")}function vQ(e){return gp(e).replace(lQ,"%3D")}function pQ(e){return q_(e).replace(BV,"%23").replace(uQ,"%3F")}function yQ(e){return e==null?"":pQ(e).replace(aQ,"%2F")}function dc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const _Q=/\/$/,bQ=e=>e.replace(_Q,"");function Tg(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=EQ(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:dc(o)}}function wQ(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function pE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function IQ(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&gl(t.matched[i],n.matched[r])&&zV(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function gl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function zV(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!SQ(e[n],t[n]))return!1;return!0}function SQ(e,t){return ji(e)?yE(e,t):ji(t)?yE(t,e):e===t}function yE(e,t){return ji(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function EQ(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const Zr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var fc;(function(e){e.pop="pop",e.push="push"})(fc||(fc={}));var Du;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Du||(Du={}));function TQ(e){if(!e)if(Ca){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),bQ(e)}const CQ=/^[^#]+#/;function kQ(e,t){return e.replace(CQ,"#")+t}function AQ(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const hm=()=>({left:window.scrollX,top:window.scrollY});function PQ(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=AQ(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function _E(e,t){return(history.state?history.state.position-t:-1)+e}const vp=new Map;function xQ(e,t){vp.set(e,t)}function RQ(e){const t=vp.get(e);return vp.delete(e),t}let VQ=()=>location.protocol+"//"+location.host;function WV(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),pE(l,"")}return pE(n,e)+i+r}function DQ(e,t,n,i){let r=[],s=[],o=null;const a=({state:h})=>{const m=WV(e,location),p=n.value,v=t.value;let y=0;if(h){if(n.value=m,t.value=h,o&&o===p){o=null;return}y=v?h.position-v.position:0}else i(m);r.forEach(A=>{A(n.value,p,{delta:y,type:fc.pop,direction:y?y>0?Du.forward:Du.back:Du.unknown})})};function l(){o=n.value}function u(h){r.push(h);const m=()=>{const p=r.indexOf(h);p>-1&&r.splice(p,1)};return s.push(m),m}function c(){const{history:h}=window;h.state&&h.replaceState(mt({},h.state,{scroll:hm()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function bE(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?hm():null}}function NQ(e){const{history:t,location:n}=window,i={value:WV(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:VQ()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(m){console.error(m),n[c?"replace":"assign"](h)}}function o(l,u){const c=mt({},t.state,bE(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),i.value=l}function a(l,u){const c=mt({},r.value,t.state,{forward:l,scroll:hm()});s(c.current,c,!0);const d=mt({},bE(i.value,l,null),{position:c.position+1},u);s(l,d,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function OQ(e){e=TQ(e);const t=NQ(e),n=DQ(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=mt({location:"",base:e,go:i,createHref:kQ.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function MQ(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),OQ(e)}function LQ(e){return typeof e=="string"||e&&typeof e=="object"}function GV(e){return typeof e=="string"||typeof e=="symbol"}const KV=Symbol("");var wE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wE||(wE={}));function vl(e,t){return mt(new Error,{type:e,[KV]:!0},t)}function vr(e,t){return e instanceof Error&&KV in e&&(t==null||!!(e.type&t))}const IE="[^/]+?",FQ={sensitive:!1,strict:!1,start:!0,end:!0},BQ=/[.+*?^${}()[\]/\\]/g;function $Q(e,t){const n=mt({},FQ,t),i=[];let r=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const h=u[d];let m=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(BQ,"\\$&"),m+=40;else if(h.type===1){const{value:p,repeatable:v,optional:y,regexp:A}=h;s.push({name:p,repeatable:v,optional:y});const P=A||IE;if(P!==IE){m+=10;try{new RegExp(`(${P})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${p}" (${P}): `+N.message)}}let D=v?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;d||(D=y&&u.length<2?`(?:/${D})`:"/"+D),y&&(D+="?"),r+=D,m+=20,y&&(m+=-8),v&&(m+=-20),P===".*"&&(m+=-50)}c.push(m)}i.push(c)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const m=c[h]||"",p=s[h-1];d[p.name]=m&&p.repeatable?m.split("/"):m}return d}function l(u){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const m of h)if(m.type===0)c+=m.value;else if(m.type===1){const{value:p,repeatable:v,optional:y}=m,A=p in u?u[p]:"";if(ji(A)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const P=ji(A)?A.join("/"):A;if(!P)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=P}}return c||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function UQ(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function qV(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=UQ(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(SE(i))return 1;if(SE(r))return-1}return r.length-i.length}function SE(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const HQ={type:0,value:""},jQ=/[a-zA-Z0-9_]/;function zQ(e){if(!e)return[[]];if(e==="/")return[[HQ]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${u}": ${m}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:l==="("?n=2:jQ.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),r}function WQ(e,t,n){const i=$Q(zQ(e.path),n),r=mt(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function GQ(e,t){const n=[],i=new Map;t=CE({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function s(d,h,m){const p=!m,v=KQ(d);v.aliasOf=m&&m.record;const y=CE(t,d),A=[v];if("alias"in d){const N=typeof d.alias=="string"?[d.alias]:d.alias;for(const R of N)A.push(mt({},v,{components:m?m.record.components:v.components,path:R,aliasOf:m?m.record:v}))}let P,D;for(const N of A){const{path:R}=N;if(h&&R[0]!=="/"){const V=h.record.path,S=V[V.length-1]==="/"?"":"/";N.path=h.record.path+(R&&S+R)}if(P=WQ(N,h,y),m?m.alias.push(P):(D=D||P,D!==P&&D.alias.push(P),p&&d.name&&!TE(P)&&o(d.name)),YV(P)&&l(P),v.children){const V=v.children;for(let S=0;S<V.length;S++)s(V[S],P,m&&m.children[S])}m=m||P}return D?()=>{o(D)}:Vu}function o(d){if(GV(d)){const h=i.get(d);h&&(i.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=QQ(d,n);n.splice(h,0,d),d.record.name&&!TE(d)&&i.set(d.record.name,d)}function u(d,h){let m,p={},v,y;if("name"in d&&d.name){if(m=i.get(d.name),!m)throw vl(1,{location:d});y=m.record.name,p=mt(EE(h.params,m.keys.filter(D=>!D.optional).concat(m.parent?m.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),d.params&&EE(d.params,m.keys.map(D=>D.name))),v=m.stringify(p)}else if(d.path!=null)v=d.path,m=n.find(D=>D.re.test(v)),m&&(p=m.parse(v),y=m.record.name);else{if(m=h.name?i.get(h.name):n.find(D=>D.re.test(h.path)),!m)throw vl(1,{location:d,currentLocation:h});y=m.record.name,p=mt({},h.params,d.params),v=m.stringify(p)}const A=[];let P=m;for(;P;)A.unshift(P.record),P=P.parent;return{name:y,path:v,params:p,matched:A,meta:YQ(A)}}e.forEach(d=>s(d));function c(){n.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function EE(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function KQ(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:qQ(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function qQ(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function TE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function YQ(e){return e.reduce((t,n)=>mt(t,n.meta),{})}function CE(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function QQ(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;qV(e,t[s])<0?i=s:n=s+1}const r=XQ(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function XQ(e){let t=e;for(;t=t.parent;)if(YV(t)&&qV(e,t)===0)return t}function YV({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function JQ(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace($V," "),o=s.indexOf("="),a=dc(o<0?s:s.slice(0,o)),l=o<0?null:dc(s.slice(o+1));if(a in t){let u=t[a];ji(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function kE(e){let t="";for(let n in e){const i=e[n];if(n=vQ(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(ji(i)?i.map(s=>s&&gp(s)):[i&&gp(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function ZQ(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=ji(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const eX=Symbol(""),AE=Symbol(""),mm=Symbol(""),QV=Symbol(""),pp=Symbol("");function ou(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ss(e,t,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(vl(4,{from:n,to:t})):h instanceof Error?l(h):LQ(h)?l(vl(2,{from:t,to:h})):(o&&i.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},c=s(()=>e.call(i&&i.instances[r],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function Cg(e,t,n,i,r=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(tX(l)){const c=(l.__vccOpts||l)[t];c&&s.push(ss(c,n,i,o,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=sQ(c)?c.default:c;o.components[a]=d;const m=(d.__vccOpts||d)[t];return m&&ss(m,n,i,o,a,r)()}))}}return s}function tX(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function PE(e){const t=$e(mm),n=$e(QV),i=C(()=>{const l=gt(e.to);return t.resolve(l)}),r=C(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(gl.bind(null,c));if(h>-1)return h;const m=xE(l[u-2]);return u>1&&xE(c)===m&&d[d.length-1].path!==m?d.findIndex(gl.bind(null,l[u-2])):h}),s=C(()=>r.value>-1&&rX(n.params,i.value.params)),o=C(()=>r.value>-1&&r.value===n.matched.length-1&&zV(n.params,i.value.params));function a(l={}){return iX(l)?t[gt(e.replace)?"replace":"push"](gt(e.to)).catch(Vu):Promise.resolve()}return{route:i,href:C(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const nX=jo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:PE,setup(e,{slots:t}){const n=rn(PE(e)),{options:i}=$e(mm),r=C(()=>({[RE(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[RE(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:zi("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),XV=nX;function iX(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function rX(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!ji(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function xE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const RE=(e,t,n)=>e??t??n,sX=jo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=$e(pp),r=C(()=>e.route||i.value),s=$e(AE,0),o=C(()=>{let u=gt(s);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=C(()=>r.value.matched[o.value]);ft(AE,C(()=>o.value+1)),ft(eX,a),ft(pp,r);const l=le();return _e(()=>[l.value,a.value,e.name],([u,c,d],[h,m,p])=>{c&&(c.instances[d]=u,m&&m!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=m.leaveGuards),c.updateGuards.size||(c.updateGuards=m.updateGuards))),u&&c&&(!m||!gl(c,m)||!h)&&(c.enterCallbacks[d]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,d=a.value,h=d&&d.components[c];if(!h)return VE(n.default,{Component:h,route:u});const m=d.props[c],p=m?m===!0?u.params:typeof m=="function"?m(u):m:null,y=zi(h,mt({},p,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return VE(n.default,{Component:y,route:u})||y}}});function VE(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const JV=sX;function oX(e){const t=GQ(e.routes,e),n=e.parseQuery||JQ,i=e.stringifyQuery||kE,r=e.history,s=ou(),o=ou(),a=ou(),l=ye(Zr);let u=Zr;Ca&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Eg.bind(null,j=>""+j),d=Eg.bind(null,yQ),h=Eg.bind(null,dc);function m(j,ue){let de,Z;return GV(j)?(de=t.getRecordMatcher(j),Z=ue):Z=j,t.addRoute(Z,de)}function p(j){const ue=t.getRecordMatcher(j);ue&&t.removeRoute(ue)}function v(){return t.getRoutes().map(j=>j.record)}function y(j){return!!t.getRecordMatcher(j)}function A(j,ue){if(ue=mt({},ue||l.value),typeof j=="string"){const L=Tg(n,j,ue.path),z=t.resolve({path:L.path},ue),X=r.createHref(L.fullPath);return mt(L,z,{params:h(z.params),hash:dc(L.hash),redirectedFrom:void 0,href:X})}let de;if(j.path!=null)de=mt({},j,{path:Tg(n,j.path,ue.path).path});else{const L=mt({},j.params);for(const z in L)L[z]==null&&delete L[z];de=mt({},j,{params:d(L)}),ue.params=d(ue.params)}const Z=t.resolve(de,ue),ve=j.hash||"";Z.params=c(h(Z.params));const re=wQ(i,mt({},j,{hash:gQ(ve),path:Z.path})),O=r.createHref(re);return mt({fullPath:re,hash:ve,query:i===kE?ZQ(j.query):j.query||{}},Z,{redirectedFrom:void 0,href:O})}function P(j){return typeof j=="string"?Tg(n,j,l.value.path):mt({},j)}function D(j,ue){if(u!==j)return vl(8,{from:ue,to:j})}function N(j){return S(j)}function R(j){return N(mt(P(j),{replace:!0}))}function V(j){const ue=j.matched[j.matched.length-1];if(ue&&ue.redirect){const{redirect:de}=ue;let Z=typeof de=="function"?de(j):de;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=P(Z):{path:Z},Z.params={}),mt({query:j.query,hash:j.hash,params:Z.path!=null?{}:j.params},Z)}}function S(j,ue){const de=u=A(j),Z=l.value,ve=j.state,re=j.force,O=j.replace===!0,L=V(de);if(L)return S(mt(P(L),{state:typeof L=="object"?mt({},ve,L.state):ve,force:re,replace:O}),ue||de);const z=de;z.redirectedFrom=ue;let X;return!re&&IQ(i,Z,de)&&(X=vl(16,{to:z,from:Z}),G(Z,Z,!0,!1)),(X?Promise.resolve(X):I(z,Z)).catch(ee=>vr(ee)?vr(ee,2)?ee:H(ee):F(ee,z,Z)).then(ee=>{if(ee){if(vr(ee,2))return S(mt({replace:O},P(ee.to),{state:typeof ee.to=="object"?mt({},ve,ee.to.state):ve,force:re}),ue||z)}else ee=T(z,Z,!0,O,ve);return E(z,Z,ee),ee})}function w(j,ue){const de=D(j,ue);return de?Promise.reject(de):Promise.resolve()}function _(j){const ue=Se.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(j):j()}function I(j,ue){let de;const[Z,ve,re]=aX(j,ue);de=Cg(Z.reverse(),"beforeRouteLeave",j,ue);for(const L of Z)L.leaveGuards.forEach(z=>{de.push(ss(z,j,ue))});const O=w.bind(null,j,ue);return de.push(O),oe(de).then(()=>{de=[];for(const L of s.list())de.push(ss(L,j,ue));return de.push(O),oe(de)}).then(()=>{de=Cg(ve,"beforeRouteUpdate",j,ue);for(const L of ve)L.updateGuards.forEach(z=>{de.push(ss(z,j,ue))});return de.push(O),oe(de)}).then(()=>{de=[];for(const L of re)if(L.beforeEnter)if(ji(L.beforeEnter))for(const z of L.beforeEnter)de.push(ss(z,j,ue));else de.push(ss(L.beforeEnter,j,ue));return de.push(O),oe(de)}).then(()=>(j.matched.forEach(L=>L.enterCallbacks={}),de=Cg(re,"beforeRouteEnter",j,ue,_),de.push(O),oe(de))).then(()=>{de=[];for(const L of o.list())de.push(ss(L,j,ue));return de.push(O),oe(de)}).catch(L=>vr(L,8)?L:Promise.reject(L))}function E(j,ue,de){a.list().forEach(Z=>_(()=>Z(j,ue,de)))}function T(j,ue,de,Z,ve){const re=D(j,ue);if(re)return re;const O=ue===Zr,L=Ca?history.state:{};de&&(Z||O?r.replace(j.fullPath,mt({scroll:O&&L&&L.scroll},ve)):r.push(j.fullPath,ve)),l.value=j,G(j,ue,de,O),H()}let x;function B(){x||(x=r.listen((j,ue,de)=>{if(!he.listening)return;const Z=A(j),ve=V(Z);if(ve){S(mt(ve,{replace:!0}),Z).catch(Vu);return}u=Z;const re=l.value;Ca&&xQ(_E(re.fullPath,de.delta),hm()),I(Z,re).catch(O=>vr(O,12)?O:vr(O,2)?(S(O.to,Z).then(L=>{vr(L,20)&&!de.delta&&de.type===fc.pop&&r.go(-1,!1)}).catch(Vu),Promise.reject()):(de.delta&&r.go(-de.delta,!1),F(O,Z,re))).then(O=>{O=O||T(Z,re,!1),O&&(de.delta&&!vr(O,8)?r.go(-de.delta,!1):de.type===fc.pop&&vr(O,20)&&r.go(-1,!1)),E(Z,re,O)}).catch(Vu)}))}let U=ou(),$=ou(),K;function F(j,ue,de){H(j);const Z=$.list();return Z.length?Z.forEach(ve=>ve(j,ue,de)):console.error(j),Promise.reject(j)}function q(){return K&&l.value!==Zr?Promise.resolve():new Promise((j,ue)=>{U.add([j,ue])})}function H(j){return K||(K=!j,B(),U.list().forEach(([ue,de])=>j?de(j):ue()),U.reset()),j}function G(j,ue,de,Z){const{scrollBehavior:ve}=e;if(!Ca||!ve)return Promise.resolve();const re=!de&&RQ(_E(j.fullPath,0))||(Z||!de)&&history.state&&history.state.scroll||null;return Ke().then(()=>ve(j,ue,re)).then(O=>O&&PQ(O)).catch(O=>F(O,j,ue))}const te=j=>r.go(j);let ce;const Se=new Set,he={currentRoute:l,listening:!0,addRoute:m,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:v,resolve:A,options:e,push:N,replace:R,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:$.add,isReady:q,install(j){const ue=this;j.component("RouterLink",XV),j.component("RouterView",JV),j.config.globalProperties.$router=ue,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>gt(l)}),Ca&&!ce&&l.value===Zr&&(ce=!0,N(r.location).catch(ve=>{}));const de={};for(const ve in Zr)Object.defineProperty(de,ve,{get:()=>l.value[ve],enumerable:!0});j.provide(mm,ue),j.provide(QV,iT(de)),j.provide(pp,l);const Z=j.unmount;Se.add(j),j.unmount=function(){Se.delete(j),Se.size<1&&(u=Zr,x&&x(),x=null,l.value=Zr,ce=!1,K=!1),Z()}}};function oe(j){return j.reduce((ue,de)=>ue.then(()=>_(de)),Promise.resolve())}return he}function aX(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>gl(u,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>gl(u,l))||r.push(l))}return[n,i,r]}function lX(){return $e(mm)}const uX=jo({__name:"App",setup(e){return(t,n)=>(vi(),Cr(gt(JV)))}}),ZV="/ASLA/assets/logo-DW4Ev_FE.svg",cX=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},dX={};function fX(e,t){const n=zn("v-progress-circular");return vi(),Cr(n,{indeterminate:"",color:"primary"})}const hX=cX(dX,[["render",fX]]),Y_=oM("auth",()=>{const e=le(void 0);FF(Yd,async r=>{if(!r){e.value=null;return}e.value={...r}});async function t(r,s){await MF(Yd,r,s)}async function n(){await BF(Yd)}const i=lX();return _e(e,r=>{r!==void 0&&(r?i.currentRoute.value.path==="/login"&&i.push("/home"):i.push("/login"))},{immediate:!0}),{user:e,login:t,logout:n}});var mX={VITE_FIREBASE_API_KEY:"AIzaSyDR5ik7GoUZA142kws0i-b6NtfUAivS0WM",VITE_FIREBASE_AUTH_DOMAIN:"alex-set-list-app.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"alex-set-list-app",VITE_FIREBASE_STORAGE_BUCKET:"alex-set-list-app.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"252093619867",VITE_FIREBASE_APP_ID:"1:252093619867:web:fc5d6fbf1420e9d939703e",VITE_FIREBASE_MEASUREMENT_ID:"G-C44WH0WBW0",VITE_APP_NAME:"ASLA - Alex' Setlist App",VITE_APP_SHORT_NAME:"ASLA",VITE_APP_DESCRIPTION:"Alex' Setlist App",VITE_BASE_URL:"/ASLA/",BASE_URL:"/ASLA/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const gX={key:0,class:"d-flex justify-center align-center",style:{height:"100vh"}},vX={class:"mt-2 mb-10"},pX=Vs("h1",{class:"text-h4 mb-2"},"Login",-1),yX={key:0,class:"text-error"},_X=jo({__name:"LoginView",setup(e){const t=mX,n=Y_(),i=le(""),r=le(!1),s=le(""),o=rn({email:"",password:""});async function a(){try{await OF(Yd,o.email),s.value="Password reset email sent.",i.value=""}catch{i.value="No user found with this email."}}const l=async u=>{if((await u).valid){r.value=!0,i.value="",s.value="";try{await n.login(o.email,o.password)}catch{i.value="Wrong credentials."}r.value=!1}};return(u,c)=>{const d=zn("v-img"),h=zn("v-alert"),m=zn("v-text-field"),p=zn("v-btn"),v=zn("v-form"),y=zn("v-sheet"),A=zn("v-container");return gt(n).user===void 0?(vi(),fw("div",gX,[g(hX)])):(vi(),Cr(A,{key:1,class:"d-flex flex-column align-center"},{default:gi(()=>[g(d,{class:"mt-12 border rounded",width:"128",height:"128",src:ZV}),Vs("h2",vX,_o(gt(t).VITE_APP_NAME),1),g(y,{"max-width":"400",width:"400",class:"mx-auto"},{default:gi(()=>[pX,s.value?(vi(),Cr(h,{key:0,color:"success mb-2",text:s.value},null,8,["text"])):Mm("",!0),g(v,{"validate-on":"submit",onSubmit:Hg(l,["prevent"]),width:"100%"},{default:gi(()=>[g(m,{rules:[P=>!!P||"Please enter your password."],modelValue:o.email,"onUpdate:modelValue":c[0]||(c[0]=P=>o.email=P),label:"Email"},null,8,["rules","modelValue"]),g(m,{rules:[P=>!!P||"Please enter your email address."],modelValue:o.password,"onUpdate:modelValue":c[1]||(c[1]=P=>o.password=P),type:"password",label:"Password"},null,8,["rules","modelValue"]),i.value?(vi(),fw("p",yX,_o(i.value),1)):Mm("",!0),g(p,{loading:r.value,type:"submit",color:"primary",class:"me-2 mt-4"},{default:gi(()=>[si("Login")]),_:1},8,["loading"]),i.value?(vi(),Cr(p,{key:1,variant:"text",color:"primary",class:"mt-4",onClick:a},{default:gi(()=>[si("Forgot Password?")]),_:1})):Mm("",!0)]),_:1})]),_:1})]),_:1}))}}}),bX=Vs("img",{style:{filter:"invert()"},src:ZV,width:"40",height:"40",class:"mx-3 mt-2"},null,-1),wX={class:"me-3"},IX=jo({__name:"AppLayout",setup(e){const t="ASLA",n=Y_();return(i,r)=>{const s=zn("v-spacer"),o=zn("v-btn"),a=zn("v-toolbar"),l=zn("v-container"),u=zn("v-app");return vi(),Cr(u,null,{default:gi(()=>[g(a,{color:"primary",dark:"",class:"sticky-top"},{default:gi(()=>{var c;return[g(gt(XV),{to:"/home"},{default:gi(()=>[bX,si(" "+_o(gt(t)),1)]),_:1}),g(s),Vs("span",wX,_o((c=gt(n).user)==null?void 0:c.email),1),g(o,{"prepend-icon":"fas fa-sign-out",color:"white",variant:"outlined",onClick:gt(n).logout},{default:gi(()=>[si("Logout")]),_:1},8,["onClick"])]}),_:1}),g(l,null,{default:gi(()=>[bN(i.$slots,"default")]),_:3})]),_:3})}}}),SX=Vs("h4",null,"You are logged in!",-1),EX=jo({__name:"HomeView",setup(e){const t=Y_();return(n,i)=>(vi(),Cr(IX,null,{default:gi(()=>{var r;return[Vs("h2",null,"Hello "+_o((r=gt(t).user)==null?void 0:r.email),1),SX]}),_:1}))}}),TX=oX({history:MQ("/ASLA/"),routes:[{path:"/home",component:EX},{path:"/login",component:_X},{path:"/",redirect:"/login"}]}),CX=uR({components:$Y,directives:JY,theme:{defaultTheme:"customLightTheme",themes:{customLightTheme:{dark:!1,colors:{background:"#f7f7f7",surface:"#FFFFFF",primary:"#38A700",secondary:"#A72608"}}}},icons:{defaultSet:"fa",aliases:ZY,sets:{fa:eQ}}});nQ.extend(rQ);const $c=QO(uX);$c.use(eM());$c.use(TX);$c.use(Yj,{firebaseApp:kc,modules:[Wj()]});$c.use(CX);$c.mount("#app");
